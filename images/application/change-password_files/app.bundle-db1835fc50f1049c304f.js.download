/*! For license information please see app.bundle-db1835fc50f1049c304f.js.LICENSE.txt */
"use strict";(self.webpackChunkawesomescreenshot_website=self.webpackChunkawesomescreenshot_website||[]).push([[143],{42738:()=>{},76751:()=>{},91938:()=>{},87057:()=>{},70390:()=>{},14856:(e,t,n)=>{n.d(t,{IH:()=>T,PU:()=>_,R7:()=>N,Tb:()=>L,i:()=>E,kk:()=>k,sd:()=>A,zH:()=>C});n(91324);var r=n(45777),o=n(67294),i=n(85907),a=n(63077),c=n(94184),s=n.n(c),l=n(85893);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var x=["rgba(255, 0, 0,1)","rgba(255, 92, 0, 1)","rgba(250, 255, 0, 1)","rgba(36, 255, 0, 1)","rgba(0, 255, 240, 1)","rgba(0, 163, 255, 1)","rgba(144, 75, 255, 1)","rgba(255, 0, 229, 1)","rgba(255, 255, 255, 1)","rgba(0, 0, 0, 1)","rgba(244, 219, 121, 1)","rgba(248, 202, 65, 1)","rgba(246, 130, 61, 1)","rgba(226, 90, 59, 1)","rgba(242, 155, 126, 1)","rgba(217, 72, 70, 1)","rgba(160, 67, 72, 1)","rgba(228, 123, 135, 1)","rgba(198, 57, 69, 1)","rgba(198, 69, 101, 1)","rgba(165, 65, 90, 1)","rgba(151, 55, 143, 1)","rgba(112, 70, 140, 1)","rgba(79, 74, 142, 1)","rgba(94, 69, 128, 1)","rgba(67, 84, 104, 1)","rgba(34, 126, 169, 1)","rgba(59, 77, 105, 1)","rgba(47, 86, 165, 1)","rgba(25, 104, 173, 1)","rgba(72, 86, 145, 1)","rgba(11, 123, 185, 1)","rgba(74, 176, 209, 1)","rgba(22, 140, 152, 1)","rgba(22, 161, 134, 1)","rgba(33, 143, 106, 1)","rgba(45, 98, 90, 1)","rgba(80, 111, 80, 1)","rgba(93, 150, 73, 1)","rgba(120, 120, 71, 1)","transparent"],S=["Times New Roman","Arial","Craft Girls","OpenSans","Roboto","Montserrat","Limelight","Lobster","Anton","Chewy","Frijole","Spirax","Dancing Script","Changa One","Griffy"],I=[2,4,6,8,16],O=[6,8,16,32,48],E=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e)}return p(n,[{key:"shouldComponentUpdate",value:function(e){return e.disabled!==this.props.disabled||this.props.allowAdvancedTool!==e.allowAdvancedTool}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.action,o=e.title,i=e.handleClick,a=s()("tool-btn single-btn",{disabled:t}),c=s()(this.props.allowAdvancedTool?"":"pro");return(0,l.jsx)(r.Z,{title:o,children:(0,l.jsx)("div",{className:a,"data-action":n,onClick:i.bind(this,"action",{actionType:n}),children:(0,l.jsx)("b",{className:c})})})}}]),n}(o.Component),N=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={haveClickShape:!1},r.clickShape=r.clickShape.bind(w(r)),r.visibleChange=r.visibleChange.bind(w(r)),r}return p(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.current!==this.props.current||this.props.allowAdvancedTool!==e.allowAdvancedTool||this.props.selectShape!==e.selectShape||this.state.haveClickShape!==t.haveClickShape}},{key:"clickShape",value:function(){this.setState({haveClickShape:!1}),this.props.handleClick("shape",{shape:this.props.shape,shapeKey:this.props.shapeGroup})}},{key:"visibleChange",value:function(e){this.setState({haveClickShape:e})}},{key:"render",value:function(){var e=this.props,t=e.current,n=e.shape,o=e.title,i=e.active,a=e.selectShape,c=!1;a?a===n&&(c=!0):c=n===t||i;var u=s()("tool-btn single-btn "+n,{active:c}),d=s()(this.props.allowAdvancedTool?"":"pro");return(0,l.jsx)(r.Z,{title:o,placement:"bottom",visible:this.state.haveClickShape,mouseEnterDelay:0,mouseLeaveDelay:0,onVisibleChange:this.visibleChange,children:(0,l.jsx)("div",{className:u,"data-shape":n,onClick:this.clickShape,children:(0,l.jsx)("b",{className:d})})})}}]),n}(o.Component);function D(e){var t,n,r,i=e.current,a=e.defaultShape,c=e.handleClick,u=e.btns,d=e.allowAdvancedTool,f=e.selectShape,m=e.shapeGroup;(0,o.useEffect)((function(){}),[f]);return function(){var o;o=!1,u&&u.forEach((function(e){f?e.shape==f&&(o=!0,t=e.title,n=e.shape):(e.shape===i&&(o=!0),e.shape===a&&(t=e.title,n=e.shape))})),f&&!o&&u.forEach((function(e){e.shape===a&&(t=e.title,n=e.shape)})),r=o;var h=s()("menu",{active:r});return(0,l.jsxs)("div",{className:"subMenu",children:[(0,l.jsx)(N,{title:t,shape:n,active:r,selectShape:f||"",current:i,shapeGroup:m,handleClick:c,onToolBar:!0,allowAdvancedTool:d}),(0,l.jsx)("div",{className:h,children:e.children()})]})}()}var A=o.memo(D,(function(e,t){return t.currentShapeKey!==e.shapeGroup&&e.currentShapeKey!==e.shapeGroup&&e.allowAdvancedTool===t.allowAdvancedTool&&e.currentShape===t.currentShape&&e.defaultShape!==t.selectShape})),C=o.memo(P,(function(e,t){return e.currentColor===t.currentColor}));function P(e){var t=this,n=e.recentColors,c=e.currentColor,s=e.stroke,u=e.handleColorClick,f=e.shapeKey,m=d((0,o.useState)(!0),2),h=m[0],p=m[1],v=d((0,o.useState)(c),2),y=v[0],g=v[1];function b(e){return"rgb(239, 239, 239)"===e||"rgb(243, 243, 243)"===e||"rgb(255, 255, 255)"===e||"rgb(252, 229, 205)"===e||"rgb(255, 242, 204)"===e?"#bdc1c6":"transparent"}function w(e,t){u(e,!!t),g(e)}return(0,o.useEffect)((function(){c!==y&&g(c)}),[c]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"color-header",children:[(0,l.jsxs)("div",{className:"color-values",children:[(0,l.jsx)("div",{className:"color-icon","data-color":y,style:{backgroundColor:y}}),(0,l.jsx)(i.ZE,{color:(0,a.jg)(y),onChange:w,onClick:function(e){e.target.select()},alpha:!0,prefixed:!0})]}),(0,l.jsx)(r.Z,{title:"More Colors",placement:"right",children:(0,l.jsx)("div",{className:"change-action",style:{backgroundColor:h?"":"#26272D"},onClick:function(){p(!h)}.bind(this),children:(0,l.jsx)("b",{})})})]}),(0,l.jsx)("div",{className:"color-content",children:h?x.map((function(e,n){return"transparent"!==e?(0,l.jsx)("div",{className:"color-item","data-color":e,title:e,style:{backgroundColor:e,borderColor:b(e)},onClick:w.bind(t,e,"item")},f+e+n):s?(0,l.jsx)("div",{className:"color-item transparent","data-color":"transparent",title:"transparent",style:{backgroundColor:"#666666",borderColor:b("transparent")},onClick:w.bind(t,"transparent","item")},"transparent"+f):void 0})):(0,l.jsx)(i.gW,{color:(0,a.jg)(y),onChange:w})}),(0,l.jsxs)("div",{className:"color-foot",children:[(0,l.jsx)("span",{children:"Recent Colors"}),(0,l.jsx)("div",{className:"recent-colors",children:n.map((function(e,n){return(0,l.jsx)("div",{className:"color-item recent-item","data-color":e,title:e,style:{backgroundColor:e,borderColor:b(e)},onClick:w.bind(t,e,"item")},e+f+n)}))})]})]})}function k(e){var t=this,n=e.style,i=e.selectShape,a=e.shapeKey,c=e.clickItem,u=d((0,o.useState)(!1),2),f=u[0],m=u[1],h=!1;if(n)var p=n.width;"highlight"!==a||n&&n.width||(p=16);var v="highlight"===a;i&&(p=i.penWidth,"highlight"===i.shapeName&&(v=!0));var y=p;function g(e){m((!e||!h)&&e)}return(0,l.jsx)(_,{className:"tool-pen-width multi-btn",children:function(e,n){var o=s()("panel",{active:e.isExpand});e.isExpand&&m(!1),h=e.isExpand;var i=function(e){n(),y=e,c("action",{actionType:"changePenWidth",value:e,shapeKey:a})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{title:"Stroke width",placement:"bottom",visible:f,onVisibleChange:g,children:(0,l.jsxs)("div",{className:"current",id:"tool-current-width","data-width":y||p,children:[(0,l.jsxs)("div",{className:"tool-current-width "+(v?"highlight":""),children:[(0,l.jsx)("span",{children:y||p}),(0,l.jsx)("b",{})]}),(0,l.jsx)("div",{className:"multi-btn-arrow"})]})}),(0,l.jsx)("div",{className:o,children:v?O.map((function(e,n){return(0,l.jsxs)("div",{className:"pen-width-item "+(e===y?"checked":""),"data-width":n+1,onClick:i.bind(t,e),children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("b",{})]},e)})):I.map((function(e,n){return(0,l.jsxs)("div",{className:"pen-width-item "+(e===y?"checked":""),"data-width":n+1,onClick:i.bind(t,e),children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("b",{})]},e)}))})]})}})}function T(e){var t=this,n=e.style,i=e.selectShape,a=e.shapeKey,c=e.clickItem,u=d((0,o.useState)(!1),2),f=u[0],m=u[1],h=!1,p=n.fontFamily;i&&i.fontName&&(p=i.fontName);var v=p;function y(e){m((!e||!h)&&e)}return(0,l.jsx)(_,{className:"tool-font-family multi-btn",children:function(e,n){var o=s()("panel",{active:e.isExpand});h=e.isExpand,e.isExpand&&m(!1);var i=function(e){n(),v=e,c("action",{actionType:"changeFontFamily",value:e,shapeKey:a})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{title:"Font",placement:"bottom",visible:f,onVisibleChange:y,children:(0,l.jsxs)("div",{className:"tool-current-font-family btn-border current",id:"tool-current-font-family","data-ff":v||p,children:[(0,l.jsx)("span",{children:v||p}),(0,l.jsx)("div",{className:"btn-down-arrow"})]})}),(0,l.jsx)("div",{className:o,children:S.map((function(e){return(0,l.jsx)("div",{className:"font-f-item "+(v===e?"checked":""),"data-ff":e,onClick:i.bind(t,e),children:e},e)}))})]})}})}var L=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={isExpand:!1},r.toggle=r.toggle.bind(w(r)),r.clickView=r.clickView.bind(w(r)),r.elementContains=r.elementContains.bind(w(r)),r.el=(0,o.createRef)(),r}return p(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.clickView)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickView)}},{key:"elementContains",value:function(e,t){return e!==t&&e.contains(t)||e===t}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.isExpand===this.state.isExpand&&e.allowAdvancedTool===this.props.allowAdvancedTool&&!t.isExpand&&e.color===this.props.color)}},{key:"clickView",value:function(e){var t=this.el.current.querySelector("."+this.props.checkView);this.elementContains(t,e.target)||(this.elementContains(this.el.current,e.target)?(this.toggle(),this.props.handleClick&&this.props.handleClick("action",{actionType:"ToolColorSelect"})):this.state.isExpand&&this.setState({isExpand:!this.state.isExpand}))}},{key:"toggle",value:function(){this.setState({isExpand:!this.state.isExpand})}},{key:"render",value:function(){var e=s()("tool-select "+(this.state.isExpand?"expand":""),this.props.className);return(0,l.jsx)("div",{className:e,tabIndex:"0",ref:this.el,children:this.props.children(this.state,this.toggle)})}}]),n}(o.Component),_=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={isExpand:!1},r.toggle=r.toggle.bind(w(r)),r.el=(0,o.createRef)(),r}return p(n,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"toggle",value:function(){var e=this;this.state.isExpand&&this.el.current.blur(),this.setState({isExpand:!this.state.isExpand},(function(){e.props.onPopupShown&&e.props.onPopupShown(e.state.isExpand)}))}},{key:"render",value:function(){var e=s()("tool-select "+(this.state.isExpand?"expand":""),this.props.className);return(0,l.jsx)("div",{className:e,tabIndex:"0",onFocus:this.toggle,onBlur:this.toggle,ref:this.el,children:this.props.children(this.state,this.toggle)})}}]),n}(o.Component)},54748:(e,t,n)=>{n.d(t,{Z:()=>g});n(47386);var r=n(48889),o=(n(85624),n(71577));const i=n.p+"images/534a9fb4242d793c9941.png",a=n.p+"images/f9b939c51a78a590b2ba.png",c=n.p+"images/5d9b6fa5d20d4df7e53f.png",s=n.p+"images/68f3e6b1a633df7ae925.png";var l=n(27484),u=n.n(l),d=n(73935),f=n(31302),m=n(67294),h=n(67618);const p=function(e){var t=e.type;return(0,m.useEffect)((function(){(0,h.I1)(t,{event_category:"upgrade modal show"})}),[]),null};var v=n(85893),y=["callout","list","image","insertImage"];function g(e){var t="workspace"===e.type?"Go to workspace":(0,v.jsx)(v.Fragment,{children:"Upgrade now"});return(0,v.jsx)(r.Z,{visible:e.visible,onCancel:e.onCancel,footer:null,width:436,getContainer:!1,maskClosable:!1,wrapClassName:"upgrade-modal ".concat("video-record-50"===e.type?"limit-alert":""),destroyOnClose:!0,maskStyle:"video-record-50"===e.type?{position:"absolute"}:void 0,centered:!0,closable:!e.unClosable,closeIcon:(0,v.jsx)(f.T,{style:{fontSize:"12px"}}),children:(0,v.jsxs)("div",{className:"upgrade-panel",children:[(0,v.jsx)(p,{type:e.deadline?"expireVisit":e.type}),(0,v.jsx)("div",{className:"crown",children:(0,v.jsx)(f.C,{})}),(0,v.jsx)("div",{className:"title",children:"5limit"===e.type?"Your free trial has ended":"workspace"===e.type?"Workspace Limit Reached":"edit-duration"===e.type?"Get more with Professional plan":"trash-restore"===e.type?"Item Limit Reached":"video-record-50"===e.type||"download-duration"===e.type?"Limited Access":"Item Limit Reached"}),(0,v.jsx)("p",{children:-1!==y.indexOf(e.type)?"This is a basic plan feature. Please upgrade to unlock it.":"dropbox"===e.type?"Upgrade to premium plans to save to Dropbox.":"box"===e.type?"Upgrade to premium plans to save to Box.":"team"===e.type?"Upgrade to team plan to unlock the feature.":"project"===e.type?"Upgrade to premium plans to get unlimited folders.":"uploadImage"===e.type?"Upgrade to premium plans to host unlimited images.":"uploadVideo"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to host unlimited videos."]}):"recordResolution"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to unlock the high resolution recording feature.",(0,v.jsx)("br",{}),"High resolution video takes lots of disk space, so you need to upgrade to use this feature."]}):"video-record-50"===e.type?e.deadline?(0,v.jsxs)(v.Fragment,{children:["Your premium plan has expired. You will not be able to access your videos after"," ",(0,v.jsx)("strong",{children:u().unix(e.deadline).format("MMM DD, YYYY")}),". Upgrade to the Professional plan for unlimited access."]}):(0,v.jsx)(v.Fragment,{children:"You have reached a limit for sharing and downloading your video. Upgrade to Professional plan for unlimited access."}):"image-view"===e.type?(0,v.jsx)(v.Fragment,{children:"This image is not accessible because you have reached the limit on image access. Please upgrade your plan for unlimited access."}):["annotate-save-as","image-alert"].includes(e.type)||"duplicate"===e.type?(0,v.jsxs)(v.Fragment,{children:["You have reached the limit on image. Please upgrade to"," ",(0,v.jsx)("b",{children:"Professional plan"})," for unlimited images."]}):"video-alert"===e.type?(0,v.jsxs)(v.Fragment,{children:["You have reached the limit on video. Please upgrade to"," ",(0,v.jsx)("b",{children:"Professional plan"})," for unlimited recording."]}):["download","editor"].includes(e.type)?(0,v.jsxs)(v.Fragment,{children:["Please upgrade to ",(0,v.jsx)("b",{children:"Professional plan"})," to unlock this feature."]}):"5limit"===e.type?(0,v.jsx)(v.Fragment,{children:"Your video can be up to 5 minutes long. To access unlimited video length, please upgrade your account to Professional."}):"video-editor"===e.type?(0,v.jsxs)(v.Fragment,{children:["Please upgrade to ",(0,v.jsx)("b",{children:"Professional plan"})," to unlock this feature."]}):"workspace"===e.type?"This workspace has reached the limit. Pleace upgrade the workspace.":"download-duration"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to a ",(0,v.jsx)("b",{children:"Professional or higher plan"})," to download recordings longer than one hour."]}):"edit-duration"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to edit videos longer than one hour."]}):"trash-restore"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to unlock unlimited videos and images."]}):"Upgrade to Professional to unlock the feature."}),function(){switch(e.type){case"callout":return(0,v.jsx)("img",{src:i,alt:""});case"list":return(0,v.jsx)("img",{src:s,alt:""});case"image":return(0,v.jsx)("img",{src:a,alt:""});case"insertImage":return(0,v.jsx)("img",{src:c,alt:""});default:return""}}(),(0,v.jsx)(o.Z,{className:"up-btn",size:"large",type:"primary",onClick:function(){var t=e.deadline?"expireVisit":e.type;window.open("https://www.awesomescreenshot.com/pricing?from="+t)},icon:(0,v.jsx)(f.C,{}),children:t})]})})}g.show=function(e){var t=!0,n=document.createDocumentFragment();function r(){t=!1,d.render((0,v.jsx)(g,{type:e,visible:t,onCancel:r}),n)}setTimeout((function(){d.render((0,v.jsx)(g,{type:e,visible:t,onCancel:r}),n)}))}},13449:(e,t,n)=>{n.d(t,{Z:()=>en});n(47386);var r=n(48889),o=n(67294),i=(n(85624),n(71577)),a=(n(28763),n(34041)),c=n(1646),s=n.n(c),l=n(6700),u=n(94184),d=n.n(u),f=n(63077),m=n(59102),h=n(17646),p=(n(15285),n(71257)),v=(n(16154),n(47933)),y=n(85893);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=a.Z.Option,j=a.Z.OptGroup,x=v.ZP.Group,S={};const I=function(e){var t=e.currentAccount,n=g((0,o.useState)([]),2),r=n[0],c=n[1],s=g((0,o.useState)(!1),2),l=s[0],u=s[1],d=g((0,o.useState)([]),2),f=d[0],b=d[1];(0,o.useEffect)((function(){u(!0),Promise.all([(0,m.VY)({accountID:t.id,what:"channel"}),(0,m.VY)({accountID:t.id,what:"member"})]).then((function(e){var t=e[0].items.concat(e[1].items);c(t.filter((function(e){return e.added}))),b(t.filter((function(e){return!e.added}))),S={},t.forEach((function(e){S[e.id]=e})),u(!1)})).catch((function(){u(!1)}))}),[t.id]);var I=h.xR.slack;return(0,y.jsxs)(p.Z,{onFinish:function(n){(0,m.HK)(t.id,S[n.channel].type,n.channel,S[n.channel].name,n.privacy,S[n.channel].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:I.targetName}),(0,y.jsx)(p.Z.Item,{name:"channel",rules:[{required:!0,message:"Please choose a channel or member"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:I.placeHolder,disabled:l,loading:r.length+f.length===0||l,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[r.length&&(0,y.jsx)(j,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(w,{value:e.id,name:e.name,disabled:!0,children:h.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(j,{label:"Available",children:f.map((function(e){return(0,y.jsx)(w,{value:e.id,name:e.name,children:h.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(p.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(x,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(i.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=a.Z.Option,D=a.Z.OptGroup,A=v.ZP.Group,C={};const P=function(e){var t=e.currentAccount,n=O((0,o.useState)([]),2),r=n[0],c=n[1],s=O((0,o.useState)([]),2),l=s[0],u=s[1];(0,o.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"board"}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),u(t.filter((function(e){return!e.added}))),C={},t.forEach((function(e){C[e.id]=e}))}))}),[]);var d=h.xR.trello;return(0,y.jsxs)(p.Z,{onFinish:function(n){(0,m.HK)(t.id,C[n.channel].type,n.channel,C[n.channel].name,n.privacy,C[n.channel].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:d.targetName}),(0,y.jsx)(p.Z.Item,{name:"channel",rules:[{required:!0,message:"Please choose a board"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:d.placeHolder,loading:r.length+l.length===0,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[r.length&&(0,y.jsx)(D,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(N,{value:e.id,name:e.name,disabled:!0,children:h.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(D,{label:"Available",children:l.map((function(e){return(0,y.jsx)(N,{value:e.id,name:e.name,children:h.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(p.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(A,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(i.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=a.Z.Option,_=a.Z.OptGroup,R=v.ZP.Group,M={},Z={};const F=function(e){var t=e.currentAccount,n=k((0,o.useState)([]),2),r=n[0],c=n[1],s=k((0,o.useState)([]),2),l=s[0],u=s[1],d=k((0,o.useState)([]),2),f=d[0],g=d[1];(0,o.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"workspace"}).then((function(e){var t=e.items;c(t),w(t[0].id),Z={},t.forEach((function(e){Z[e.id]=e}))}))}),[]);var b=h.xR.asana;function w(e){u([]),g([]),(0,m.VY)({accountID:t.id,what:"project",workspaceID:e}).then((function(e){var t=e.items;u(t.filter((function(e){return e.added}))),g(t.filter((function(e){return!e.added}))),M={},t.forEach((function(e){M[e.id]=e}))}))}return(0,y.jsxs)(p.Z,{onFinish:function(n){(0,m.HK)(t.id,"project",n.project,M[n.project].name,n.privacy,M[n.project].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:b.targetName1}),(0,y.jsx)(p.Z.Item,{name:"workspace",rules:[{required:!0,message:"Please choose a workspace"}],children:(0,y.jsx)(a.Z,{size:"large",placeholder:b.placeHolder1,loading:0===r.length,onChange:function(e){w(e)},children:r.map((function(e){return(0,y.jsx)(L,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:b.targetName2}),(0,y.jsx)(p.Z.Item,{name:"project",rules:[{required:!0,message:"Please choose a project"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:b.placeHolder2,loading:l.length+f.length===0,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[l.length&&(0,y.jsx)(_,{label:"Already Added",children:l.map((function(e){return(0,y.jsx)(L,{value:e.id,name:e.name,disabled:!0,children:h.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(_,{label:"Available",children:f.map((function(e){return(0,y.jsx)(L,{value:e.id,name:e.name,children:h.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(p.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(R,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(i.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=a.Z.Option,V=a.Z.OptGroup,B=v.ZP.Group,W={};const z=function(e){var t=e.currentAccount,n=U((0,o.useState)([]),2),r=n[0],c=n[1],s=U((0,o.useState)([]),2),l=s[0],u=s[1],d=function(e){(0,m.VY)({accountID:t.id,what:"folder",query:e}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),u(t.filter((function(e){return!e.added}))),W={},t.forEach((function(e){W[e.id]=e}))}))};(0,o.useEffect)((function(){d()}),[]);var f=h.xR.googleDrive;return(0,y.jsxs)(p.Z,{onFinish:function(n){(0,m.HK)(t.id,W[n.folder].type,n.folder,W[n.folder].name,n.privacy,W[n.folder].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:f.targetName}),(0,y.jsxs)(p.Z.Item,{name:"folder",rules:[{required:!0,message:"choose a folder"}],children:[(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:f.placeHolder,loading:r.length+l.length===0,onSearch:function(e){d(e)},filterOption:!1,children:[r.length&&(0,y.jsx)(V,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(G,{value:e.id,disabled:!0,children:h.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(V,{label:"Available",children:l.map((function(e){return(0,y.jsx)(G,{value:e.id,children:h.BT[e.type]+e.name},e.id)}))})]}),(0,y.jsx)("div",{className:"tip",children:"Only 10 recent folders are listed. Type and search for other folders."})]}),(0,y.jsx)(p.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(B,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(i.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=a.Z.Option,q=a.Z.OptGroup,J=v.ZP.Group,X={};const $=function(e){var t=e.currentAccount,n=K((0,o.useState)([]),2),r=n[0],c=n[1],s=K((0,o.useState)([]),2),l=s[0],u=s[1];(0,o.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"repo"}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),u(t.filter((function(e){return!e.added}))),X={},t.forEach((function(e){X[e.id]=e}))}))}),[]);var d=h.xR.github;return(0,y.jsxs)(p.Z,{onFinish:function(n){(0,m.HK)(t.id,X[n.repo].type,n.repo,X[n.repo].name,n.privacy,X[n.repo].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:d.targetName}),(0,y.jsx)(p.Z.Item,{name:"repo",rules:[{required:!0,message:"Please choose a channel or member"}],children:(0,y.jsxs)(a.Z,{size:"large",placeholder:d.placeHolder,loading:r.length+l.length===0,showSearch:!0,onSearch:function(e){},filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[r.length&&(0,y.jsx)(q,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(Q,{value:e.id,name:e.info.owner+e.name,disabled:!0,children:h.BT[e.type]+e.info.owner+"/"+e.name},e.id)}))}),(0,y.jsx)(q,{label:"Available",children:l.map((function(e){return(0,y.jsx)(Q,{value:e.id,name:e.info.owner+e.name,children:h.BT[e.type]+e.info.owner+"/"+e.name},e.id)}))})]})}),(0,y.jsx)(p.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(J,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(i.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=a.Z.Option,re=a.Z.OptGroup,oe=v.ZP.Group,ie={},ae={};const ce=function(e){var t=e.currentAccount,n=ee((0,o.useState)([]),2),r=n[0],c=n[1],s=ee((0,o.useState)([]),2),l=s[0],u=s[1],d=ee((0,o.useState)([]),2),f=d[0],g=d[1];(0,o.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"cloud"}).then((function(e){var t=e.items;c(t),w(t[0].id,t[0].name),ae={},t.forEach((function(e){ae[e.id]=e}))}))}),[]);var b=h.xR.jira;function w(e,n){u([]),g([]),(0,m.VY)({accountID:t.id,what:"project",cloudID:e,cloudName:n}).then((function(e){var t=e.items;u(t.filter((function(e){return e.added}))),g(t.filter((function(e){return!e.added}))),ie={},t.forEach((function(e){ie[e.id]=e}))}))}return(0,y.jsxs)(p.Z,{onFinish:function(n){(0,m.HK)(t.id,"project",n.project,ie[n.project].name,n.privacy,ie[n.project].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:b.targetName1}),(0,y.jsx)(p.Z.Item,{name:"site",rules:[{required:!0,message:"Please choose a site"}],children:(0,y.jsx)(a.Z,{size:"large",placeholder:b.placeHolder1,loading:0===r.length,onChange:function(e){w(e,ae[e].name)},children:r.map((function(e){return(0,y.jsx)(ne,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:b.targetName2}),(0,y.jsx)(p.Z.Item,{name:"project",rules:[{required:!0,message:"Please choose a project"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:b.placeHolder2,loading:l.length+f.length===0,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[l.length&&(0,y.jsx)(re,{label:"Already Added",children:l.map((function(e){return(0,y.jsx)(ne,{value:e.id,name:e.name,disabled:!0,children:h.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(re,{label:"Available",children:f.map((function(e){return(0,y.jsx)(ne,{value:e.id,name:e.name,children:h.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(p.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(oe,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(i.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};var se=n(54748),le=n(27484),ue=n.n(le);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==de(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===de(i)?i:String(i)),r)}var o,i}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var ge={},be=a.Z.Option;a.Z.OptGroup;ue().extend(s());const we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}(c,e);var t,n,r,o=he(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={isInAuthMode:!1,isLoadList:!1,currentResources:[],createAccount:"",createPrivacy:"private",createResource:null,isCreating:!1,currentAccount:e.currentAccount||(e.accounts?e.accounts[0]:null)||null,isShownUpgrade:!1},t.chooseDes=t.chooseDes.bind(ve(t)),t.back=t.back.bind(ve(t)),t.handleAccountChange=t.handleAccountChange.bind(ve(t)),t.handleConnect=t.handleConnect.bind(ve(t)),t.handlePrivacyChange=t.handlePrivacyChange.bind(ve(t)),t.handleResourceChange=t.handleResourceChange.bind(ve(t)),t.updateCurrentResources=t.updateCurrentResources.bind(ve(t)),t.handleMessage=t.handleMessage.bind(ve(t)),t.onAccountConnected=t.onAccountConnected.bind(ve(t)),t.handleUpgradeCancel=t.handleUpgradeCancel.bind(ve(t)),t.getPermissionByName=t.getPermissionByName.bind(ve(t)),t.getFreeTrialTip=t.getFreeTrialTip.bind(ve(t)),t.getIsShowPro=t.getIsShowPro.bind(ve(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage)}},{key:"handleMessage",value:function(e){if("accountConnected"===e.data.name){var t=JSON.parse(e.data.data);this.setState({isInAuthMode:!1}),this.onAccountConnected(t)}}},{key:"handleUpgradeCancel",value:function(){this.setState({isShownUpgrade:!1})}},{key:"onAccountConnected",value:function(e){this.props.handleAccountConnected(e),this.setState({currentAccount:e})}},{key:"chooseDes",value:function(e){this.getPermissionByName(e)?this.setState({isInAuthMode:!0,createAccount:e}):this.setState({isShownUpgrade:!0})}},{key:"getPermissionByName",value:function(e){return"googleDrive"===e?this.props.permissions["allow".concat((0,f.fm)(e))]:this.props.permissions["allow".concat((0,f.fm)(e))]||"free"!==this.props.currentPlan.PlanName}},{key:"getFreeTrialTip",value:function(){var e=this.props.permissions;if(e.trailConnectedAccountExpireTimeSecond>0){if(e.trailConnectedAccountExpireTimeSecond>Date.now()/1e3){var t=1e3*e.trailConnectedAccountExpireTimeSecond-Date.now(),n=ue().duration(t,"milliseconds").asDays();if(n<1)var r="less than a day";else r=Math.ceil(n)+" days";return(0,y.jsxs)(y.Fragment,{children:["Free trial for pro services ends in ",r,".",(0,y.jsxs)("a",{target:"_blank",href:"https://www.awesomescreenshot.com/pricing",children:[" ","Upgrade now"]})]})}return(0,y.jsxs)(y.Fragment,{children:["The 7-days free trial was expired.",(0,y.jsxs)("a",{target:"_blank",href:"https://www.awesomescreenshot.com/pricing",children:[" ","Upgrade now"]})]})}return-1===e.trailConnectedAccountExpireTimeSecond?"":0===e.trailConnectedAccountExpireTimeSecond?"7-days free trial for pro services":void 0}},{key:"handleConnect",value:function(){(0,m.N6)(this.state.createAccount).then((function(e){var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;window.open(e.URI,"",t)}))}},{key:"handlePrivacyChange",value:function(e){this.setState({createPrivacy:e.target.value})}},{key:"handleResourceChange",value:function(e){this.setState({createResource:e})}},{key:"updateCurrentResources",value:function(e){ge={},e.forEach((function(e){ge[e.id]=e})),this.setState({currentResources:e,isLoadList:!1})}},{key:"handleAccountChange",value:function(e){this.setState({currentAccount:"add"===e?null:this.props.accountHash[e]})}},{key:"getIsShowPro",value:function(){return"free"===this.props.currentPlan.PlanName||"basic"===this.props.currentPlan.PlanName}},{key:"back",value:function(){this.setState({isInAuthMode:!1})}},{key:"render",value:function(){var e=this,t=this.props.accounts,n=this.state,r=n.currentResources,o=(n.isLoadList,n.createResource,n.createPrivacy,n.createAccount),c=(n.isCreating,n.currentAccount),s=n.isShownUpgrade;return r.filter((function(e){return e.added})),r.filter((function(e){return!e.added})),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"add-des-panel",children:this.state.isInAuthMode?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"top",children:(0,y.jsxs)("div",{className:"back-btn",onClick:this.back,children:[(0,y.jsx)(l.Z,{}),"Choose another integration"]})}),(0,y.jsx)("div",{className:"connect-panel",children:(0,y.jsxs)("div",{className:"box",children:[(0,y.jsxs)("div",{className:"main-box",children:[(0,y.jsx)("div",{className:"pic",children:(0,y.jsx)("div",{className:"logo ".concat(o)})}),(0,y.jsxs)("div",{className:"content",children:[(0,y.jsx)("div",{className:"logo ".concat(o)}),(0,y.jsxs)("div",{className:"title",children:["Integrate ",h.xR[o].displayName]}),(0,y.jsx)("div",{className:"sub-title",children:h.xR[o].panelSubTitle}),(0,y.jsx)("ul",{children:h.xR[o].featureLists.map((function(e,t){return(0,y.jsx)("li",{children:e},t)}))})]})]}),(0,y.jsxs)(i.Z,{type:"primary",size:"large",onClick:this.handleConnect,children:["Connect with ",h.xR[o].displayName]})]})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"title",children:c?"Create a new destination":"Connect a new account"}),(t&&t.length)>0&&(0,y.jsxs)("div",{className:"account-select",children:[(0,y.jsx)("div",{className:"label",children:"Connected account"}),(0,y.jsxs)(a.Z,{size:"large",value:c?c.id:"add",onChange:this.handleAccountChange,children:[t.map((function(e){var t=d()("account-logo",e.service);return(0,y.jsxs)(be,{value:e.id,children:[(0,y.jsx)("div",{className:t}),h.xR[e.service].displayName," (",e.userInfo.name,")"]},e.id)})),(0,y.jsxs)(be,{value:"add",children:[(0,y.jsx)("div",{className:"account-logo add"}),"Connect to a new account"]})]})]}),function(){if(c)return(0,y.jsx)("div",{className:"des-select",children:(0,y.jsx)("div",{className:"account-des-select",children:"slack"===c.service?(0,y.jsx)(I,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"trello"===c.service?(0,y.jsx)(P,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"asana"===c.service?(0,y.jsx)(F,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"googleDrive"===c.service?(0,y.jsx)(z,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"github"===c.service?(0,y.jsx)($,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"jira"===c.service?(0,y.jsx)(ce,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):void 0})});var t="saveElsewhere"===e.props.servicesType?h.Br:h.SX;return(0,y.jsxs)("div",{className:"service-container",children:["saveElsewhere"!==e.props.servicesType&&(0,y.jsx)("div",{className:"trial-tip",children:e.getFreeTrialTip()}),(0,y.jsx)("div",{className:"label",children:"Services"}),(0,y.jsx)("div",{className:"account-container",children:t.map((function(t){var n=d()("account-item",t.name,{pro:e.getIsShowPro()});return(0,y.jsx)("div",{className:n,"data-des":t.name,onClick:e.chooseDes.bind(null,t.name),children:(0,y.jsx)("b",{})},t.name)}))})]})}()]})}),(0,y.jsx)(se.Z,{visible:s,onCancel:this.handleUpgradeCancel,type:"destination"})]})}}])&&fe(t.prototype,n),r&&fe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component);n(57432);var je=n(27049),xe=(n(93506),n(54458)),Se=(n(50626),n(48086)),Ie=(n(11947),n(38648)),Oe=n(7085),Ee=(n(79133),n(32787));const Ne=function(e){return(0,y.jsx)("div",{className:"slack-form",children:(0,y.jsxs)(p.Z,{onFinish:function(t){e.handleSend(t)},children:[(0,y.jsx)("div",{className:"label",children:"Message"}),(0,y.jsx)(p.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:4},onChange:e.handleSlackMsgChange})}),(0,y.jsx)(p.Z.Item,{children:(0,y.jsx)(i.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Send message"})})]})})};n(60523);var De=n(68351),Ae=(n(29844),n(3748)),Ce=n(58491),Pe=n(57254);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=a.Z.Option;const _e=function(e){var t=ke((0,o.useState)(!1),2),n=t[0],r=t[1],c=ke((0,o.useState)([]),2),s=c[0],l=c[1],u=ke((0,o.useState)([]),2),d=u[0],f=u[1],h=ke((0,o.useState)([]),2),v=h[0],g=h[1],b=e.resourceID,w=e.currentDes;return(0,o.useEffect)((function(){(0,m.VY)({accountID:w.accountID,what:"list",boardID:b}).then((function(e){l(e.items)})),(0,m.VY)({accountID:w.accountID,what:"member",boardID:b}).then((function(e){f(e.items)})),(0,m.VY)({accountID:w.accountID,what:"label",boardID:b}).then((function(e){g(e.items)}))}),[b]),(0,y.jsx)("div",{className:"trello-form",children:(0,y.jsxs)(p.Z,{onFinish:function(t){var n={};t.description&&(n.description=void 0===t.description?"":t.description),n.listID=t.list,t.title&&(n.title=t.title),t.members&&(n.membersID=t.members.join(",")),t.labels&&(n.labelsID=t.labels.join(",")),t.dueDate&&!t.dueTime?n.date=t.dueDate.format("YYYY-MM-DD"):t.dueDate&&t.dueTime&&(n.datetime=ue().utc(t.dueDate.format("YYYY-MM-DD")+"T"+t.dueTime.format().replace(/(.*)T/,""))),e.handleSend(n)},children:[(0,y.jsx)("div",{className:"label",children:"List"}),(0,y.jsx)(p.Z.Item,{name:"list",rules:[{required:!0,message:"Please choose a list"}],initialValue:s.length?s[0].id:void 0,children:(0,y.jsx)(a.Z,{size:"large",placeholder:"Please choose a list",showSearch:!0,filterOption:function(e,t){return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:s.map((function(e){return(0,y.jsx)(Le,{value:e.id,name:e.name,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Card title"}),(0,y.jsx)(p.Z.Item,{name:"title",initialValue:e.tabTitle,children:(0,y.jsx)(Ee.Z,{size:"large",autoComplete:"off"})}),n&&(0,y.jsxs)("div",{className:"ad-fields",children:[(0,y.jsx)("div",{className:"label",children:"Description"}),(0,y.jsx)(p.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}),(0,y.jsx)("div",{className:"label",children:"Members"}),(0,y.jsx)(p.Z.Item,{name:"members",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Select members",showSearch:!0,filterOption:function(e,t){return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:d.map((function(e){return(0,y.jsx)(Le,{value:e.id,name:e.name,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Labels"}),(0,y.jsx)(p.Z.Item,{name:"labels",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Select a label",className:"label-select trello-member-select",showSearch:!0,filterOption:function(e,t){return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},dropdownClassName:"trello-label-dropdown",children:v.map((function(e){return(0,y.jsx)(Le,{value:e.id,name:e.name,children:(0,y.jsx)("div",{className:"trello-label-item "+e.info.color,children:e.name})},e.id)}))})}),(0,y.jsxs)("div",{className:"half-form",children:[(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Date"}),(0,y.jsx)(p.Z.Item,{name:"dueDate",children:(0,y.jsx)(Ae.Z,{size:"large"})})]}),(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Time"}),(0,y.jsx)(p.Z.Item,{name:"dueTime",children:(0,y.jsx)(De.Z,{size:"large",use12Hours:!0,format:"h:mm A",className:"due-time-picker"})})]})]})]}),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){r(!n)},children:n?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(i.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create card"})})]})})};function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze=a.Z.Option;const Fe=function(e){var t=Re((0,o.useState)(!1),2),n=t[0],r=t[1],c=Re((0,o.useState)([]),2),s=c[0],l=c[1],u=Re((0,o.useState)([]),2),d=u[0],f=u[1],h=Re((0,o.useState)([]),2),v=h[0],g=h[1],b=e.currentDes,w=b.info.workspaceID,j=b.resourceID;return(0,o.useEffect)((function(){(0,m.VY)({accountID:b.accountID,what:"section",projectID:j}).then((function(e){l(e.items)})),(0,m.VY)({accountID:b.accountID,what:"member",projectID:j}).then((function(e){f(e.items)})),(0,m.VY)({accountID:b.accountID,what:"tag",workspaceID:w}).then((function(e){g(e.items)}))}),[j]),(0,y.jsx)("div",{className:"trello-form",children:(0,y.jsxs)(p.Z,{onFinish:function(t){var n={};t.description&&(n.description=t.description),t.section&&"-1"!==t.section&&(n.sectionID=t.section),t.title&&(n.title=t.title),t.tags&&(n.tagsID=t.tags.join(",")),t.assignee&&(n.assigneeID=t.assignee),t.dueDate&&!t.dueTime?n.date=t.dueDate.format("YYYY-MM-DD"):t.dueDate&&t.dueTime&&(n.datetime=ue().utc(t.dueDate.format("YYYY-MM-DD")+"T"+t.dueTime.format().replace(/(.*)T/,""))),e.handleSend(n)},children:[(0,y.jsx)("div",{className:"label",children:"list"===b.info.layout?"Section":"Column"}),(0,y.jsx)(p.Z.Item,{name:"section",initialValue:"list"!==b.info.layout?s.length?s[0].id:null:"-1",children:(0,y.jsxs)(a.Z,{size:"large",children:["list"===b.info.layout&&(0,y.jsx)(Ze,{value:"-1",children:"No section"}),s.map((function(e){return(0,y.jsx)(Ze,{value:e.id,children:e.name},e.id)}))]})}),(0,y.jsx)("div",{className:"label",children:"Task name"}),(0,y.jsx)(p.Z.Item,{name:"title",initialValue:e.tabTitle,children:(0,y.jsx)(Ee.Z,{size:"large",autoComplete:"false"})}),n&&(0,y.jsxs)("div",{className:"ad-fields",children:[(0,y.jsx)("div",{className:"label",children:"Description"}),(0,y.jsx)(p.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}),(0,y.jsx)("div",{className:"label",children:"Assignee"}),(0,y.jsx)(p.Z.Item,{name:"assignee",children:(0,y.jsx)(a.Z,{size:"large",style:{width:"100%"},placeholder:"Please select assignee",children:d.map((function(e){return(0,y.jsx)(Ze,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Tags"}),(0,y.jsx)(p.Z.Item,{name:"tags",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Please select",children:v.map((function(e){return(0,y.jsx)(Ze,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsxs)("div",{className:"half-form",children:[(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Date"}),(0,y.jsx)(p.Z.Item,{name:"dueDate",children:(0,y.jsx)(Ae.Z,{size:"large"})})]}),(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Time"}),(0,y.jsx)(p.Z.Item,{name:"dueTime",children:(0,y.jsx)(De.Z,{size:"large",use12Hours:!0,format:"h:mm A",className:"due-time-picker"})})]})]})]}),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){r(!n)},children:n?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(i.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create task"})})]})})};const Ue=function(e){var t=e.tabTitle;return(0,y.jsx)("div",{className:"slack-form",children:(0,y.jsxs)(p.Z,{onFinish:function(t){e.handleSend(values)},children:[(0,y.jsx)("div",{className:"label",children:"Name"}),(0,y.jsx)(p.Z.Item,{name:"title",initialValue:t,children:(0,y.jsx)(Ee.Z,{onChange:e.handleSlackMsgChange})}),(0,y.jsx)("div",{children:(0,y.jsx)(i.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Upload image"})})]})})};function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ge(e,t,n){return t=function(e){var t=function(e,t){if("object"!==He(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===He(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=a.Z.Option;const ze=function(e){var t,n=Ve((0,o.useState)(!1),2),r=n[0],c=n[1],s=Ve((0,o.useState)([]),2),l=s[0],u=s[1],d=Ve((0,o.useState)([]),2),f=d[0],h=d[1],v=e.resourceID,g=e.currentDes;return(0,o.useEffect)((function(){(0,m.VY)({accountID:g.accountID,what:"assignee",repo:g.resourceName,owner:g.info.owner}).then((function(e){u(e.items)})),(0,m.VY)({accountID:g.accountID,what:"label",repo:g.resourceName,owner:g.info.owner}).then((function(e){h(e.items)}))}),[v]),(0,y.jsx)("div",{className:"github-form",children:(0,y.jsxs)(p.Z,{onFinish:function(t){var n={};t.description&&(n.description=void 0===t.description?"":t.description),n.listID=t.list,t.title&&(n.title=t.title),t.assignees&&(n.assignees=t.assignees.join(",")),t.labels&&(n.labels=t.labels.join(",")),e.handleSend(n)},children:[(0,y.jsx)("div",{className:"label",children:"Issue title"}),(0,y.jsx)(p.Z.Item,{name:"title",initialValue:e.tabTitle,children:(0,y.jsx)(Ee.Z,{size:"large",autoComplete:"off"})}),r&&(0,y.jsxs)("div",{className:"ad-fields",children:[(0,y.jsx)("div",{className:"label",children:"Description"}),(0,y.jsx)(p.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}),(0,y.jsx)("div",{className:"label",children:"Assignee"}),(0,y.jsx)(p.Z.Item,{name:"assignees",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Assign a member",children:l.map((function(e){return(0,y.jsx)(We,{value:e.name,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Labels"}),(0,y.jsx)(p.Z.Item,{name:"labels",children:(0,y.jsx)(a.Z,(t={size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Select a label",className:"label-select"},Ge(t,"className","trello-member-select"),Ge(t,"dropdownClassName","trello-label-dropdown"),Ge(t,"children",f.map((function(e){var t={backgroundColor:"#"+e.info.color};return"ffffff"===e.info.color&&(t.color="black",t.border="1px solid #eee"),(0,y.jsx)(We,{value:e.name,children:(0,y.jsx)("div",{style:t,className:"trello-label-item",children:e.name})},e.id)}))),t))})]}),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){c(!r)},children:r?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(i.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create issue"})})]})})};n(32399);var Ke=n(11382),Ye=(n(52927),n(9676)),Qe=(n(28897),n(85986)),qe=a.Z.Option;function Je(e){var t=e.field,n=t.allowedValues,r=t.defaultValue,o=-1!==t.operations.indexOf("add")?"multiple":void 0,i=function(e){var t=null;return n.forEach((function(n){n.id===e&&(t=n)})),t};return(0,y.jsx)(a.Z,{showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},size:"large",defaultValue:r?r.id:void 0,mode:o,onChange:function(n){var r=n;"customfield_10021"===t.key&&(r=n.map((function(e){return i(e)}))),"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"===t.schema.custom&&(r=n.map((function(e){return i(e)}))),"com.atlassian.jira.plugin.system.customfieldtypes:select"===t.schema.custom&&(r={id:n}),e.handleChange(t.key,r)},children:n.map((function(e){return(0,y.jsx)(qe,{value:e.id,children:e.name||e.value},e.id)}))})}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et=a.Z.Option;function tt(e){var t=Xe((0,o.useState)([]),2),n=t[0],r=t[1],i=e.field,c=e.currentDes;(0,o.useEffect)((function(){(0,m.VY)({accountID:c.accountID,what:"autoComplete",fieldName:i.key,cloudID:c.info.cloudID,projectID:c.info.projectID}).then((function(e){r(e.items?e.items:[])}))}),[]);var s=-1!==i.operations.indexOf("add")?"multiple":void 0;return(0,y.jsx)(a.Z,{showSearch:!0,size:"large",mode:s,onChange:function(t){e.handleChange(i.key,t)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:n.map((function(e){return function(e){return"assignee"===i.key?(0,y.jsx)(et,{value:e.info.user.accountId,children:e.info.user.displayName},e.info.user.accountId):"reporter"===i.key?(0,y.jsx)(et,{value:e.id,children:e.info.field.displayName},e.id):"labels"===i.key?(0,y.jsx)(et,{value:e.info.field.value,children:e.info.field.displayName},e.info.field.value):(0,y.jsx)(et,{})}(e)}))})}n(91324);var nt=n(45777),rt=n(23279),ot=n.n(rt),it=n(49101),at=n(93695);function ct(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){if(e){if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt=a.Z.Option;function ft(e){var t=st((0,o.useState)([{id:Date.now(),linkType:"",issues:[]}]),2),n=t[0],r=t[1],i=st((0,o.useState)([]),2),c=i[0],s=i[1],l=st((0,o.useState)([]),2),u=l[0],d=l[1],f=(e.field,e.currentDes);(0,o.useEffect)((function(){(0,m.VY)({accountID:f.accountID,what:"issueLinkType",cloudID:f.info.cloudID,projectID:f.info.projectID}).then((function(e){var t=[];e.items.forEach((function(e){"Relates"===e.name?t.push({value:e.name+"+in",displayName:e.info.inward}):(t.push({value:e.name+"+in",displayName:e.info.inward}),t.push({value:e.name+"+out",displayName:e.info.outward}))})),s(t)}))}),[]),(0,o.useEffect)((function(){e.handleChange("issuelinks",n)}),[n]);var h=function(e,t){(0,m.VY)({accountID:f.accountID,what:"issue",cloudID:f.info.cloudID,query:t}).then((function(e){e.items[0].info.issues.length>0&&d(e.items[0].info.issues)}))};return(0,y.jsxs)("div",{className:"issue-link",children:[(0,y.jsxs)("div",{className:"label",children:["Linked issues",(0,y.jsx)("div",{className:"add-btn",onClick:function(){r([].concat(ct(n),[{id:Date.now(),linkType:"",issues:[]}]))},children:(0,y.jsx)(nt.Z,{title:"Add",children:(0,y.jsx)(it.Z,{})})})]}),(0,y.jsx)("div",{className:"issue-link-container",children:n.map((function(e,t){return(0,y.jsxs)("div",{className:"issue-link-item",children:[(0,y.jsx)(a.Z,{size:"large",className:"issue-link-type-select",placeholder:"Link type",onChange:function(t){!function(e,t){var o=n.filter((function(t){return t.id===e}));o[0].linkType=t;var i=n.map((function(t){return t.id===e?o[0]:t}));r(i)}(e.id,t)},children:c.map((function(e){return(0,y.jsx)(dt,{value:e.value,children:e.displayName},e.value)}))}),(0,y.jsx)(a.Z,{size:"large",className:"issue-link-select",placeholder:"Select issues",mode:"multiple",onSearch:ot()((function(t){return h(e.id,t)}),800),onDropdownVisibleChange:function(t){t&&h(e.id,"")},onChange:function(t){return function(e,t){var o=n.filter((function(t){return t.id===e}));o[0].issues=t;var i=n.map((function(t){return t.id===e?o[0]:t}));r(i)}(e.id,t)},children:u.map((function(e){return(0,y.jsx)(dt,{value:e.key,children:e.key},e.key)}))}),(0,y.jsx)("div",{className:"issue-link-remove",onClick:function(){var t;t=e.id,r(n.filter((function(e){return e.id!==t})))},children:(0,y.jsx)(nt.Z,{title:"Remove",children:(0,y.jsx)(at.Z,{})})})]},e.id)}))})]})}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pt=a.Z.Option;function vt(e){var t=mt((0,o.useState)([]),2),n=t[0],r=t[1],i=e.field,c=e.currentDes;(0,o.useEffect)((function(){}),[]);var s=function(e){var t;(0,m.VY)({accountID:c.accountID,what:(t=i.key,"customfield_10014"===t?"epic":"customfield_10021"==t?"sprint":void 0),cloudName:c.info.cloudName,query:e,cloudID:c.info.cloudID,projectID:c.info.projectID}).then((function(e){r(e.items?e.items:[])}))},l=-1!==i.operations.indexOf("add")?"multiple":void 0;return(0,y.jsx)(a.Z,{size:"large",showSearch:!0,mode:l,filterOption:!1,onChange:function(t){e.handleChange(i.key,t)},onSearch:ot()(s,800),onDropdownVisibleChange:function(e){e&&s("")},children:n.map((function(e){return function(e){return"customfield_10021"===i.key?(0,y.jsxs)(pt,{value:e.id,children:[e.name,"(",e.info.data.stateKey,")"]},e.id):"customfield_10014"===i.key?(0,y.jsxs)(pt,{value:e.id,children:[e.name,"-(",e.id,")"]},e.id):(0,y.jsx)(pt,{})}(e)}))})}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const bt=function(e){var t=yt((0,o.useState)(!1),2),n=t[0],r=t[1],a=e.currentDes;return(0,y.jsxs)("div",{className:"jira-api-token-panel",children:[(0,y.jsxs)("div",{className:"info",children:["Go to your Atlassian"," ",(0,y.jsx)("a",{href:"https://id.atlassian.com/manage/shared-api-tokens",target:"_blank",children:"API tokens page"})," ","and create a new API token. Copy the token and paste it into the box below."]}),(0,y.jsxs)(p.Z,{onSubmit:function(t){r(!0),(0,m.AY)(a.account.id,t.token).then((function(){r(!1),e.handleApiTokenSubmitted()})).catch((function(){r(!1)}))},children:[(0,y.jsx)("div",{className:"label",children:"API TOKEN"}),(0,y.jsx)(p.Z.Item,{name:"token",rules:[{required:!0}],children:(0,y.jsx)(Ee.Z,{})}),(0,y.jsx)(p.Z.Item,{children:(0,y.jsx)(i.Z,{type:"primary",block:!0,loading:n,htmlType:"submit",children:"Submit"})})]})]})};function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t=function(e){var t=function(e,t){if("object"!==wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e){return(0,y.jsx)(r.Z,xt(xt({},e),{},{footer:null,maskClosable:!1,wrapClassName:"jira-api-token",destroyOnClose:!0,centered:!0,title:"Submit Jira API token",children:(0,y.jsx)(bt,xt({},e))}))}function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ot(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ot(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pt=a.Z.Option,kt={};const Tt=function(e){var t=At((0,o.useState)(!1),2),n=t[0],r=t[1],c=At((0,o.useState)({}),2),s=c[0],l=c[1],u=At((0,o.useState)([]),2),d=u[0],f=u[1],h=At((0,o.useState)(null),2),v=h[0],g=h[1],b=At((0,o.useState)(!1),2),w=b[0],j=b[1],x=e.currentDes;(0,o.useEffect)((function(){d.length&&f([]),(0,m.VY)({accountID:x.accountID,what:"createMeta",cloudID:x.info.cloudID,projectID:x.info.projectID}).then((function(e){g(e.items[0]),f(e.items),e.items.forEach((function(e){kt[e.id]=e}))}))}),[e.currentDes]),(0,o.useEffect)((function(){}));var S,I=function(e,t){l(Nt(Nt({},s),{},Dt({},e,t)))},O=function(e){var t={fields:{}},n={};for(var r in n.project={id:x.info.projectID},e)"issuetype"===r||"priority"===r||"assignee"===r?n[r]={id:e[r]}:"summary"===r||"description"===r||"environment"===r||"customfield_10014"===r||"customfield_10016"===r||"labels"===r||"customfield_10037"===r||"customfield_10038"===r||"customfield_10039"===r||"customfield_10029"===r||"customfield_10034"===r||"customfield_10035"===r||"customfield_10036"===r||"customfield_10031"===r||"customfield_10032"===r||"customfield_10033"===r||"customfield_10021"===r||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:select"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:float"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:textarea"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:textfield"===v.info.fields[r].schema.custom?v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:textarea"===v.info.fields[r].schema.custom?e[r]&&(n[r]={version:1,type:"doc",content:[{type:"paragraph",content:[{type:"text",text:e[r]}]}]}):e[r]&&(n[r]=e[r]):"components"===r?n[r]=e[r].map((function(e){return{id:e}})):"customfield_10026"===r?e[r]&&(n[r]=[{id:v.info.fields.customfield_10026.allowedValues[0].id}]):"fixVersions"===r?n[r]=e[r].map((function(e){return{id:e}})):"reporter"===r?e[r]&&(n[r]={id:e[r]}):"parent"===r?e[r]&&(n[r]={key:e[r]}):("duedate"===r||"customfield_10015"===r||"customfield_10030"===r||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:datetime"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:datepicker"===v.info.fields[r].schema.custom)&&e[r]&&(n[r]=e[r].format());return(e["timetracking-o"]||e["timetracking-r"])&&(n.timetracking={}),e["timetracking-o"]&&(n.timetracking.originalEstimate=e["timetracking-o"]),e["timetracking-r"]&&(n.timetracking.remainingEstimate=e["timetracking-r"]),t.fields=n,e.issuelinks&&e.issuelinks.length&&(t.issueLinks=[],e.issuelinks.forEach((function(e){if(e.linkType&&e.issues.length){var n=e.linkType.split("+"),r=n[0],o=n[1];e.issues.forEach((function(e){var n=Dt({type:r},"".concat(o,"wardIssue"),e);t.issueLinks.push(n)}))}}))),t},E=function(e){return"timetracking"===e.key?"(eg. 3w 4d 12h)":""},N=function(){j(!0)},D=function(e){return void 0!==e.allowedValues?(0,y.jsx)(Je,{handleChange:I,field:e}):void 0!==e.autoCompleteUrl?(0,y.jsx)(tt,{handleChange:I,currentDes:x,field:e}):"description"===e.key||"environment"===e.key||"com.atlassian.jira.plugin.system.customfieldtypes:textarea"===e.schema.custom?(0,y.jsx)(p.Z.Item,{name:e.key,children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}):"customfield_10014"===e.key?(0,y.jsx)(vt,{handleChange:I,currentDes:x,field:e}):"customfield_10021"===e.key?v.info.apiToken?(0,y.jsx)(vt,{handleChange:I,currentDes:x,field:e}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("i",{className:"jira-sprint-tip",children:["To use Sprint, you need to provide an API token."," ",(0,y.jsx)("a",{onClick:N,children:"Submit API token"})]})}):(0,y.jsx)(p.Z.Item,{name:e.key,children:(0,y.jsx)(Ee.Z,{size:"large",placeholder:E(e)})})};return(0,y.jsxs)("div",{className:"jira-form",children:[0===d.length?(0,y.jsx)("div",{className:"loading",children:(0,y.jsx)(Ke.Z,{indicator:(0,y.jsx)(Oe.Z,{spin:!0})})}):(0,y.jsxs)(p.Z,{onFinish:function(t){var n=Nt(Nt({},t),s),r=O(n),o=v.info.fields;o.environment&&!r.fields.environment&&(r.fields.environment=""),o.description&&!r.fields.description&&(r.fields.description=""),e.handleSend(r)},children:[(0,y.jsx)("div",{className:"label",children:"Issue Type"}),(0,y.jsx)(p.Z.Item,{name:"issuetype",initialValue:d[0].id,children:(0,y.jsx)(a.Z,{size:"large",onChange:function(e,t){g(kt[e])},children:d.map((function(e){if("Subtask"!==e.name)return(0,y.jsx)(Pt,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Summary"}),(0,y.jsx)(p.Z.Item,{name:"summary",rules:[{required:!0,message:"You must specify a summary of the issue."}],children:(0,y.jsx)(Ee.Z,{size:"large"})}),n&&(S=v.info.fields,(0,y.jsx)(y.Fragment,{children:Object.keys(S).map((function(e){return"issuetype"===e||"project"===e||"summary"===e||"attachment"===e?void 0:"timetracking"===e?(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:"Original Estimate"}),(0,y.jsx)(p.Z.Item,{name:"timetracking-o",children:(0,y.jsx)(Ee.Z,{size:"large",placeholder:"(eg. 3w 4d 12h)"})})]},"oe"),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:"Remaining Estimate"}),(0,y.jsx)(p.Z.Item,{name:"timetracking-r",children:(0,y.jsx)(Ee.Z,{size:"large",placeholder:"(eg. 3w 4d 12h)"})})]},"re")]},S[e].key):"issuelinks"===e?(0,y.jsx)("div",{children:(0,y.jsx)(ft,{handleChange:I,currentDes:x,field:S})},S[e].key):"duedate"===e||"customfield_10030"===e||"customfield_10015"===e||"com.atlassian.jira.plugin.system.customfieldtypes:datetime"===S[e].schema.custom||"com.atlassian.jira.plugin.system.customfieldtypes:datepicker"===S[e].schema.custom?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),(0,y.jsx)(p.Z.Item,{name:e,children:(0,y.jsx)(Ae.Z,{size:"large",style:{width:"100%"}})})]},S[e].key):"customfield_10022"===e||"customfield_10017"===e||"parent"===e?"":"customfield_10016"===e||"com.atlassian.jira.plugin.system.customfieldtypes:float"===S[e].schema.custom?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),(0,y.jsx)(p.Z.Item,{name:e,children:(0,y.jsx)(Qe.Z,{size:"large",style:{width:"100%"}})})]},S[e].key):"customfield_10026"===e?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),(0,y.jsx)(p.Z.Item,{name:e,children:(0,y.jsx)(Ye.Z,{children:S[e].allowedValues[0].value})})]},S[e].key):(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),D(S[e])]},S[e].key)}))})),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){r(!n)},children:n?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(i.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create issue"})})]}),(0,y.jsx)(It,{visible:w,onCancel:function(){j(!1)},currentDes:x,handleApiTokenSubmitted:function(){j(!1),d.length&&f([]),(0,m.VY)({accountID:x.accountID,what:"createMeta",cloudID:x.info.cloudID,projectID:x.info.projectID}).then((function(e){g(e.items[0]),f(e.items),e.items.forEach((function(e){kt[e.id]=e}))}))}})]})};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Lt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Lt(i)?i:String(i)),r)}var o,i}function Rt(e,t){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rt(e,t)}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var o=Ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}var Ht=a.Z.Option;const Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}(i,e);var t,n,r,o=Mt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={currentDesId:t.props.currentDes.id,slackMsg:"",isUploading:!1,percentage:0},t.handleDesChange=t.handleDesChange.bind(Ft(t)),t.handleSend=t.handleSend.bind(Ft(t)),t.handleSlackMsgChange=t.handleSlackMsgChange.bind(Ft(t)),t.onUploadProgress=t.onUploadProgress.bind(Ft(t)),t}return t=i,(n=[{key:"handleDesChange",value:function(e){"add"!==e?this.setState({currentDesId:e}):this.props.goToAddDes()}},{key:"onUploadProgress",value:function(e){this.setState({percentage:e})}},{key:"handleSend",value:function(e){var t=this,n=this.props.destinations,r=this.state.currentDesId,o={};n.forEach((function(e){o[e.id]=e}));var i=o[r];e.service=i.service,e.destinationID=r+"";var a=e.description;if(this.props.tabUrl&&(e.sourceLink=this.props.tabUrl),"trello"===e.service?e.extraString=(0,f.BS)(this.props.imageInfo):"asana"===e.service?e.extraString=(0,f.Ko)(this.props.imageInfo):"github"===e.service?e.extraString=(0,f.xG)(this.props.imageInfo):"jira"===e.service&&(void 0!==e.fields.environment?(e.fields.environment=(0,f.Lp)(e.fields.environment,this.props.imageInfo,this.props.itemUrl,this.props.type),void 0!==e.fields.description&&(e.fields.description={version:1,type:"doc",content:[{type:"paragraph",content:[{type:"text",text:e.fields.description}]}]})):void 0!==e.fields.description&&(e.fields.description=(0,f.Lp)(e.fields.description,this.props.imageInfo,this.props.itemUrl,this.props.type))),this.props.itemId)"video"===this.props.type?e.videoID=this.props.itemId:e.imageID=this.props.itemId,this.setState({isUploading:!0}),(0,m.$Y)(e).then((function(n){Ie.Z.success({message:h.xR[e.service].successMsg,description:(0,y.jsxs)("a",{href:n.itemUrl,target:"_blank",children:["Click to see it in your ",h.xR[e.service].displayName]})}),t.props.handleSendSuccess()}),(function(e){throw new Error(h.xR[i.service].actionTypeStr+" failed! ("+e+")")})).catch((function(e){e&&Se.ZP.error(e.toString()+" Please try again!"),t.setState({isUploading:!1,percentage:0})}));else{if(this.props.imageBlob)var c=this.props.contentType;else{var s=this.props.imageUrl.split(",")[1];c=this.props.imageUrl.split(",")[0].split(":")[1].split(";")[0]}this.setState({isUploading:!0}),(0,m.Bi)({Title:e.title||"",Description:a,DestID:this.state.currentDesId+"",ContentType:c}).then((function(n){var r=t.props.imageBlob?t.props.imageBlob:(0,f.Mi)(s,c),o=new File([r],"test.png"),a=n.Image.S3Key;return e.destinationImageID=n.Image.ImageID+"",e.imageURL=m.vS+"/destination/image/show?ImageKey="+a,e.imageName=t.props.tabTitle+"."+c.replace("image/",""),(0,m.p7)({AWSAccessKeyId:"AKIAJSCJQ2NM3XLFPVKA",acl:"private",key:n.Image.S3Key,"Content-Type":c,policy:n.Policy,signature:n.Signature,file:o},t.onUploadProgress).then((function(n){return(0,m.eL)(a).then((function(n){return(0,m.BN)(e).then((function(n){Ie.Z.success({message:h.xR[e.service].successMsg,description:(0,y.jsxs)("a",{href:n.itemUrl,target:"_blank",children:["Click to see it in your"," ",h.xR[e.service].displayName]})}),t.props.handleSendSuccess()}),(function(e){throw new Error(h.xR[i.service].actionTypeStr+" failed! ("+e+")")}))}))}),(function(e){throw new Error("Upload image failed!")}))}),(function(e){throw new Error("Create image error!("+e+")")})).catch((function(e){e&&Se.ZP.error(e.toString()+" Please try again!"),t.setState({isUploading:!1,percentage:0})}))}}},{key:"handleSlackMsgChange",value:function(e){this.setState({slackMsg:e.currentTarget.value})}},{key:"render",value:function(){var e=this,t=this.props,n=t.destinations,r=t.itemUrl,o=this.state,i=o.currentDesId,c=o.isUploading,s=o.percentage,l={};n.forEach((function(e){l[e.id]=e}));var u=l[i],f=d()("upload-progress",{active:c}),m=d()("destination-area",{active:!c});return(0,y.jsxs)("div",{className:"des-panel",children:[(0,y.jsxs)("div",{className:f,children:[r?(0,y.jsx)(Oe.Z,{className:"loading"}):(0,y.jsx)(xe.Z,{type:"circle",status:"active",percent:s}),(0,y.jsx)("div",{className:"upload-tip",children:s<100&&!r?"Uploading image...":h.xR[u.service].actionTypeStr+"..."})]}),(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)("div",{className:"destination-select",children:(0,y.jsxs)(a.Z,{size:"large",value:i,onChange:this.handleDesChange,children:[n.map((function(e){var t=d()("des-logo",e.service);return(0,y.jsxs)(Ht,{value:e.id,children:[(0,y.jsx)("div",{className:t}),h.BT[e.resourceType]+e.resourceName]},e.id)})),(0,y.jsxs)(Ht,{value:"add",children:[(0,y.jsx)("div",{className:"des-logo add"}),"Create a new destination"]},"add")]})}),(0,y.jsx)(je.Z,{plain:!0,children:h.xR[u.service].panelTitle}),(0,y.jsx)("div",{className:"des-form",children:"slack"===u.service?(0,y.jsx)(Ne,{currentDes:u,tabTitle:e.props.tabTitle,handleSend:e.handleSend,handleSlackMsgChange:e.handleSlackMsgChange}):"trello"===u.service?(0,y.jsx)(_e,{currentDes:u,tabTitle:e.props.tabTitle,resourceID:u.resourceID,handleSend:e.handleSend}):"asana"===u.service?(0,y.jsx)(Fe,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):"googleDrive"===u.service?(0,y.jsx)(Ue,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):"github"===u.service?(0,y.jsx)(ze,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):"jira"===u.service?(0,y.jsx)(Tt,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):void 0})]})]})}}])&&_t(t.prototype,n),r&&_t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);var Vt=n(31302);function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){return(t=Qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function Qt(e){var t=function(e,t){if("object"!==Bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bt(t)?t:String(t)}function qt(e,t){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qt(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);if(t){var o=$t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){if(t&&("object"===Bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$t(e)}const en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(a,e);var t,n,o,i=Jt(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.currentPanel;return(0,y.jsx)(r.Z,zt(zt({},this.props),{},{footer:null,maskClosable:!1,wrapClassName:"des-modal",destroyOnClose:!0,centered:!0,closeIcon:(0,y.jsx)(Vt.T,{style:{fontSize:"12px"}}),children:"add"===t?(0,y.jsx)(we,zt(zt({},e.props),{},{currentAccount:e.props.defaultCurrentAccount})):"des"===t?(0,y.jsx)(Gt,{currentDes:e.props.currentDes,destinations:e.props.destinations,goToAddDes:e.props.goToAddDes,tabTitle:e.props.tabTitle,tabUrl:e.props.tabUrl,imageUrl:e.props.imageUrl,imageBlob:e.props.imageBlob,imageInfo:e.props.imageInfo||null,handleSendSuccess:e.props.onCancel,contentType:e.props.contentType,type:e.props.type,itemId:e.props.itemId,itemUrl:e.props.itemUrl}):void 0}))}}])&&Yt(t.prototype,n),o&&Yt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component)},82931:(e,t,n)=>{n.d(t,{Z:()=>T});n(47386);var r=n(48889),o=n(31302),i=(n(52927),n(9676)),a=(n(15285),n(71257)),c=(n(93506),n(54458)),s=(n(85624),n(71577)),l=(n(79133),n(32787)),u=(n(11947),n(38648)),d=(n(50626),n(48086)),f=(n(28763),n(34041)),m=n(23279),h=n.n(m),p=n(67294),v=n(85483),y=n(6700),g=n(94184),b=n.n(g),w=n(17646),j=n(59102),x=n(63077),S=n(54748),I=n(85893);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=f.Z.Option;const D=function(e){var t=e.accounts,n=e.currentDriveAccount,r=n?n.service:"googleDrive",o=w.xR[r],m=O((0,p.useState)((function(){return t?t[0]:null})),2),g=(m[0],m[1]),E=O((0,p.useState)(""),2),D=E[0],A=E[1],C=O((0,p.useState)(!0),2),P=C[0],k=C[1],T=O((0,p.useState)([]),2),L=T[0],_=T[1],R=O((0,p.useState)(!1),2),M=R[0],Z=R[1],F=O((0,p.useState)((function(){return null===e.currentDriveAccount})),2),U=(F[0],F[1],O((0,p.useState)(!1),2)),H=U[0],G=U[1],V=O((0,p.useState)(0),2),B=V[0],W=V[1],z=O((0,p.useState)(!1),2),K=z[0],Y=z[1],Q=O((0,p.useState)(""),2),q=Q[0],J=Q[1],X=O((0,p.useState)(""),2),$=X[0],ee=X[1],te=O((0,p.useState)(!1),2),ne=te[0],re=te[1],oe=O((0,p.useState)(!1),2),ie=oe[0],ae=oe[1];(0,p.useEffect)((function(){g(t[0])}),[t.length]),(0,p.useEffect)((function(){return e.currentDriveAccount&&se(),window.addEventListener("message",ce),function(){window.removeEventListener("message",ce)}}),[e.currentDriveAccount]);var ce=function(t){if("accountConnected"===t.data.name){var n=JSON.parse(t.data.data);e.handleDriveAccountConnected(n)}},se=function(t){_([]),Z(!0),(0,j.VY)({accountID:e.currentDriveAccount.id,what:"folder",query:t}).then((function(e){var t=e.items?e.items:[];_(t),Z(!1)}))},le=function(e,t,r,o){if("googleDrive"===n.service){var i=new File([e],r.name,{type:t}),a=t.split("/")[1];"jpeg"==a&&(a="jpg");var c={name:r.name+"."+a};"-1"!==r.folder&&(c.parents=[r.folder]),ue(o,i,c,r.googleDriveSharable)}else if("dropbox"===n.service){var s=("-1"!==r.folder?L.filter((function(e){return e.id===r.folder}))[0].info.path||L.filter((function(e){return e.id===r.folder}))[0].info.path_lower:"")+"/"+r.name+"."+t.split("/")[1];de(o,s,e)}else if("box"===n.service){var l=r.name+"."+t.split("/")[1],u=r.folder;i=new File([e],r.name,{type:t});fe(o,i,l,u)}},ue=function(t,n,o,i){(0,j.Hl)(t,n,o,W,e.type).then((function(n){if(i){var o=n.data.id;ae(!0),(0,j.M0)(t,o).then((function(e){ee("https://drive.google.com/file/d/".concat(o,"/view?usp=sharing")),re(!0),ae(!1)})).catch((function(){ee("https://drive.google.com/file/d/".concat(o,"/view?usp=sharing")),re(!0),ae(!1)}))}else u.Z.success({message:w.xR[r].successMsg,description:(0,I.jsxs)("a",{target:"_blank",href:"https://drive.google.com/file/d/".concat(n.data.id,"/view"),children:["Click to see it in your ",w.xR[r].displayName]})}),e.onCancel();(0,j.Pz)("googleDrive")})).catch((function(e){d.ZP.error(e.response.data.msg),G(!1),W(0)}))},de=function(t,n,o){(0,j.W0)(t,n,o,W,e.type).then((function(t){u.Z.success({message:w.xR[r].successMsg,description:(0,I.jsxs)("a",{target:"_blank",href:"https://www.dropbox.com/home".concat(t.data.path_display),children:["Click to see it in your ",w.xR[r].displayName]})}),e.onCancel(),(0,j.Pz)("dropbox")})).catch((function(e){e.response&&"insufficient_space"===e.response.data.error.reason[".tag"]?d.ZP.error("Your dropbox account is full. The screenshot can’t be sent to it"):d.ZP.error(e.response.data.error_summary),G(!1),W(0)}))},fe=function(t,n,o,i){(0,j.Cj)(t,n,o,i,W,e.type).then((function(t){u.Z.success({message:w.xR[r].successMsg,description:(0,I.jsxs)("a",{target:"_blank",href:"https://app.box.com/file/".concat(t.data.entries[0].id),children:["Click to see it in your ",w.xR[r].displayName]})}),e.onCancel(),(0,j.Pz)("box")})).catch((function(e){if(e.response.data&&e.response.data.message)var t=e.response.data.message;else t=e.response.statusText;d.ZP.error(t),G(!1),W(0)}))},me=function(t){return e.permissions["allow".concat((0,x.fm)(t))]},he=b()("upload-progress",{active:H}),pe=b()("drive-wrapper",{active:!H}),ve="video"===e.type?"video":"image";return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"drive-panel",children:[(0,I.jsx)("div",{className:"title",children:null===n?P?"Choose your cloud storage":"":(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"icon ".concat(n.service)}),"Save to ",o.displayName]})}),(0,I.jsx)("div",{className:he,children:ne?(0,I.jsxs)("div",{className:"sharable-link-area",children:[(0,I.jsx)("div",{className:"label",children:"Shareable Link"}),(0,I.jsx)(l.Z,{value:$,style:{width:"320px"},size:"large"}),(0,I.jsx)(s.Z,{type:"primary",size:"large",onClick:function(){(0,x.zp)($),d.ZP.success("Copied!")},children:"Copy"})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.Z,{type:"circle",status:"active",percent:B}),(0,I.jsx)("div",{className:"upload-tip",children:B<100?"Uploading ".concat(ve,"..."):ie?"Creating shareable link...":w.xR[r].actionTypeStr+"..."})]})}),t.length&&n?(0,I.jsx)("div",{className:pe,children:(0,I.jsx)("div",{className:"container",children:(0,I.jsxs)(a.Z,{onFinish:function(t){G(!0),(0,j.LP)(n.id).then((function(n){var r=n.token;if(e.itemUrl)(0,x.wJ)(e.itemUrl,(function(e){W(Math.round(e/2))})).then((function(e){le(e.data,"image/png",t,r)}));else{if(e.imageBlob)var o=e.contentType,i=e.imageBlob;else{var a=e.imageUrl.split(",")[1];i=(0,x.Mi)(a),o=e.imageUrl.split(",")[0].split(":")[1].split(";")[0]}le(i,o,t,r)}})).catch((function(e){d.ZP.error("Something went wrong!"),G(!1)}))},children:[(0,I.jsx)("div",{className:"account-select"}),(0,I.jsx)("div",{className:"label",children:"Name"}),(0,I.jsx)(a.Z.Item,{name:"name",rules:[{required:!0,message:"Please input a name"}],initialValue:e.tabTitle,children:(0,I.jsx)(l.Z,{})}),(0,I.jsx)("div",{className:"label",children:o.targetName}),(0,I.jsx)(a.Z.Item,{name:"folder",rules:[{required:!0,message:"choose a folder"}],initialValue:"-1",children:(0,I.jsxs)(f.Z,{showSearch:!0,placeholder:o.placeHolder,loading:M,onSearch:h()((function(e){se(e)}),800),filterOption:!1,children:[(0,I.jsxs)(N,{value:"-1",children:[(0,I.jsx)(v.Z,{className:"folder-option ".concat(n.service)}),"/"]}),L.map((function(e){return(0,I.jsxs)(N,{value:e.id,children:[(0,I.jsx)(v.Z,{className:"folder-option ".concat(n.service)}),"dropbox"===n.service?e.info.path||e.info.path_lower:e.name]},e.id)}))]})}),(0,I.jsx)("div",{className:"tip",children:"googleDrive"===n.service?"Only root folder and Awesome Screenshot folder are available for the moment.":"Only 10 recent folders are listed. Type and search for other folders."}),"googleDrive"===n.service&&(0,I.jsx)(a.Z.Item,{name:"googleDriveSharable",valuePropName:"checked",initialValue:"true"===localStorage["is-google-drive-share"],children:(0,I.jsx)(i.Z,{children:"Get shareable link (Anyone with the link can view)"})}),(0,I.jsx)(a.Z.Item,{children:(0,I.jsx)(s.Z,{type:"primary",className:"upload-btn",size:"large",block:!0,htmlType:"submit",children:"Upload"})})]})})}):(0,I.jsx)(I.Fragment,{children:P?(0,I.jsx)("div",{className:"service-container",children:(0,I.jsx)("div",{className:"account-container",children:w.Br.map((function(e){var t=b()("account-item",e.name,{pro:!me(e.name)});return(0,I.jsx)("div",{className:t,"data-des":e.name,onClick:function(){return function(e){me(e)?(A(e),k(!1)):(J(e),Y(!0))}(e.name)},children:(0,I.jsx)("b",{})},e.name)}))})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"top",children:(0,I.jsxs)("div",{className:"back-btn",onClick:function(){k(!0)},children:[(0,I.jsx)(y.Z,{}),"Choose another cloud storage"]})}),(0,I.jsx)("div",{className:"connect-panel",children:(0,I.jsxs)("div",{className:"box",children:[(0,I.jsxs)("div",{className:"main-box",children:[(0,I.jsx)("div",{className:"pic",children:(0,I.jsx)("div",{className:"logo ".concat(D)})}),(0,I.jsxs)("div",{className:"content",children:[(0,I.jsx)("div",{className:"logo ".concat(D)}),(0,I.jsxs)("div",{className:"title",children:["Integrate ",w.xR[D].displayName]}),(0,I.jsx)("div",{className:"sub-title",children:w.xR[D].panelSubTitle}),(0,I.jsx)("ul",{children:w.xR[D].featureLists.map((function(e,t){return(0,I.jsx)("li",{children:e},t)}))})]})]}),(0,I.jsxs)(s.Z,{type:"primary",size:"large",onClick:function(){(0,j.N6)(D).then((function(e){var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;window.open(e.URI,"",t)}))},children:["Connect with ",w.xR[D].displayName]})]})})]})})]}),(0,I.jsx)(S.Z,{visible:K,onCancel:function(){return Y(!1)},type:q})]})};function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return(0,I.jsx)(r.Z,P(P({},e),{},{footer:null,maskClosable:!1,wrapClassName:"des-modal",destroyOnClose:!0,centered:!0,closeIcon:(0,I.jsx)(o.T,{style:{fontSize:"12px"}}),children:(0,I.jsx)(D,P({},e))}))}},31302:(e,t,n)=>{n.d(t,{C:()=>w,T:()=>b});var r=n(67294),o=n(16165),i=n(94184),a=n.n(i),c=(n(12406),n(47346)),s=n(85481),l=n(85893);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=a()("svg-icon",e.className);return(0,l.jsx)(o.Z,f(f({},e),{},{className:t}))}var p={CloseIcon:c.Z,CrownIcon:s.Z},v={},y=function(e){v[e]=(0,r.memo)((function(t){return(0,l.jsx)(h,f({component:p[e]},t))})),v[e].displayName=e};for(var g in p)y(g);var b=v.CloseIcon,w=v.CrownIcon},59102:(e,t,n)=>{n.d(t,{$Y:()=>m,AY:()=>S,BN:()=>f,Bi:()=>h,Cj:()=>j,HK:()=>d,Hl:()=>b,LP:()=>y,M0:()=>w,N6:()=>l,Pz:()=>x,VY:()=>u,W0:()=>g,eL:()=>v,p7:()=>p,vS:()=>a});n(50626);var r=n(48086),o=n(12956),i=n(63077),a="https://www.awesomescreenshot.com/api/v1",c=["/premium/stripe/create_plan","/premium/stripe/change_plan","/folder/create","/folder/add_items","/folder/change_name","/trash/throw_into","/image/change_title","/video/update_title","/trash/restore","/trash/delete","/image/upload","/workspace/channel/move_items","/workspace/channel/load_items","/workspace/channel/load_members","/video/websocket/token","/refer/check_accept"],s=o.Z.create({baseURL:"/api/v1/"});function l(e){return s({method:"GET",url:"/account/auth",params:{service:e,from:"extension"}})}function u(e){return s({method:"GET",url:"/account/load/resource",params:e})}function d(e,t,n,r,o,i){return s({method:"POST",url:"/destination/add",data:{accountID:e,resourceID:n,privacy:o,resourceName:r,resourceType:t,info:i}})}function f(e){return s({method:"POST",url:"/account/share_screenshot",data:e})}function m(e){return s({method:"POST",url:"/account/share_item",data:e})}function h(e){return s({method:"POST",url:"/destination/image/create",data:e})}function p(e,t,n){var r=new FormData;for(var i in e)r.append(i,e[i]);var a=n||"https://awesomescreenshot.s3.amazonaws.com/";return(0,o.Z)({method:"POST",crossdomain:!0,url:a,data:r,onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);t(n)}})}function v(e){return s({method:"GET",url:"/destination/image/upload_done",params:{key:e}})}function y(e){return s({method:"GET",url:"/account/token",params:{accountID:e}})}function g(e,t,n,r,a){return(0,o.Z)({url:"https://content.dropboxapi.com/2/files/upload",method:"POST",headers:{Authorization:"Bearer "+e,"Dropbox-API-Arg":(0,i.Td)({path:t,mode:"add",autorename:!0,mute:!1,strict_conflict:!1}),"Content-Type":"application/octet-stream"},data:n,onUploadProgress:function(e){var t=0;t="video"===a?50+Math.round(Math.round(100*e.loaded/e.total)/2):Math.round(100*e.loaded/e.total),r(t)}})}function b(e,t,n,r,i){var a=new FormData;return a.append("metadata",new Blob([JSON.stringify(n)],{type:"application/json"})),a.append("file",t),(0,o.Z)({url:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",method:"POST",headers:{Authorization:"Bearer "+e},data:a,onUploadProgress:function(e){var t=0;t="video"===i?50+Math.round(Math.round(100*e.loaded/e.total)/2):Math.round(100*e.loaded/e.total),r(t)}})}function w(e,t){return(0,o.Z)({url:"https://www.googleapis.com/drive/v3/files/"+t+"/permissions",method:"POST",headers:{Authorization:"Bearer "+e},data:{role:"reader",type:"anyone"}})}function j(e,t,n,r,i,a){var c=new FormData,s={name:n};return s.parent="-1"!==r?{id:r}:{id:"0"},c.append("attributes",JSON.stringify(s)),c.append("file",t),(0,o.Z)({method:"POST",url:"https://upload.box.com/api/2.0/files/content",headers:{Authorization:"Bearer "+e,"Access-Control-Expose-Headers":"WWW-Authenticate"},data:c,onUploadProgress:function(e){var t=0;t="video"===a?50+Math.round(Math.round(100*e.loaded/e.total)/2):Math.round(100*e.loaded/e.total),i(t)}})}function x(e){return s({method:"GET",url:"/destination/image/upload_to_cloud_done",params:{Service:e}})}function S(e,t){return s({method:"POST",url:"/account/jira_basic_token",data:{accountID:e,token:t}})}s.interceptors.request.use((function(e){return e}),(function(){return r.ZP.error("Network error, Request timeout!"),Promise.reject()})),s.interceptors.response.use((function(e){if(e&&e.data&&1===e.data.code)return Promise.resolve(e.data.data);if(1e3==e.data.code&&"/pricing"!==window.location.pathname)window.location.href="/signin?redirect="+window.location.href;else{if(2001===e.data.code)return Promise.reject(e.data);if(1201===e.data.code)return Promise.reject(e.data);if(e.data.msg){if(-1!==c.indexOf(e.config.url))return Promise.reject(e.data.msg);if(r.ZP.error(e.data.msg),"/pricing"!==window.location.pathname)return Promise.reject(e.data.msg)}}}),(function(e){if(e.response){var t=e.response.status;r.ZP.error("Network error! Error Code "+t)}}))},17646:(e,t,n)=>{n.d(t,{BT:()=>o,Br:()=>c,SX:()=>i,wh:()=>r,xR:()=>a});var r=["callout","list"],o={channel:"#",repo:"",user:"@",board:"",project:"",folder:""},i=[{name:"slack",displayName:"Slack"},{name:"asana",displayName:"Asana"},{name:"trello",displayName:"Trello"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],a={slack:{displayName:"Slack",targetName:"Channel",placeHolder:"Choose a channel or user",panelTitle:"Send message",actionTypeStr:"Sending message",successMsg:"Slack message sent!",panelSubTitle:"Send screenshots to Slack",featureLists:["Send screenshots to Slack Channel","Send screenshots to Slack direct messages","Attach URL of the screenshot automatically"]},trello:{displayName:"Trello",targetName:"Board",placeHolder:"Choose a board",panelTitle:"Create card",actionTypeStr:"Creating card",successMsg:"Trello card created!",panelSubTitle:"Send screenshots as Trello cards",featureLists:["Create a trello card and attach the screenshot directly","Assign the card to members","Set due date and time","Include browser & OS info to help identify the issue"]},asana:{displayName:"Asana",targetName1:"Workspace",targetName2:"Project",placeHolder1:"Choose a workspace",placeHolder2:"Choose a project",panelTitle:"Create task",actionTypeStr:"Creating task",successMsg:"Asana task created!",panelSubTitle:"Send screenshots as Asana task",featureLists:["Send screenshots to Asana task","Create an Asana task and attach the screenshot directly","Assign the card to members","Choose Sections","Set due date and time","Include browser & OS info to help identify the issue"]},jira:{displayName:"Jira",targetName1:"Site",targetName2:"Project",placeHolder1:"Choose a site",placeHolder2:"Choose a project",panelTitle:"Create issue",actionTypeStr:"Creating issue",successMsg:"Jira issue created!",panelSubTitle:"Send screenshots as Jira issue",featureLists:["Create a Jira issue and attach the screenshot directly","Assign the card to members","Include browser & OS info to help identify the issue"]},googleDrive:{displayName:"Google Drive",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Google Drive image uploaded!",panelSubTitle:"Save screenshots to Google Drive",featureLists:["Save screenshots to Google Drive folders directly"]},dropbox:{displayName:"Dropbox",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Dropbox image uploaded!",panelSubTitle:"Save screenshots to Dropbox",featureLists:["Save screenshots to Dropbox folders directly"]},box:{displayName:"Box",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Box image uploaded!",panelSubTitle:"Save screenshots to Box",featureLists:["Save screenshots to Box folders directly"]},github:{displayName:"Github",targetName:"Repository",placeHolder:"Choose a repository",panelTitle:"Create issue",actionTypeStr:"Creating issue",successMsg:"Github issue created!",panelSubTitle:"Send screenshots as Github issue",featureLists:["Create issue in Github repository","Send screenshots to Github message","Attach URL of the screenshot automatically"]}},c=[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}]},63077:(e,t,n)=>{n.d(t,{BS:()=>i,Ee:()=>b,Ko:()=>a,Lp:()=>s,Mi:()=>o,P_:()=>h,Td:()=>u,Up:()=>g,_x:()=>p,fm:()=>l,jg:()=>m,pd:()=>y,wJ:()=>f,xG:()=>c,zp:()=>d});var r=n(12956);function o(e,t,n){function r(e){return e.charCodeAt(0)}t=t||"",n=n||1024;for(var o=atob(e),i=[],a=0;a<o.length;a+=n){var c=o.slice(a,a+n),s=Array.prototype.map.call(c,r),l=new Uint8Array(s);i.push(l)}return new Blob(i,{type:t})}function i(e){if(!e)return"";var t="";for(var n in e)t+="**"+n+"**: "+e[n]+" \n";return t}function a(e){if(!e)return"";var t="";return t+="Captured in "+e.Browser+", "+e["Viewport Size"]+" viewport, "+e["Pixel Ratio"]+" pixel ratio, "+e["Zoom Level"]+" zoom, "+e.OS}function c(e){if(!e)return"";var t="<table>";for(var n in e)t+="<tr><td><strong>"+n+"</strong></td><td>"+e[n]+"</td></tr>";return t+="</table> \n"}function s(e,t,n,r){var o={version:1,type:"doc",content:[]};if(e&&e.length&&o.content.push({type:"paragraph",content:[{type:"text",text:e}]}),o.content.push({type:"rule"}),t)for(var i in t){var a={type:"paragraph",content:[{type:"text",text:i+":",marks:[{type:"strong"}]},{type:"text",text:" "+t[i]}]};o.content.push(a)}return n&&(o.content.push({type:"paragraph",content:[{type:"text",text:"video"===r?"Click the link below to watch the video:":"Click the link below to see the image:"}]}),o.content.push({type:"paragraph",content:[{type:"text",text:n,marks:[{type:"link",attrs:{href:n,title:n}}]}]})),o}function l(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function u(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,(function(e){return"\\u"+("000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function d(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.top="-999999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function f(e,t){return(0,r.Z)({method:"GET",url:e,responseType:"blob",onDownloadProgress:function(e){var n=Math.round(100*e.loaded/e.total);t&&t(n)}})}function m(e){var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),n=(t&&t[4]||"").trim(),r=t?(256|t[1]).toString(16).slice(1)+(256|t[2]).toString(16).slice(1)+(256|t[3]).toString(16).slice(1):e;return""!==n?n>1?1:n:1,"transparent"===e?"0000000":r}function h(e){return new Promise((function(t){var n=window.URL.createObjectURL(e),r=document.createElement("img"),o=document.createElement("canvas"),i=o.getContext("2d");r.onload=function(){o.width=r.width,o.height=r.height,i.drawImage(r,0,0),o.toBlob((function(e){t(e)}))},r.src=n}))}function p(e,t,n){if("function"==typeof ClipboardItem)navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]).then(t,n);else{var r=new FileReader;r.onload=function(e){if(e&&e.target){var n=e.target.result,r=document.createElement("img");document.body.appendChild(r),r.onload=function(){var e=document.createRange();e.selectNode(r);var n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(e),document.execCommand("copy",!1,null),t()),document.body.removeChild(r)},r.src=n}},r.readAsDataURL(e)}}function v(e,t,n){return new Promise((function(r){if(e){var o,i=t.paddingSize?t.paddingSize:0,a="mac"===t.borderType?"mac":"win",c="web"==n?"/static/images/":"./images/",s=c+a+"-header-left.png",l=c+a+"-header-center.png",u=c+a+"-header-right.png",d=e.width;(function(e){function t(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){t({ele:r,height:r.height,width:r.width})},r.onerror=r.onabort=function(){n(e)},r.src=e}))}for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return Promise.all(n)})([s,l,u]).then((function(n){var c=e.getContext("2d"),s=i;if(o=d-t.left-t.right-2*i,n.forEach((function(e,n){var a;1===n?a=o:0===n?a=t.left:2===n&&(a=t.right),c.drawImage(e.ele,0,0,e.width,e.height,s,i,a,t.height),s+=a,2===n&&r()})),t.url)if(c.font=13*window.devicePixelRatio+"px Arial",c.fillStyle="#000000",c.measureText(t.url).width>o){var l=b(c,t.url,o);c.fillText(l,140*window.devicePixelRatio+i,("mac"===a?66:70)*window.devicePixelRatio+i)}else c.fillText(t.url,140*window.devicePixelRatio+i,("mac"===a?66:70)*window.devicePixelRatio+i);if(t.captureTime){c.font=12*window.devicePixelRatio+"px sans-serif",c.fillStyle="#000000";var u=c.measureText(t.captureTime).width,f=d-i-10*window.devicePixelRatio-u,m="mac"===a?34*window.devicePixelRatio+i:39*window.devicePixelRatio+i;c.fillText(t.captureTime,f,m)}}))}}))}function y(e,t,n,r){var o=document.createElement("canvas"),i=o.getContext("2d"),a=t.height,c=t.width,s=0,l=0,u=0,d=null,f=t.border.borderType;t.border.paddingSize>0&&(s=t.border.paddingSize,d=t.border.paddingColor,l+=s,u+=s,a+=2*s,c+=2*s),o.width=c,f&&(a+=t.border.height,o.height=a,"url_bottom"!==f&&(u+=t.border.height)),o.height=a,d&&(i.save(),i.fillStyle=d,i.fillRect(0,0,o.width,o.height),i.restore(),s>0&&(i.shadowOffsetX=4*window.devicePixelRatio,i.shadowOffsetY=4*window.devicePixelRatio,i.shadowBlur=4*window.devicePixelRatio,i.shadowColor="rgba(0,0,0,.15)"));var m=URL.createObjectURL(e);if("mac"===f||"windows"===f)v(o,t.border,n).then((function(){var e=document.createElement("img");e.onload=function(){i.drawImage(e,l,u);var t="png"===localStorage.format?"image/png":"image/jpeg";o.toBlob((function(e){r(e)}),t,1)},e.src=m}));else{!function(e,t,n){if(!(Object.keys(t).indexOf("url")<0)){var r=e.getContext("2d"),o="url_top"==t.borderType?0:n,i=t.paddingSize?t.paddingSize:0,a=e.width-20-2*i,c="Captured at: "+t.captureTime+(t.url&&t.url.length?"  URL: "+t.url:""),s="single",l=40;if(r.font="bold 24px Arial",r.measureText(c).width>a){s="multiple";var u=w(r,"URL:"+t.url,a);l=40*(u.length+1)}if(r.fillStyle="#000000",r.fillRect(i,o+i,e.width-2*i,l),r.restore(),r.fillStyle="#ffffff",r.textBaseline="top",r.strokeStyle="#ffffff",r.font="bold 24px Arial","single"===s)r.fillText(c,12+i,8+o+i);else{r.fillText("Captured at:"+t.captureTime,12+i,8+o+i);for(var d=0;d<u.length;d++)r.fillText(u[d],12+i,8+40*(d+1)+o+i)}}}(o,t.border,t.height);var h=document.createElement("img");h.onload=function(){i.drawImage(h,l,u);var e="png"===localStorage.format?"image/png":"image/jpeg";o.toBlob((function(e){r(e)}),e,1)},h.src=m}}function g(e,t,n,r,o){var i=e.getContext("2d"),a=n&&n.length?t+" "+n:t,c="single",s=40,l="bold 24px Arial";if(i.font=l,i.measureText(a).width>r){c="multiple";var u=w(i,n,r);s=40*(u.length+1)}if(o(s),e.width=r,e.height=s,i.fillStyle="#000000",i.fillRect(0,0,e.width,s),i.restore(),i.fillStyle="#ffffff",i.textBaseline="top",i.strokeStyle="#ffffff",i.font=l,"single"===c)i.fillText(a,10,8);else{i.fillText(t,10,8);for(var d=0;d<u.length;d++)i.fillText(u[d],10,8+40*(d+1))}}function b(e,t,n){for(var r=t.split(""),o=r[0],i=1;i<r.length;i++){var a=r[i];if(!(e.measureText(o+" "+a).width<n))break;o+=a}return o+"..."}function w(e,t,n){n-=10;for(var r=t.split(""),o=[],i=r[0],a=1;a<r.length;a++){var c=r[a];e.measureText(i+" "+c).width<n?i+=c:(o.push(i),i=c)}return o.push(i),o}},97882:(e,t,n)=>{n.d(t,{a:()=>o});var r=n(13192),o=n.n(r)()({USER_LOAD_INFO:null,USER_AVATAR_REFRESH:null,USER_LOAD_INFO_LOADING:null,USER_CLICK_FIVE_STAR:null,USER_PERMISSION_LOADING:null,USER_PERMISSION_RECEIVE:null,USER_SET_SHOW_GUIDE:null,CONNECTED_ACCOUNT_LOAD_RECEIVED:null,CONNECTED_ACCOUNT_SUCCESS:null,CONNECTED_ACCOUNT_DELETED:null,DESTINATIONS_LOAD_RECEIVED:null,DESTINATIONS_LOAD_DOING:null,CONNECTED_ACCOUNT_LOAD_DOING:null,DESTINATION_CREATED:null,DESTINATION_DELETED:null,DESTINATION_PRIVACY_CHANGED:null,DESTINATION_LOAD_SCREENSHOTS_RECEIVED:null,DESTINATION_LOAD_VIDEOS_RECEIVED:null,TEAM_MEMBER_LOAD_RECEIVED:null,TEAM_MEMBER_LOAD_DOING:null,TEAM_MEMBER_REMOVED:null,TEAM_INFO_LOAD_RECEIVED:null,TEAM_INFO_LOAD_DOING:null,TEAM_JOIN_DONE:null,PLANS_LOAD_RECEICED:null,VIDEO_LOADING_ANNOTATIONS:null,VIDEO_LOADED_ANNOTATIONS:null,VIDEO_LOAD_INFO:null,VIDEO_UPDATE_INFO:null,VIDEO_INFO_LOADING:null,VIDEO_LOAD_ACTIVE_LIST:null,VIDEO_ACTIVE_LIST_LOADING:null,VIDEO_LOAD_INACTIVE_LIST:null,VIDEO_INACTIVE_LIST_LOADING:null,VIDEO_DELETED:null,VIDEO_CONVERT_TO_MP4:null,VIDEO_CONVERTING_TO_MP4_INFO:null,VIDEO_GENERATE_SHARE_LINK:null,VIDEO_GENERATE_SHARE_LINK_FAILED:null,VIDEO_GENERATE_SHARE_LINK_LOADING:null,VIDEO_REVOKE_SHARE_LINK:null,VIDEO_EDIT_TITLE_LOADING:null,VIDEO_EDIT_TITLE:null,VIDEO_OPEN_EDIT_TITLE:null,VIDEO_HIDE_EDIT_TITLE:null,VIDEO_SET_COMPLETE_DONE:null,FOLDER_LOAD:null,FOLDER_LOADING:null,TOP_FOLDER_LOAD:null,TOP_FOLDER_LOADING:null,FOLDER_LOAD_TOP_LIST:null,FOLDER_CREATE:null,FOLDER_MOVE:null,FOLDER_RENAME:null,FOLDER_EDIT_DESC:null,FOLDER_GET_SHARE_LINK:null,FOLDER_GETTING_SHARE_LINK:null,FOLDER_REVOKE_SHARE_LINK:null,FOLDER_DELETE:null,FOLDER_UPDATE:null,FOLDER_RECEIVED:null,FOLDER_CHANGE_SORT:null,STAR_FOLDER_ADD:null,STAR_FOLDER_REMOVE:null,STAR_FOLDER_DELETE:null,STAR_FOLDER_UPDATE:null,ITEM_LIST_LOAD:null,ITEM_LIST_LOAD_MORE:null,ITEM_LIST_INITIAL_LOAD:null,ITEM_LIST_LOADING:null,ITEM_SHOW_PAGE_COUNT_RESTORE:null,ITEM_SHOW_PAGE_COUNT_ADD:null,ITEM_VIEW_SHOW:null,ITEM_VIEW_HIDE:null,ITEM_MOVE:null,ITEM_DELETE:null,ITEM_CHANGE_SORT:null,ITEM_UPDATE_SCROLL:null,ITEM_SUB_LOADING:null,ITEM_ADD:null,ITEM_LIST_RESTORE:null,ITEM_LOADED_RESET:null,SHARED_ITEM_LIST_LOAD:null,SHARED_ITEM_LIST_LOAD_MORE:null,SHARED_ITEM_LIST_INITIAL_LOAD:null,SHARED_ITEM_LIST_LOADING:null,SHARED_FOLDER_LIST_LOAD:null,SHARED_FOLDER_LIST_LOADING:null,SHARED_ITEM_SHOW_PAGE_COUNT_RESTORE:null,SHARED_ITEM_SHOW_PAGE_COUNT_ADD:null,SHARED_ITEM_VIEW_SHOW:null,SHARED_ITEM_VIEW_HIDE:null,SHARED_ITEM_MOVE:null,SHARED_ITEM_DELETE:null,SHARED_ITEM_CHANGE_SORT:null,SHARED_ITEM_UPDATE_SCROLL:null,SHARED_ITEM_SUB_LOADING:null,SHARED_ITEM_ADD:null,SHARED_ITEM_LIST_RESTORE:null,SHARED_LIST_LOAD:null,SHARED_LIST_LOAD_MORE:null,SHARED_LIST_INITIAL_LOAD:null,SHARED_LIST_LOADING:null,SHARED_SHOW_PAGE_COUNT_RESTORE:null,SHARED_SHOW_PAGE_COUNT_ADD:null,SHARED_VIEW_SHOW:null,SHARED_VIEW_HIDE:null,SHARED_UPDATE_SCROLL:null,SHARED_SUB_LOADING:null,SHARED_LIST_RESTORE:null,SHARED_NOTI_LOAD:null,SHARED_NEW_COMMENTS_VIEWED:null,SHARED_LIST_DELETE:null,SHARED_LIST_ADD:null,SHARED_TITLE_EDIT:null,IMAGE_RECEIVED:null,IMAGE_MOVE:null,IMAGE_RENAME:null,IMAGE_DELETE:null,IMAGE_LIST_LOADING:null,IMAGE_LIST_LOAD:null,IMAGE_LIST_SUB_LOADING:null,IMAGE_LIST_LOAD_MORE:null,IMAGE_SCROLL_UPDATE:null,IMAGE_CHANGE_SORT:null,IMAGE_ADD:null,IMAGE_INFO_LOAD:null,IMAGE_INFO_LOADING:null,IMAGE_PAGE_UPDATE:null,IMAGE_GENERATE_SHARE_LINK:null,IMAGE_GENERATE_SHARE_LINK_FAILED:null,IMAGE_GENERATE_SHARE_LINK_LOADING:null,IMAGE_REVOKE_SHARE_LINK:null,IMAGE_LIST_RESTORE:null,IMAGE_MOVE_TO_CHANNEL:null,IMAGE_ANNOTATED:null,IMAGE_DUPLICATE:null,IMAGE_SHARE_SETTING:null,VIDEO_SCROLL_UPDATE:null,VIDEO_RECEIVED:null,VIDEO_MOVE:null,VIDEO_RENAME:null,VIDEO_DELETE:null,VIDEO_DELETE_MULTIPLE:null,VIDEO_LIST_SUB_LOADING:null,VIDEO_LIST_LOAD_MORE:null,VIDEO_CHANGE_SORT:null,VIDEO_PAGE_UPDATE:null,VIDEO_LIST_RESTORE:null,VIDEO_MOVE_TO_CHANNEL:null,SELECTED_ADD:null,SELECTED_REMOVE:null,SELECTED_CLEAR:null,SELECTED_TRASH_ADD:null,SELECTED_TRASH_REMOVE:null,SELECTED_TRASH_CLEAR:null,TRASH_LOAD:null,TRASH_LOADING:null,TRASH_RESTORE:null,TRASH_DELETE:null,TRASH_EMPTY:null,TRASH_PAGE_CHANGE:null,SEARCH_LOAD:null,SEARCH_LOADING:null,SEARCH_ITEM_LOAD:null,SEARCH_ITEM_LOADING:null,SEARCH_ITEM_DELETE:null,SEARCH_PAGE_CHANGE:null,SEARCH_SCROLL_UPDATE:null,SEARCH_QUERY_UPDATE:null,SEARCH_META_ADD:null,SEARCH_META_DELETE:null,SEARCH_META_RENAME:null,COMMENT_LOADED:null,COMMENT_LOADING:null,COMMENT_USER_LIST_LOADED:null,COMMENT_USER_LIST_LOADING:null,COMMENT_CREATED:null,COMMENT_CREATE_FAILED:null,COMMENT_CREATING:null,COMMENT_REMOVED:null,COMMENT_REMOVE_ANIMATION:null,COMMENT_REMOVE_MENTIONED:null,COMMENT_REMOVE_NEW:null,WORKSPACE_CREATE:null,WORKSPACE_CREATING:null,WORKSPACE_LOAD:null,WORKSPACE_LOADING:null,WORKSPACE_CHANNEL_LOAD:null,WORKSPACE_CHANNEL_LOADING:null,WORKSPACE_MEMBER_LOAD:null,WORKSPACE_MEMBER_LOADING:null,WORKSPACE_META_EDIT:null,WORKSPACE_ENTER:null,WORKSPACE_CHANGE_ROLE:null,WORKSPACE_LEAVE:null,WORKSPACE_MEMBER_REMOVE:null,WORKSPACE_INFO_LOAD:null,CHANNEL_CREATE:null,CHANNEL_CREATING:null,CHANNEL_LIST_LOAD:null,CHANNEL_LIST_LOAD_MORE:null,CHANNEL_LIST_LOAD_ERROR:null,CHANNEL_LIST_SUB_LOADING:null,CHANNEL_LIST_LOADING:null,CHANNEL_ITEM_ADD:null,CHANNEL_MEMBERS_LOAD:null,CHANNEL_MEMBERS_LOADING:null,CHANNEL_CHANGE_SORT:null,CHANNEL_UPDATE_SCROLL:null,CHANNEL_META_EDIT:null,CHANNEL_OWNER_TRANSFER:null,CHANNEL_MEMBER_REMOVE:null,CHANNEL_JOIN:null,CHANNEL_ADD_MEMBER_FROM_WORKSPACE:null,CHANNEL_ITEM_RENAME:null,CHANNEL_LEAVE:null,CHANNEL_ITEM_DELETE:null,CHANNEL_ITEM_RESTORE:null,CHANNEL_ITEM_MULTIPLE_DELETE:null,CHANNEL_VIDEO_SET_COMPLETE_DONE:null,CHANNEL_ITEM_UPDATE_INFO:null,CHANNEL_FOLDER_LOAD_ALL:null,CHANNEL_FOLDER_CREATE:null,CHANNEL_FOLDER_UPDATE:null,CHANNEL_FOLDER_REMOVE:null,CHANNEL_FOLDER_SET_LOADING_STATUS:null,CHANNEL_PAGE_RESET:null,NOTIFICATION_LOAD:null,NOTIFICATION_LOADING:null,NOTIFICATION_MARK_AS_READ:null,NOTIFICATION_ALL_MARK_AS_READ:null,SETTING_THEME_CHANGE:null,UI_SHOW_ITEM:null,UI_HIDE_ITEM:null,UI_RESET_BROWSING:null,UI_UPDATE_RECORD_PANEL:null,UI_IS_RECORDING:null,UI_NEXT_ITEM:null,UI_PREV_ITEM:null,DOWNLOADLIST_ADD:null,DOWNLOADLIST_REMOVE:null,DOWNLOADLIST_EMPTY:null,DOWNLOADLIST_CHANGE:null,USER_GUIDE_LOAD:null,USER_GUIDE_SET_STEP_DONE:null,USER_GUIDE_SET_POPUP_DONE:null,USER_GUIDE_SKIP:null,CHANGELOG_LOAD:null,CHANGELOG_LOADING:null,CHANGELOG_RESET:null})},71436:(e,t,n)=>{n.d(t,{$1:()=>E,A3:()=>se,BG:()=>T,CZ:()=>ce,Cc:()=>Q,FO:()=>ae,Fb:()=>M,G5:()=>je,Gb:()=>we,I5:()=>J,JJ:()=>Y,Jp:()=>B,MY:()=>ie,Mk:()=>F,O0:()=>z,OM:()=>U,Q6:()=>Z,QP:()=>G,QT:()=>V,Qf:()=>ye,Qh:()=>X,R1:()=>R,Ro:()=>be,TL:()=>re,W3:()=>he,Z1:()=>te,Zl:()=>A,bC:()=>de,d_:()=>me,eW:()=>ge,lk:()=>ee,ni:()=>xe,nr:()=>Ie,px:()=>W,q:()=>ve,qI:()=>_,qJ:()=>Oe,rd:()=>C,ri:()=>q,s8:()=>k,sK:()=>L,sk:()=>P,tK:()=>ue,tq:()=>O,uo:()=>fe,vI:()=>N,vs:()=>le,wN:()=>pe,y7:()=>$,zx:()=>Se,zz:()=>oe});var r=n(97168),o=n(31955),i=n(4976),a=n(43087),c=n(5551),s=n(20722),l=n(67618),u=n(97882),d=n(65880),f=n(15322),m=n(65936),h=n(45826),p=n(55087),v=n(543),y=n(51447);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==t&&n.call(y,i)&&(p=y);var w=h.prototype=f.prototype=Object.create(p);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==g(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=h,r(w,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),s(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,c,"next",e)}function c(e){S(i,r,o,a,c,"throw",e)}a(void 0)}))}}var O=(0,r.PH)(u.a.CHANNEL_LIST_LOAD),E=(0,r.PH)(u.a.CHANNEL_LIST_LOADING),N=(0,r.PH)(u.a.CHANNEL_LIST_LOAD_ERROR),D=(0,l.EY)(a.qz);function A(e,t,n){return function(){var r=I(b().mark((function r(o,i){var a;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i().channel.isLoading||n){r.next=6;break}return r.abrupt("return",Promise.resolve());case 6:return o(E()),r.prev=7,r.next=10,D(e,t);case 10:a=r.sent,o(O(j(j(j({},a),e),{},{currentDisplayPage:a.page}))),r.next=18;break;case 14:throw r.prev=14,r.t0=r.catch(7),o(N()),r.t0;case 18:case"end":return r.stop()}}),r,null,[[7,14]])})));return function(e,t){return r.apply(this,arguments)}}()}var C=(0,r.PH)(u.a.CHANNEL_LIST_SUB_LOADING),P=(0,r.PH)(u.a.CHANNEL_LIST_LOAD_MORE);function k(){return function(){var e=I(b().mark((function e(t,n){var r,o,a,s,l,u,d,f,m,h,p,v,y,g;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.channel,a=o.isSubPageLoading,s=o.workspaceID,l=o.channelID,u=o.folderID,d=o.subPage,f=o.page,m=o.isEnd,h=o.total,p=o.isLoading,v=o.sort,y=o.lastTimestamp,g=o.lasttimestampItemID,!(a||d===c.J6||m||h<20||p)){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:t(C()),i.v$z(v,f*c.J6+d+1,s,l,u,y,g).then((function(e){t(P(e.items))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var T=(0,r.PH)(u.a.CHANNEL_ITEM_ADD);function L(e,t,n,r){var o=e.workspaceID,a=e.channelID,c=e.folderID;return function(e,u){var m=(0,s.DK)(),y=u(),b=t.filter((function(e){return"image"===e.itemType})),w=t.filter((function(e){return"video"===e.itemType})),x=w.map((function(e){return e.id})).join(","),S=b.map((function(e){return e.id})).join(","),I=(0,l.D3)(0,x.length,S.length),O=t.map((function(e){return e.itemType+"-"+(e.itemID||e.id)})).join(",");i.sKT({workspaceID:o,channelID:a,folderID:c},O).then((function(n){var i;if(w.length){var c=w.map((function(e){return j(j({},e),{},{canVisit:!0,channel:n.channel,workspace:n.workspace,wcFolder:n.folder||null})}));w[0].inChannel||w[0].channel||e((0,d.Qh)({items:w})),e((0,v.lT)(c))}if(b.length){var l=b.map((function(e){return j(j({},e),{},{canVisit:!0,channel:n.channel,workspace:n.workspace,wcFolder:n.folder||null})}));b[0].inChannel||b[0].channel||e((0,d.Qh)({items:b})),e((0,f.Vf)(l))}n.items.forEach((function(e){var t,n;e.info&&e.info.userName||(e.info=(t=e.itemType,n=e.itemID,y.channel.items[t+n]?y.channel.items[t+n].info:j(j({},"video"===t?y.video.videos[n].info:y.image.images[n].info),{},{userName:y.user.info.fullName,userAvatar:y.user.info.avatarURL})))})),e(T({workspaceID:o,channelID:a,items:n.items})),(t[0].inChannel||t[0].channel)&&e(le(t)),y.multipleSelect.selectedItems.length&&e((0,h.jh)()),(0,s.wD)(m,{msg:I+" moved successfully."}),e((0,p.Xw)()),null!==(i=y.channel.channelFoldersMap[o])&&void 0!==i&&i[a]&&e(he(o,a)),null==r||r()})).catch((function(e){"object"===g(e)&&"Need upgrade."===e.msg?((0,s.vU)(m),null==n||n(e.data.isOwner)):(0,s.wD)(m,{type:"error",msg:"Moving "+I.toLowerCase()+" failed. "+e})}))}}var _=(0,r.PH)(u.a.CHANNEL_MEMBERS_LOAD),R=(0,r.PH)(u.a.CHANNEL_MEMBERS_LOADING);function M(e,t){return function(){var n=I(b().mark((function n(r){var o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(R()),n.next=3,i.FbR(e,t);case 3:o=n.sent,r(_(o.members));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Z=(0,r.PH)(u.a.CHANNEL_CHANGE_SORT);function F(e){return function(t,n){var r=n(),i=r.channel.sort;if(o.Z.set("channel_sort",e),t(Z(e)),i!==e){var a=r.channel;t(A({workspaceID:a.workspaceID,channelID:a.channelID,folderID:a.folderID},{page:a.page,sort:e}))}}}var U=(0,r.PH)(u.a.CHANNEL_UPDATE_SCROLL),H=(0,r.PH)(u.a.CHANNEL_META_EDIT);function G(e,t,n,r){return function(){var o=I(b().mark((function o(a){return b().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.QPX(e,t,n,r);case 2:a(H({channelID:t,type:n,value:r}));case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}var V=(0,r.PH)(u.a.CHANNEL_OWNER_TRANSFER);function B(e,t,n){return function(){var r=I(b().mark((function r(o){return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.ywm(e,t,n);case 2:o(V(n));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var W=(0,r.PH)(u.a.CHANNEL_MEMBER_REMOVE);function z(e,t,n){return function(r){i.Pwg(e,t,n).then((function(){r(W(n))}))}}var K=(0,r.PH)(u.a.CHANNEL_JOIN);function Y(e,t){return function(){var n=I(b().mark((function n(r){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.WZ)(i.JJ5(e,t),{okMsg:"Channel joined."});case 2:r(K(t));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Q=(0,r.PH)(u.a.CHANNEL_ADD_MEMBER_FROM_WORKSPACE);function q(e,t,n){return function(){var r=I(b().mark((function r(o){var a;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.ri7(e,t,n);case 2:return a=r.sent,o(Q(a)),r.abrupt("return");case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var J=(0,r.PH)(u.a.CHANNEL_ITEM_RENAME);function X(e,t){return function(){var n=I(b().mark((function n(r){var o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="image"===e.itemType?i.I5G:i.Nbr,n.next=3,(0,s.WZ)(o,{okMsg:"Rename successfully.",errMsg:function(e){return"string"==typeof e?e:"Rename failed."}})(e.id,t);case 3:r(J({id:e.id,itemType:e.itemType,name:t}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function $(e,t){return function(){var n=I(b().mark((function n(r){var o,i,c,s,l;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("channel"in e)){n.next=7;break}return o=e.channel,i=o.workspaceID,c=o.id,s=e.channelItemId,l=e.itemType,n.next=4,(0,a.YX)({workspaceID:i,channelID:c,id:s},t);case 4:r(J({id:String(e.id),itemType:l,name:t})),n.next=10;break;case 7:return n.next=9,(0,a.YX)(e,t);case 9:r(ee({id:String(e.itemID),itemType:e.itemType,item:{title:t}}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var ee=(0,r.PH)(u.a.CHANNEL_ITEM_UPDATE_INFO);function te(e){return function(){var t=I(b().mark((function t(n){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.fBG(e);case 2:if(r=t.sent.video){t.next=5;break}return t.abrupt("return");case 5:n(ee({id:e,itemType:"video",item:r}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var ne=(0,r.PH)(u.a.CHANNEL_LEAVE);function re(e,t){return function(){var n=I(b().mark((function n(r){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.WZ)(i.j3I,{okMsg:"Leave channel successfully"})(e,t);case 2:r(ne({channelID:t}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function oe(e,t){return function(){var n=I(b().mark((function n(r){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.zzM(e,t);case 2:r(ne({channelID:t}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var ie=(0,r.PH)(u.a.CHANNEL_ITEM_DELETE);function ae(e){return function(){var t=I(b().mark((function t(n){var r,o,a,c,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.workspaceID,o=e.channelID,a=e.id,c=e.itemType,l=e.itemID,e.folderID,t.next=3,(0,s.WZ)(i.FOj,{okMsg:"Item move to trash successfully."})(r,o,a);case 3:n(ie(c+l)),n((0,y.yQ)(r)),n(he(r,o));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ce(e){return function(){var t=I(b().mark((function t(n,r){var o,a,c,l,u,d,f,h;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.workspaceID,a=e.channelID,c=e.id,l=e.itemType,u=e.itemID,d=e.folderID,t.next=3,(0,s.WZ)(i.CZT,{okMsg:"Return successfully."})({workspaceID:o,channelID:a,id:c,folderID:d});case 3:n(ie(l+u)),n(he(o,a)),n((0,m.LD)()),f=r(),(h=f.workspace.myWorkspaceHash[o])&&"lite"===h.plan&&n((0,y.yQ)(o));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var se=(0,r.PH)(u.a.CHANNEL_ITEM_RESTORE),le=(0,r.PH)(u.a.CHANNEL_ITEM_MULTIPLE_DELETE),ue=(0,r.PH)(u.a.CHANNEL_VIDEO_SET_COMPLETE_DONE);function de(e){return function(){var t=I(b().mark((function t(n){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.sVk(e);case 2:r=t.sent,n(ue({id:e,info:r}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var fe=(0,r.PH)(u.a.CHANNEL_FOLDER_LOAD_ALL),me=(0,r.PH)(u.a.CHANNEL_FOLDER_SET_LOADING_STATUS);function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipIfLoaded;return function(){var n=I(b().mark((function n(o,i){var c,s,l,u;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!r){n.next=6;break}if(s=i(),!(l=null===(c=s.channel.channelFoldersChildrenMap[e])||void 0===c?void 0:c[t])||!l.isLoaded){n.next=6;break}return n.abrupt("return",null);case 6:return o(me({idParams:{channelID:t,workspaceID:e},status:{isLoading:!0}})),n.next=9,(0,a.mw)(e,t);case 9:return u=n.sent,o(fe({workspaceID:e,channelID:t,folders:u})),n.abrupt("return",u);case 14:throw n.prev=14,n.t0=n.catch(0),o(me({idParams:{workspaceID:e,channelID:t},status:{isLoading:!1}})),n.t0;case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}()}function pe(e,t,n){var r=e.workspaceID,o=e.channelID,i=e.folderID;return function(){var e=I(b().mark((function e(c){var s,l,u,d,m,h,p,y,w,x;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return s=t.filter((function(e){return"folder"===e.itemType})),l=t.filter((function(e){return"image"===e.itemType||"video"===e.itemType})),u=[],s.length>0&&(u[0]=(0,a.h5)({workspaceID:r,channelID:o,folderID:i||"0"},s)),l.length>0&&(u[1]=(0,a.OT)({workspaceID:r,channelID:o,folderID:i},l.map((function(e){var t;return j(j({},e),{},{itemID:Number(null!==(t=e.itemID)&&void 0!==t?t:e.id)})}))).then().catch((function(e){throw"object"===g(e)&&"Need upgrade."===e.msg&&(null==n||n(e.data.isOwner)),e}))),e.next=9,Promise.all(u);case 9:d=e.sent,c(he(r,o)),l.length&&(c(ie(l.map((function(e){var t=+("info"in e?e.itemID:e.id);return e.itemType+t})))),m=d[1],h=m.channel,p=m.workspace,y=m.folder,w=l.filter((function(e){return"image"===e.itemType})),(x=l.filter((function(e){return"video"===e.itemType}))).length&&c((0,v.lT)(x.map((function(e){return j(j({},"info"in e?e.info:e),{},{channel:h,workspace:p,wcFolder:y})})))),w.length&&c((0,f.Vf)(w.map((function(e){return j(j({},"info"in e?e.info:e),{},{channel:h,workspace:p,wcFolder:y})})))));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var ve=(0,r.PH)(u.a.CHANNEL_FOLDER_CREATE);function ye(e,t){return function(){var n=I(b().mark((function n(r){var o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.$2)(e,t);case 2:return o=n.sent,r(ve(o)),n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var ge=(0,r.PH)(u.a.CHANNEL_FOLDER_UPDATE);function be(e,t){return function(){var n=I(b().mark((function n(r){var o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.oi)(e,t);case 2:return o=n.sent,r(ge({id:e,folder:o})),n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function we(e,t){return function(){var n=I(b().mark((function n(r){var o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.KS)(e,t);case 2:return o=n.sent,r(ge({id:o,folder:o})),n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var je=(0,r.PH)(u.a.CHANNEL_FOLDER_REMOVE);function xe(e){return function(){var t=I(b().mark((function t(n){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.HW)(e);case 2:n(je(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Se(e){return function(){var t=I(b().mark((function t(n){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a._n)(e);case 2:return r=t.sent,n(ge({id:e,folder:{shareKey:r}})),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ie(e){return function(){var t=I(b().mark((function t(n){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.$T)(e);case 2:n(ge({id:e,folder:{shareKey:""}}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Oe=(0,r.PH)(u.a.CHANNEL_PAGE_RESET)},92807:(e,t,n)=>{n.d(t,{KT:()=>m,L9:()=>S,Mj:()=>v,YF:()=>x,Yr:()=>w,xF:()=>I});var r=n(97168),o=n(4976),i=n(20722),a=n(97882);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,a,s){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,l,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)}))}}var d=(0,r.PH)(a.a.COMMENT_LOADED),f=(0,r.PH)(a.a.COMMENT_LOADING);function m(e,t,n){return function(){var r=u(s().mark((function r(i){var a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i(f()),r.next=3,o.KTp(e,t,n);case 3:a=r.sent,i(d({itemType:e,itemId:t,data:a}));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var h=(0,r.PH)(a.a.COMMENT_USER_LIST_LOADED),p=(0,r.PH)(a.a.COMMENT_USER_LIST_LOADING);function v(e,t,n){return function(){var r=u(s().mark((function r(i){var a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i(p()),r.next=3,o.MjW(e,t,n);case 3:a=r.sent,i(h(a));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var y=(0,r.PH)(a.a.COMMENT_CREATED),g=(0,r.PH)(a.a.COMMENT_CREATING),b=(0,r.PH)(a.a.COMMENT_CREATE_FAILED);function w(e,t,n,r,a,c){return function(){var l=u(s().mark((function l(u){return s().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return u(g()),s.abrupt("return",o.Yrx(e,t,n,r,a).then((function(n){u(y({itemType:e,itemId:t,data:n})),null==c||c()})).catch((function(e){u(b()),(0,i.sc)({type:"error",msg:"Create comment failed. "+e})})));case 2:case"end":return s.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()}var j=(0,r.PH)(a.a.COMMENT_REMOVED);function x(e,t,n){return function(r){o.YFy(n).then((function(){r(j({itemType:e,itemId:t,id:n}))})).catch((function(e){(0,i.sc)({type:"error",msg:"Delete comment failed. "+e})}))}}var S=(0,r.PH)(a.a.COMMENT_REMOVE_ANIMATION),I=(0,r.PH)(a.a.COMMENT_REMOVE_MENTIONED)},78512:(e,t,n)=>{n.d(t,{J0:()=>v,Mg:()=>h,Q6:()=>f});var r=n(97168),o=n(4976),i=n(97882);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,c,s){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return o("throw",e,c,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,l,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function s(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}var u=(0,r.PH)(i.a.CONNECTED_ACCOUNT_LOAD_RECEIVED),d=(0,r.PH)(i.a.CONNECTED_ACCOUNT_LOAD_DOING);function f(e){return function(){var t=l(c().mark((function t(n,r){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=r()).connectedAccount.isLoading||i.connectedAccount.accounts.length>0)||!0===e){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return n(d()),t.abrupt("return",o.ttN().then((function(e){n(u({accounts:e.accounts}))})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var m=(0,r.PH)(i.a.CONNECTED_ACCOUNT_SUCCESS);function h(e){return function(t){t(m({account:e}))}}var p=(0,r.PH)(i.a.CONNECTED_ACCOUNT_DELETED);function v(e){return function(){var t=l(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.npm(e).then((function(){n(p({accountID:e}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},83662:(e,t,n)=>{n.d(t,{$P:()=>S,c0:()=>j,c1:()=>y,jG:()=>m,kE:()=>b,vM:()=>p});var r=n(97168),o=n(4976),i=n(97882),a=n(78512);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,a,s){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,l,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)}))}}var d=(0,r.PH)(i.a.DESTINATIONS_LOAD_RECEIVED),f=(0,r.PH)(i.a.DESTINATIONS_LOAD_DOING);function m(){return function(){var e=u(s().mark((function e(t,n){var r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().destination,i=r.isLoading,a=r.destinations,!(i||a.length>0)){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return t(f()),e.abrupt("return",o.LDB().then((function(e){t(d({destinations:e.destinations}))})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var h=(0,r.PH)(i.a.DESTINATION_CREATED);function p(e){return function(t){t((0,a.Q6)(!0)),t(h({destination:e}))}}var v=(0,r.PH)(i.a.DESTINATION_DELETED);function y(e){return function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.fOZ(e).then((function(){n((0,a.Q6)(!0)),n(v({destinationID:e}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var g=(0,r.PH)(i.a.DESTINATION_PRIVACY_CHANGED);function b(e,t){return function(){var n=u(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",o.vNM(e,t).then((function(e){r(g({destination:e.destination}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var w=(0,r.PH)(i.a.DESTINATION_LOAD_SCREENSHOTS_RECEIVED);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=u(s().mark((function n(r,i){var a,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),c=a.destination.screenshotsMap,(c[e]||{}).page!==t){n.next=7;break}return n.abrupt("return",Promise.resolve());case 7:return n.abrupt("return",o.HCH(e,t).then((function(n){r(w({destinationID:e,currentPage:t,total:n.Total,limit:n.Limit,screenshots:n.Images}))})));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var x=(0,r.PH)(i.a.DESTINATION_LOAD_VIDEOS_RECEIVED);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=u(s().mark((function n(r,i){var a,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),c=a.destination.videosMap,(c[e]||{}).page!==t){n.next=7;break}return n.abrupt("return",Promise.resolve());case 7:return n.abrupt("return",o.lYX(e,t).then((function(n){r(x({destinationID:e,currentPage:t,total:n.Total,limit:n.Limit,videos:n.Videos}))})));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},13264:(e,t,n)=>{n.d(t,{H4:()=>m,WH:()=>f,dy:()=>v,qT:()=>p,tH:()=>h});n(47386);var r=n(48889),o=n(97168),i=n(4976),a=n(67618),c=n(97882);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,a,c){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==s(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function u(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}var f=(0,o.PH)(c.a.DOWNLOADLIST_ADD),m=(0,o.PH)(c.a.DOWNLOADLIST_REMOVE),h=(0,o.PH)(c.a.DOWNLOADLIST_EMPTY),p=(0,o.PH)(c.a.DOWNLOADLIST_CHANGE);function v(e){return function(t,n){var r=(0,o.x0)();g(r,e.id,t,n),t(f({id:r,fileId:e.id,status:"Pending",fileName:e.name}))}}var y=5e3;function g(e,t,n,o){(0,i.$lD)(t).then(function(){var i=d(l().mark((function i(c){var s,u,d,f,h;return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(u=(s=null!=c?c:{}).status,d=s.link,f=o().downloadList,f.find((function(t){return t.id===e}))){i.next=5;break}return i.abrupt("return");case 5:if("Success"!==u){i.next=13;break}return d&&b(d),n(p({id:e,status:"Succeed"})),i.next=10,(0,a._v)(2e3);case 10:n(m(e)),i.next=31;break;case 13:if("Waiting"!==u){i.next=18;break}h=setTimeout((function(){return g(e,t,n,o)}),2e3),n(p({id:e,retryTimer:h,status:"Pending"})),i.next=31;break;case 18:if("TooLarge"!==u){i.next=26;break}return n(p({id:e,status:"Failed"})),r.Z.error({title:"Downsize folder",content:"Unable to download a folder larger than 10GB. Please downsize your folder and retry.",okText:"Ok"}),i.next=23,(0,a._v)(y);case 23:n(m(e)),i.next=31;break;case 26:return n(p({id:e,status:"Failed"})),r.Z.error({title:"Download failed",content:"An error occurred while downloading. Please try again later (downsizing your folder or checking your internet connection might improve the success rate).",okText:"Ok"}),i.next=30,(0,a._v)(y);case 30:n(m(e));case 31:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).catch(d(l().mark((function t(){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o().downloadList,!i.find((function(t){return t.id===e}))){t.next=8;break}return n(p({id:e,status:"Failed"})),r.Z.error({title:"Download failed",content:"An error occurred while downloading. Please try again later (downsizing your folder or checking your internet connection might improve the success rate).",okText:"Ok",okButtonProps:{type:"ghost"}}),t.next=7,(0,a._v)(y);case 7:n(m(e));case 8:case"end":return t.stop()}}),t)}))))}function b(e){return w.apply(this,arguments)}function w(){return(w=d(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){n.onload=null,n.onerror=null,n.remove()},(n=document.createElement("iframe")).style.display="none",n.src=t.toString(),n.onerror=r,n.onload=r,document.body.append(n),e.next=9,(0,a._v)(3e4);case 9:r();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65880:(e,t,n)=>{n.d(t,{B0:()=>Z,Ec:()=>U,J1:()=>_,L6:()=>C,PW:()=>D,Qh:()=>L,Zj:()=>$,bo:()=>K,cr:()=>W,es:()=>O,iC:()=>Y,kO:()=>X,oW:()=>J,vM:()=>G});var r=n(50308),o=n.n(r),i=n(97168),a=n(4976),c=n(20722),s=n(67618),l=n(97882),u=n(15322),d=n(45826),f=n(10978),m=n(33179),h=n(55087),p=n(543);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(D([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=f.prototype=Object.create(p);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==v(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function S(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,c,"next",e)}function c(e){S(i,r,o,a,c,"throw",e)}a(void 0)}))}}(0,i.PH)(l.a.FOLDER_UPDATE);var O=(0,i.PH)(l.a.FOLDER_RECEIVED),E=(0,i.PH)(l.a.FOLDER_LOAD),N=(0,i.PH)(l.a.FOLDER_LOADING);function D(e){return function(t,n){var r=n();r.folder.isLoading||!e&&r.folder.loaded?Promise.resolve():(e||t(N()),a.PW5().then((function(e){t(E(e))})))}}var A=(0,i.PH)(l.a.FOLDER_CREATE);function C(e,t,n){return function(){var r=I(x().mark((function r(i){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){(0,c.WZ)(a.L60,{okMsg:"Folder created successfully.",errMsg:function(e){return"Creating folder failed. "+e}})(e,t).then((function(e){null==n||n(e.folder.folderID),i(A(e.folder)),i((0,f.h_)([{id:e.folder.folderID,itemType:"folder",createdSec:e.folder.createdSec,title:e.folder.name}])),r(e.folder)})).catch(o())})));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var P=(0,i.PH)(l.a.FOLDER_MOVE),k=(0,i.PH)(l.a.VIDEO_MOVE),T=(0,i.PH)(l.a.IMAGE_MOVE),L=(0,i.PH)(l.a.ITEM_MOVE);function _(e,t){return function(n,r){var o=r(),i=(0,c.DK)(),l=[],u=[],f=[];t.forEach((function(e){"folder"===e.itemType?f.push(e):"video"===e.itemType?l.push(e):u.push(e)}));var m=l.map((function(e){return e.id})).join(","),h=f.map((function(e){return e.id})).join(","),p=u.map((function(e){return e.id})).join(","),v=(0,s.D3)(h.length,m.length,p.length);a.J1J(e,m,p,h).then((function(t){if(f.length&&(n(P({folderID:e,folders:f})),t.folders&&t.folders.length&&n(O(t))),l.length){var r="0"===e?"":o.folder.folders[e].name;n(k({folderID:e,videos:l,folderName:r})),n(L({folderID:e,items:l}))}if(u.length){var a="0"===e?"":o.folder.folders[e].name;n(T({folderID:e,images:u,folderName:a})),n(L({folderID:e,items:u}))}o.multipleSelect.selectedItems.length&&n((0,d.jh)()),(0,c.wD)(i,{msg:v+" moved successfully."})})).catch((function(e){(0,c.wD)(i,{type:"error",msg:"Moving "+v.toLowerCase()+" failed. "+e})}))}}var R=(0,i.PH)(l.a.FOLDER_DELETE),M=(0,i.PH)(l.a.ITEM_DELETE);function Z(e,t){return function(n){var r=[],o=[],i=[];e.forEach((function(e){"folder"===e.itemType||void 0!==e.parentID?i.push(w(w({},e),{},{itemType:"folder"})):"video"===e.itemType?r.push(e):o.push(e)}));var l=r.map((function(e){return e.id})).join(","),v=i.map((function(e){return e.id})).join(","),y=o.map((function(e){return e.id})).join(","),g=(0,c.DK)(),b=(0,s.D3)(v.length,l.length,y.length);a.B0$(l,y,v).then((function(){n((0,f.ne)(e)),n((0,f.lD)(e)),i.length&&(n(R({folders:i})),n((0,u.cC)()),n((0,p.Iz)()),n((0,m.uH)())),r.length&&(n(M({items:r})),n((0,p.LE)(r))),o.length&&(n(M({items:o})),n((0,u.H9)(o))),i.length?n((0,m.xI)()):n((0,m.Yy)([].concat(r,o))),n((0,d.jh)()),1!==r.length||o.length||i.length||!r[0].failed?(0,c.wD)(g,{msg:b+" move to Trash successfully."}):(0,c.wD)(g,{msg:"Thank you for reporting this problem. We will analyze the error report and find a solution as soon as possible."}),null==t||t(),n((0,h.Xw)())})).catch((function(e){(0,c.wD)(g,{type:"error",msg:"Moving "+b.toLowerCase()+" to Trash failed. "+e})}))}}var F=(0,i.PH)(l.a.FOLDER_RENAME);function U(e,t){return function(n){var r=(0,c.DK)();a.Ec4(e,t).then((function(){(0,c.wD)(r,{msg:"Folder rename successfully."}),n(F({folderID:e,name:t})),n((0,f.r7)({id:e,itemType:"folder",name:t}))})).catch((function(e){(0,c.wD)(r,{type:"error",msg:"Renaming folder failed. "+e})}))}}var H=(0,i.PH)(l.a.FOLDER_EDIT_DESC);function G(e,t){return function(n){var r=(0,c.DK)();a.RwP(e,t).then((function(){(0,c.wD)(r,{msg:"Folder edit description successfully."}),n(H({folderID:e,desc:t}))})).catch((function(e){(0,c.wD)(r,{type:"error",msg:"Editing folder description failed. "+e})}))}}var V=(0,i.PH)(l.a.FOLDER_GET_SHARE_LINK),B=(0,i.PH)(l.a.FOLDER_GETTING_SHARE_LINK);function W(e,t){return function(n){n(B()),a.lGg(e).then((function(r){n(V({folderID:e,shareKey:r.shareKey})),null==t||t(r.shareKey)}))}}var z=(0,i.PH)(l.a.FOLDER_REVOKE_SHARE_LINK);function K(e){return function(){var t=I(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ty6(e);case 2:n(z(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(0,i.PH)(l.a.STAR_FOLDER_ADD);function Y(e){return function(t,n){var r=y(n().folder.starredFolderIDList);r.push(e);var o=r.join(",");a.oWj(o).then((function(){t(q(o))}))}}var Q=(0,i.PH)(l.a.STAR_FOLDER_REMOVE),q=(0,i.PH)(l.a.STAR_FOLDER_UPDATE);function J(e,t){return function(n){t?(n(q(e)),a.oWj(e)):a.oWj(e).then((function(){n(q(e))}))}}function X(e){return function(t){t(Q(e)),a.QPT(e)}}var $=(0,i.PH)(l.a.FOLDER_CHANGE_SORT)},15322:(e,t,n)=>{n.d(t,{H9:()=>A,I5:()=>b,KG:()=>D,Kv:()=>G,Ql:()=>k,Tw:()=>x,U5:()=>B,Vf:()=>V,Vu:()=>M,W_:()=>H,cC:()=>T,hn:()=>F,m8:()=>W,nY:()=>O,nt:()=>N});var r=n(50308),o=n.n(r),i=n(97168),a=n(31955),c=n(4976),s=n(5551),l=n(20722),u=n(97882),d=n(65936),f=n(10978),m=n(33179);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,i.PH)(u.a.IMAGE_RENAME);function b(e){return function(t){var n=e.id,r=e.name;(0,l.WZ)(c.I5G,{okMsg:"Rename Successfully.",errMsg:"Rename Failed."})(n,r).then((function(){t(g(e)),t((0,f.r7)({id:n,itemType:"image",name:r})),t((0,m.QM)({id:n,itemType:"image",name:r}))})).catch(o())}}var w=(0,i.PH)(u.a.IMAGE_LIST_LOADING),j=(0,i.PH)(u.a.IMAGE_LIST_LOAD);function x(e){return function(t,n){var r=n();t(w()),r.image.activeImages.isLoading?Promise.resolve():c.Twb(r.image.sort,e).then((function(n){t(j({images:n.images,page:e,total:n.total}))}))}}var S=(0,i.PH)(u.a.IMAGE_LIST_SUB_LOADING),I=(0,i.PH)(u.a.IMAGE_LIST_LOAD_MORE);function O(){return function(e,t){var n=t(),r=n.image.activeImages;if(r.isSubPageLoading||r.subPage===s.J6||r.isLoading||r.isEnd||0===r.page||-1===r.page)Promise.resolve();else{e(S());var o=r.lastTimestamp;c.Twb(n.image.sort,r.page*s.J6+r.subPage+1,o).then((function(t){e(I({images:t.images}))}))}}}var E=(0,i.PH)(u.a.IMAGE_CHANGE_SORT);function N(e){return function(t,n){var r=n();a.Z.set("image_sort",e),t(E(e)),r.image.sort!==e&&t(x(r.image.page))}}var D=(0,i.PH)(u.a.IMAGE_SCROLL_UPDATE),A=(0,i.PH)(u.a.IMAGE_DELETE),C=(0,i.PH)(u.a.IMAGE_INFO_LOAD),P=(0,i.PH)(u.a.IMAGE_INFO_LOADING);function k(e,t,n){return function(r){n||r(P(e)),c.Qlm(e,t).then((function(t){var n,o=v(v({},t.image),{},{isChannelMember:t.isChannelMember,channelItemId:t.channelItemId,showSourceURL:null!==(n=t.showSourceURL)&&void 0!==n&&n});r(C({id:e,image:o}))})).catch((function(){r(C({id:e,image:null}))}))}}var T=(0,i.PH)(u.a.IMAGE_PAGE_UPDATE),L=(0,i.PH)(u.a.IMAGE_GENERATE_SHARE_LINK),_=(0,i.PH)(u.a.IMAGE_GENERATE_SHARE_LINK_LOADING),R=(0,i.PH)(u.a.IMAGE_GENERATE_SHARE_LINK_FAILED);function M(e,t){return function(n,r){var o=r();n(_({id:e})),c.Eap(e).then((function(r){n(L({id:e,shareURI:r.shareURI,shareKey:r.shareKey})),n((0,m.RZ)(v(v({},o.image.images[e].info),{},{userAvatar:o.user.info.avatarURL,shareURI:r.shareURI,shareKey:r.shareKey}))),null==t||t(r.shareURI)})).catch((function(){n(R({id:e}))}))}}var Z=(0,i.PH)(u.a.IMAGE_SHARE_SETTING);function F(e){return function(t){var n=e.id,r=e.showSourceUrl;c.P2V(n,"image",{showSourceURL:r}).then((function(){t(Z(e))})).catch((function(){t(Z({id:n,showSourceUrl:!r}))}))}}var U=(0,i.PH)(u.a.IMAGE_REVOKE_SHARE_LINK);function H(e){return function(t){c.HD(e).then((function(){})),t(U({id:e})),t((0,m.Yy)([{itemType:"image",id:e}]))}}var G=(0,i.PH)(u.a.IMAGE_LIST_RESTORE),V=(0,i.PH)(u.a.IMAGE_MOVE_TO_CHANNEL),B=(0,i.PH)(u.a.IMAGE_ANNOTATED);function W(e,t){return function(n){(0,l.WZ)(c.m8y,{okMsg:"Image duplicated successfully",errMsg:"Image duplicated failed"})(e.id,e.shareKey,e.folderID,e.channel?e.channel.workspaceID:"",e.channel?e.channel.id:"").then((function(r){var o=r.image;"info"in o?null==t||t(o.info.id):(n((0,d.$)(e.folderID,[o])),null==t||t(o.id))})).catch(o())}}},65936:(e,t,n)=>{n.d(t,{$:()=>S,LD:()=>x,Of:()=>N,XT:()=>I,dZ:()=>A,nt:()=>E,oo:()=>b,s2:()=>C,y6:()=>g});n(50626);var r=n(48086),o=n(97168),i=n(31955),a=n(4976),c=n(5551),s=n(67618),l=n(97882),u=n(65880),d=n(15322),f=n(10978),m=n(55087),h=n(543),p=(0,o.PH)(l.a.ITEM_LIST_LOAD),v=(0,o.PH)(l.a.ITEM_LIST_LOAD_MORE),y=(0,o.PH)(l.a.ITEM_LIST_LOADING),g=(0,o.PH)(l.a.IMAGE_RECEIVED),b=(0,o.PH)(l.a.VIDEO_RECEIVED),w=(0,o.PH)(l.a.IMAGE_ADD),j=(0,o.PH)(l.a.ITEM_ADD),x=((0,o.PH)(l.a.ITEM_VIEW_SHOW),(0,o.PH)(l.a.ITEM_VIEW_HIDE),(0,o.PH)(l.a.ITEM_LIST_RESTORE));function S(e,t){return function(n){n(w({images:t})),n(j({folderID:e,items:t})),n((0,f.h_)(t)),n((0,m.Xw)())}}(0,o.PH)(l.a.ITEM_SHOW_PAGE_COUNT_RESTORE);function I(e,t,n,r,o){return function(i,c){c().item.isLoading&&!n?Promise.resolve():(i(y()),a.usf(o||"",e,t,null,r,"",0).then((function(n){if(null===n.items)i(p({items:n.items,page:e,sort:n.sort,folderID:t,isShared:r}));else{var o=n.items.filter((function(e){return"image"===e.itemType}));i(g({images:o}));var a=n.items.filter((function(e){return"video"===e.itemType}));i(b({videos:a})),i(p({items:n.items,page:e,folderID:t,sort:n.sort,total:n.total,count:n.count,isShared:r}))}})))}}var O=(0,o.PH)(l.a.ITEM_CHANGE_SORT);function E(e){return function(t,n){var r=n();i.Z.set("item_sort",e),t(O(e)),r.item.sort!==e&&(t(I(r.item.page,r.item.folderID,!1,!1,e)),t((0,u.Zj)({folderID:r.item.folderID,sort:e})))}}var N=(0,o.PH)(l.a.ITEM_UPDATE_SCROLL),D=(0,o.PH)(l.a.ITEM_SUB_LOADING);function A(e,t){return function(n,r){var o=r();if(o.item.isSubPageLoading||o.item.subPage===c.J6||o.item.isEnd||o.item.total<20||o.item.isLoading||0===o.item.page||e&&e!==o.item.folderID)Promise.resolve();else{n(D());var i=o.item.lastTimestamp;a.usf(o.item.sort,o.item.page,o.item.folderID,i,t,"",o.item.subPage+1).then((function(e){if(null===e.items)n(v({items:e.items}));else{var t=e.items.filter((function(e){return"image"===e.itemType}));n(g({images:t}));var r=e.items.filter((function(e){return"video"===e.itemType}));n(b({videos:r})),n(v({items:e.items}))}}))}}}function C(e){return function(t){"video"!==e.itemType?"image"!==e.itemType||t((0,d.Vu)(e.id,(function(e){(0,s.zp)(e),r.ZP.success("Link copied.")}))):t((0,h.i9)(e.id,(function(e){(0,s.zp)(e),r.ZP.success("Link copied.")})))}}},45826:(e,t,n)=>{n.d(t,{Pj:()=>l,Qd:()=>a,ah:()=>i,jh:()=>c,oT:()=>s});var r=n(97168),o=n(97882),i=(0,r.PH)(o.a.SELECTED_ADD),a=(0,r.PH)(o.a.SELECTED_REMOVE),c=(0,r.PH)(o.a.SELECTED_CLEAR),s=(0,r.PH)(o.a.SELECTED_TRASH_ADD),l=(0,r.PH)(o.a.SELECTED_TRASH_REMOVE)},94958:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(97168),o=n(4976),i=n(97882);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,c,s){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return o("throw",e,c,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,l,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function s(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var l=(0,r.PH)(i.a.PLANS_LOAD_RECEICED);function u(e){return function(){var t,n=(t=c().mark((function t(n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b9k(e);case 2:r=t.sent,n(l({data:r}));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()}},10978:(e,t,n)=>{n.d(t,{$3:()=>h,C8:()=>f,dj:()=>b,h_:()=>j,lD:()=>l,ne:()=>x,oO:()=>g,r7:()=>S,rh:()=>w});var r=n(97168),o=n(74221),i=n(4976),a=n(97882),c=n(65880),s=n(65936),l=(0,r.PH)(a.a.SEARCH_ITEM_DELETE),u=(0,r.PH)(a.a.SEARCH_LOAD),d=(0,r.PH)(a.a.SEARCH_LOADING);function f(){return function(e,t){t().search.isLoading?Promise.resolve():(e(d()),i.C85().then((function(t){e(u(t.items))})))}}function m(e,t){return t=t||[],new o.Z(t,{keys:["title","fullname"],useExtendedSearch:!0}).search("'"+e).map((function(e){return e.item}))}function h(e){return function(t,n){var r=n();if(r.search.isMetaLoaded){var o=m(e,r.search.items);t(y(o,e))}else t(d()),i.C85().then((function(n){t(u(n.items));var r=m(e,n.items);t(y(r,e))}))}}var p=(0,r.PH)(a.a.SEARCH_ITEM_LOAD),v=(0,r.PH)(a.a.SEARCH_ITEM_LOADING);function y(e,t){return function(n){var r=[],o=[],a=[];e.forEach((function(e){"folder"===e.itemType?a.push(e):"video"===e.itemType?r.push(e):o.push(e)}));var l=r.map((function(e){return e.id})).join(","),u=a.map((function(e){return e.id})).join(","),d=o.map((function(e){return e.id})).join(",");n(v()),i.$3H(l,d,u).then((function(e){var r=e.folders||[],o=e.videos||[],i=e.images||[],a=o.concat(i);r.length&&n((0,c.es)({folders:r})),o.length&&n((0,s.oo)({videos:o})),i.length&&n((0,s.y6)({images:i})),n(p({folders:r,items:a,query:t}))}))}}var g=(0,r.PH)(a.a.SEARCH_PAGE_CHANGE),b=(0,r.PH)(a.a.SEARCH_SCROLL_UPDATE),w=(0,r.PH)(a.a.SEARCH_QUERY_UPDATE),j=(0,r.PH)(a.a.SEARCH_META_ADD),x=(0,r.PH)(a.a.SEARCH_META_DELETE),S=(0,r.PH)(a.a.SEARCH_META_RENAME)},33179:(e,t,n)=>{n.d(t,{Ax:()=>m,Iz:()=>I,Of:()=>y,QM:()=>D,RZ:()=>E,Yy:()=>O,e$:()=>w,fR:()=>v,uH:()=>x,xI:()=>N});var r=n(97168),o=n(4976),i=n(5551),a=n(97882);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,r.PH)(a.a.SHARED_LIST_LOADING),f=(0,r.PH)(a.a.SHARED_LIST_LOAD);function m(e,t){return function(n,r){if(r().shared.isLoading&&!t)Promise.resolve();else{n(d());var a=e<2?1:e+(e-1)*i.J6;o.Ax(a).then((function(t){n(f(l(l({page:a},t),{},{currentDisplayPage:e})))}))}}}var h=(0,r.PH)(a.a.SHARED_FOLDER_LIST_LOAD),p=(0,r.PH)(a.a.SHARED_FOLDER_LIST_LOADING);function v(e){return function(t,n){n().shared.isFolderLoading&&!e?Promise.resolve():(t(p()),o.fRN().then((function(e){t(h(e))})))}}var y=(0,r.PH)(a.a.SHARED_UPDATE_SCROLL),g=(0,r.PH)(a.a.SHARED_SUB_LOADING),b=(0,r.PH)(a.a.SHARED_LIST_LOAD_MORE);function w(){return function(e,t){var n=t().shared;n.isSubPageLoading||n.subPage===i.J6||n.isEnd||n.total<20||n.isLoading?Promise.resolve():(e(g()),o.Ax(n.page+n.subPage+1).then((function(t){e(b(t.items))})))}}var j=(0,r.PH)(a.a.SHARED_NOTI_LOAD);function x(){return function(e){o.uHy().then((function(t){e(j(t.commentNotification||[]))}))}}var S=(0,r.PH)(a.a.SHARED_NEW_COMMENTS_VIEWED);function I(e,t,n){return function(r){r(S({itemType:e,itemId:t,count:n}))}}var O=(0,r.PH)(a.a.SHARED_LIST_DELETE),E=(0,r.PH)(a.a.SHARED_LIST_ADD),N=(0,r.PH)(a.a.SHARED_LIST_RESTORE),D=(0,r.PH)(a.a.SHARED_TITLE_EDIT)},83539:(e,t,n)=>{n.d(t,{CV:()=>k,_x:()=>C,iX:()=>D,oO:()=>_,uo:()=>L});var r=n(97168),o=n(4976),i=n(20722),a=n(97882),c=n(71436),s=n(65880),l=n(15322),u=n(65936),d=n(45826),f=n(10978),m=n(33179),h=n(55087),p=n(543),v=n(51447);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function w(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){S=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:x(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(D([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=f.prototype=Object.create(p);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==y(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function I(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){I(i,r,o,a,c,"next",e)}function c(e){I(i,r,o,a,c,"throw",e)}a(void 0)}))}}var E=(0,r.PH)(a.a.TRASH_LOAD),N=(0,r.PH)(a.a.TRASH_LOADING);function D(){return function(){var e=O(S().mark((function e(t){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N()),e.next=3,o.xKl();case 3:n=e.sent,t(E(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var A=(0,r.PH)(a.a.TRASH_RESTORE);function C(e,t){return function(n,r){var a=(0,i.DK)(),y=e.map((function(e){return e.id})),j=y.join(","),x=y.length>1?"Items":"Item";o._x6(j).then((function(e){var t=[];if(n(A(y)),e.folders){n((0,s.PW)(!0)),n((0,l.Kv)()),n((0,p.U2)());var o=e.folders.map((function(e){return{id:e.folderID,title:e.name,createdSec:e.createdSec,itemType:"folder"}}));t=[].concat(w(o),w(t))}if(e.videos&&(n((0,u.LD)()),n((0,p.U2)()),t=[].concat(w(e.videos),w(t))),e.images&&(n((0,u.LD)()),n((0,l.Kv)()),t=[].concat(w(e.images),w(t))),e.workspaceItems){var j,S=e.workspaceItems.reduce((function(e,t){var n=e.get(t.workspaceID)||new Set;return n.add(t.channelID),e.set(t.workspaceID,n),e}),new Map),I=r(),O=I.channel.channelFoldersMap,E=I.workspace.myWorkspaceHash,N=b(S.entries());try{for(N.s();!(j=N.n()).done;){var D=g(j.value,2),C=D[0],P=D[1],k=E[C];k&&"lite"===k.plan&&n((0,v.yQ)(C));var T,L=b(P.values());try{for(L.s();!(T=L.n()).done;){var _,R=T.value;null!==(_=O[C])&&void 0!==_&&_[R]&&n((0,c.W3)(C,R))}}catch(e){L.e(e)}finally{L.f()}}}catch(e){N.e(e)}finally{N.f()}}n((0,m.xI)()),n((0,c.A3)()),n((0,f.h_)(t)),n((0,d.jh)()),(0,i.wD)(a,{msg:x+" restore successfully."}),n((0,m.uH)()),n((0,h.Xw)())})).catch((function(e){1201===e.code?(t&&t(e),(0,i.vU)(a)):(0,i.wD)(a,{type:"error",msg:"Restoring "+x+" failed. "+e.msg})}))}}var P=(0,r.PH)(a.a.TRASH_DELETE);function k(e){return function(t){var n=(0,i.DK)(),r=e.map((function(e){return e.id})),a=r.join(","),c=r.length>1?"Items":"Item";o.Rwp(a).then((function(){t(P(r)),t((0,d.jh)()),(0,i.wD)(n,{msg:c+" delete successfully."})})).catch((function(e){(0,i.wD)(n,{type:"error",msg:"Deleting "+c+" failed. "+e})}))}}var T=(0,r.PH)(a.a.TRASH_EMPTY);function L(e){return function(){var t=O(S().mark((function t(n){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.uoz(e);case 2:n(T());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var _=(0,r.PH)(a.a.TRASH_PAGE_CHANGE)},71922:(e,t,n)=>{n.d(t,{G2:()=>c,i0:()=>m,mE:()=>s,oV:()=>a,sQ:()=>d,td:()=>f,uz:()=>h,v9:()=>i,vf:()=>l});var r=n(97168),o=n(97882),i=(0,r.PH)(o.a.UI_SHOW_ITEM),a=i,c=(0,r.PH)(o.a.UI_NEXT_ITEM),s=(0,r.PH)(o.a.UI_PREV_ITEM),l=(0,r.PH)(o.a.UI_RESET_BROWSING),u=(0,r.PH)(o.a.ITEM_LOADED_RESET);function d(){return function(e){e(f()),e(u())}}var f=(0,r.PH)(o.a.UI_HIDE_ITEM),m=(0,r.PH)(o.a.UI_UPDATE_RECORD_PANEL),h=(0,r.PH)(o.a.UI_IS_RECORDING)},55087:(e,t,n)=>{n.d(t,{GZ:()=>f,J5:()=>h,JF:()=>m,Lk:()=>s,Tc:()=>a,Xw:()=>d,cu:()=>u,jX:()=>c,vS:()=>l});var r=n(97168),o=n(4976),i=n(97882),a=(0,r.PH)(i.a.USER_LOAD_INFO),c=(0,r.PH)(i.a.USER_LOAD_INFO_LOADING);function s(e){return function(t,n){var r=n().user;!0!==e&&(r.isLoading||r.info&&r.info.uid)?Promise.resolve():(t(c()),o.OR9().then((function(e){t(a({data:e}))})))}}var l=(0,r.PH)(i.a.USER_PERMISSION_LOADING),u=(0,r.PH)(i.a.USER_PERMISSION_RECEIVE);function d(){return function(e,t){var n=t().user;n.isLoading||n.isLoadingPermission?Promise.resolve():(e(l()),o.e5V().then((function(t){e(u(t))})))}}var f=(0,r.PH)(i.a.USER_AVATAR_REFRESH),m=(0,r.PH)(i.a.USER_CLICK_FIVE_STAR),h=(0,r.PH)(i.a.USER_SET_SHOW_GUIDE)},62983:(e,t,n)=>{n.d(t,{AR:()=>p,C2:()=>o,F7:()=>v,If:()=>b,Rg:()=>r,T_:()=>h,YA:()=>y,aO:()=>w,wH:()=>g});var r,o,i=n(97168),a=n(97882),c=n(55087),s=n(4976),l=n(73458),u=n(67618);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.Download="Download",e.Pin="Pin",e.Record="Record",e.Screenshot="Screenshot",e.Share="Share"}(r||(r={})),function(e){e.Pin="Pin",e.VideoShare="VideoShare",e.VideoComment="VideoComment",e.ImageLink="ImageLink"}(o||(o={}));var h=(0,i.PH)(a.a.USER_GUIDE_LOAD),p=(0,i.PH)(a.a.USER_GUIDE_SET_STEP_DONE),v=(0,i.PH)(a.a.USER_GUIDE_SET_POPUP_DONE);(0,i.PH)(a.a.USER_GUIDE_SKIP);function y(e){return function(t,n){t(p(e));var o=n(),i=o.userGuide,a=i.steps,d=i.loaded;if(o.user.showGuide&&d)if(!Object.keys(r).map((function(e){return a[e]})).some((function(e){return!e})))(0,s.YGj)(),(0,u.I1)("Complete all steps",{event_category:"userGuide"}),t((0,c.J5)(!1)),(0,l.Xf)();else{var f=n().userGuide,m=f.steps,h=f.popups;(0,s.MXx)(m,h)}}}function g(e){return function(t,n){var i,a=!1,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e=Array.isArray(e)?e:[e]);try{for(c.s();!(i=c.n()).done;){var l=i.value;t(v(l)),l===o.Pin&&(a=!0)}}catch(e){c.e(e)}finally{c.f()}if(a)t(y(r.Pin));else{var u=n().userGuide,d=u.steps,m=u.popups;(0,s.MXx)(d,m)}}}function b(){return function(e){e((0,c.J5)(!1)),(0,s.YGj)()}}function w(){return function(e){(0,s.p_Q)().then((function(t){var n=d(t,2),r=n[0],o=n[1];(0,u.LB)()&&(r.Download=!0),e(h({steps:r,popups:o}))}))}}},35646:(e,t,n)=>{n.d(t,{$:()=>c,u:()=>a});var r=n(97168),o=n(4976),i=n(97882),a=(0,r.PH)(i.a.SETTING_THEME_CHANGE);function c(e){return function(t){if(t(a(e)),"auto"===e){var n=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",n?"dark":"light")}else document.documentElement.setAttribute("data-theme",e);o.$ll(e)}}},543:(e,t,n)=>{n.d(t,{DI:()=>W,F6:()=>L,Iz:()=>re,LE:()=>A,M5:()=>P,Nx:()=>I,O1:()=>X,OS:()=>q,U2:()=>oe,XH:()=>F,cb:()=>x,i9:()=>V,lT:()=>ie,mE:()=>ee,mU:()=>Y,nt:()=>ne,t3:()=>M,ul:()=>b,wZ:()=>N});var r=n(97168),o=n(31955),i=n(4976),a=n(5551),c=n(20722),s=n(79993),l=n(97882),u=n(10978),d=n(33179);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function m(){}function h(){}function p(){}var y={};s(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=p.prototype=m.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==f(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,r(w,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),s(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function y(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,c,"next",e)}function c(e){y(i,r,o,a,c,"throw",e)}a(void 0)}))}}var b=(0,r.PH)(l.a.VIDEO_SCROLL_UPDATE),w=(0,r.PH)(l.a.VIDEO_LOAD_INFO),j=(0,r.PH)(l.a.VIDEO_INFO_LOADING);function x(e,t,n){return function(r){n||r(j({id:e,shareKey:t})),i.fBG(e,t).then((function(n){var o=n.video;!s.Z.webmSupport()&&o&&0==o.isMP4Requested&&0==o.mp4Available&&i.MxH(e,t).then((function(){r(x(e,t,!0))})),r(w({id:e,data:n}))})).catch((function(t){r(w({id:e,error:t,data:{}}))}))}}var S=(0,r.PH)(l.a.VIDEO_UPDATE_INFO);function I(e,t){return function(){var n=g(v().mark((function n(r){var o;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.fBG(e,t);case 2:if(o=n.sent.video){n.next=5;break}return n.abrupt("return");case 5:r(S({id:o.id,info:o}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var O=(0,r.PH)(l.a.VIDEO_LOADED_ANNOTATIONS),E=(0,r.PH)(l.a.VIDEO_LOADING_ANNOTATIONS);function N(e,t,n){return function(r){r(E({id:e,version:t})),i.n6q(e,t,n).then((function(t){var n=t.actions;if(n&&n.length>0){var o=n[0];r(O({id:e,version:o.version,baseVersion:o.baseVersion,actions:JSON.parse(o.data)}))}else r(O({id:e,version:"",actions:[]}))})).catch((function(){r(O({id:e,version:"",actions:[]}))}))}}var D=(0,r.PH)(l.a.VIDEO_ACTIVE_LIST_LOADING),A=((0,r.PH)(l.a.VIDEO_DELETED),(0,r.PH)(l.a.VIDEO_DELETE_MULTIPLE)),C=(0,r.PH)(l.a.VIDEO_LOAD_ACTIVE_LIST);function P(e){return function(t,n){var r=n();t(D()),i.hWi(r.video.sort,e,"").then((function(n){t(C({page:e,videos:n.videos,total:n.total}))}))}}var k=(0,r.PH)(l.a.VIDEO_LIST_SUB_LOADING),T=(0,r.PH)(l.a.VIDEO_LIST_LOAD_MORE);function L(){return function(e,t){var n=t(),r=n.video.activeVideos;if(r.isSubPageLoading||r.subPage===a.J6||r.isEnd||0===r.page||-1===r.page)Promise.resolve();else{e(k());var o=r.lastTimestamp;i.hWi(n.video.sort,r.page*a.J6+r.subPage+1,"active",o).then((function(t){e(T({videos:t.videos}))}))}}}var _=(0,r.PH)(l.a.VIDEO_INACTIVE_LIST_LOADING),R=(0,r.PH)(l.a.VIDEO_LOAD_INACTIVE_LIST);function M(e,t){return function(n){n(_()),i.hWi("create",e,"inactive").then((function(r){n(R({count:t,page:e,status:"inactive",data:{page:r.page,pageSize:r.pageSize,total:r.total,videos:r.videos||[]}}))}))}}var Z=(0,r.PH)(l.a.VIDEO_CONVERTING_TO_MP4_INFO);function F(e){return function(t){i.POR(e).then((function(){t(Z(e)),t(x(e,"",!0))}))}}var U=(0,r.PH)(l.a.VIDEO_GENERATE_SHARE_LINK),H=(0,r.PH)(l.a.VIDEO_GENERATE_SHARE_LINK_LOADING),G=(0,r.PH)(l.a.VIDEO_GENERATE_SHARE_LINK_FAILED);function V(e,t){return function(){var n=g(v().mark((function n(r,o){var a,c;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o(),r(H({id:e})),n.prev=2,n.next=5,i.fZt(e);case 5:c=n.sent,r(U({id:e,shareURI:c.shareURI,shareKey:c.shareKey})),r((0,d.RZ)(h(h({},a.video.videos[e].info),{},{userAvatar:a.user.info.avatarURL,shareURI:c.shareURI,shareKey:c.shareKey}))),null==t||t(c.shareURI),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),r(G({id:e}));case 14:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e,t){return n.apply(this,arguments)}}()}var B=(0,r.PH)(l.a.VIDEO_REVOKE_SHARE_LINK);function W(e){return function(t){i.UCi(e),t(B({id:e})),t((0,d.Yy)([{itemType:"video",id:e}]))}}var z=(0,r.PH)(l.a.VIDEO_EDIT_TITLE_LOADING),K=(0,r.PH)(l.a.VIDEO_EDIT_TITLE);function Y(e,t){return function(n){n(z({id:e}));var r=(0,c.DK)();i.Nbr(e,t).then((function(){n(K({id:e,title:t})),n((0,u.r7)({id:e,itemType:"video",name:t})),n((0,d.QM)({id:e,itemType:"video",name:t})),(0,c.wD)(r,{msg:"Rename successfully."})})).catch((function(){(0,c.wD)(r,{type:"error",msg:"Rename Failed."})}))}}var Q=(0,r.PH)(l.a.VIDEO_OPEN_EDIT_TITLE);function q(e){return function(t){t(Q({id:e}))}}var J=(0,r.PH)(l.a.VIDEO_HIDE_EDIT_TITLE);function X(e){return function(t){t(J({id:e}))}}var $=(0,r.PH)(l.a.VIDEO_SET_COMPLETE_DONE);function ee(e){return function(){var t=g(v().mark((function t(n){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.sVk(e);case 2:r=t.sent,n($({id:e,info:r}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var te=(0,r.PH)(l.a.VIDEO_CHANGE_SORT);function ne(e){return function(t,n){var r=n();o.Z.set("video_sort",e),t(te(e)),r.video.sort!==e&&t(P(r.video.page))}}var re=(0,r.PH)(l.a.VIDEO_PAGE_UPDATE),oe=(0,r.PH)(l.a.VIDEO_LIST_RESTORE),ie=(0,r.PH)(l.a.VIDEO_MOVE_TO_CHANNEL)},51447:(e,t,n)=>{n.d(t,{Ce:()=>b,EV:()=>k,Eb:()=>O,Pf:()=>m,SE:()=>I,UU:()=>w,aA:()=>f,cK:()=>N,mi:()=>v,n8:()=>A,nI:()=>x,yQ:()=>L,zl:()=>C});var r=n(97168),o=n(4976),i=n(20722),a=n(97882);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,a,s){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,l,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)}))}}var d=(0,r.PH)(a.a.WORKSPACE_LOADING),f=(0,r.PH)(a.a.WORKSPACE_LOAD);function m(e){return function(){var t=u(s().mark((function t(n,r){var i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),a=i.workspace,e||!a.isLoading&&!a.loaded){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return n(d()),t.next=8,o.PfW();case 8:return c=t.sent,n(f(c)),t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var h=(0,r.PH)(a.a.CHANNEL_CREATE),p=(0,r.PH)(a.a.CHANNEL_CREATING);function v(e,t,n){return function(){var r=u(s().mark((function r(i){var a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i(p()),r.next=3,o.mih(e,t,n);case 3:return a=r.sent,i(h({workspaceID:e,channel:a.channel})),r.abrupt("return",a.channel);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var y=(0,r.PH)(a.a.WORKSPACE_CHANNEL_LOAD),g=(0,r.PH)(a.a.WORKSPACE_CHANNEL_LOADING);function b(e){return function(t){t(g()),o.CeK(e).then((function(e){t(y(e.channels))}))}}var w=(0,r.PH)(a.a.WORKSPACE_MEMBER_LOAD),j=(0,r.PH)(a.a.WORKSPACE_MEMBER_LOADING);function x(e){return function(t,n){var r=n();r.workspace.isLoadingAllMembers||r.workspace.memberLoadedID===e?Promise.resolve():(t(j()),o.nI8(e).then((function(n){t(w({members:n.members,workspaceID:e}))})))}}var S=(0,r.PH)(a.a.WORKSPACE_META_EDIT);function I(e,t,n){return function(){var r=u(s().mark((function r(i){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.SEu(e,t,n);case 2:i(S({workspaceID:e,type:t,value:n}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var O=(0,r.PH)(a.a.WORKSPACE_ENTER),E=(0,r.PH)(a.a.WORKSPACE_CHANGE_ROLE);function N(e,t){return function(n,r){var i=r();n(E({memberID:e,role:t})),o.cKX(i.workspace.currentWorkspaceID,String(e),t)}}var D=(0,r.PH)(a.a.WORKSPACE_LEAVE);function A(e){return function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.n8r(e);case 2:n(D(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function C(e){return function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.zlV(e);case 2:n(D(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var P=(0,r.PH)(a.a.WORKSPACE_MEMBER_REMOVE);function k(e,t){return function(n){var r=(0,i.DK)();o.n8r(e,t).then((function(){n(P(t)),(0,i.wD)(r,{msg:"Member removed."})}))}}var T=(0,r.PH)(a.a.WORKSPACE_INFO_LOAD);function L(e){return function(){var t=u(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.yQs(e);case 2:r=t.sent,n(T(r.workspaces));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},4976:(e,t,n)=>{n.d(t,{$3H:()=>ke,$lD:()=>mn,$ll:()=>tt,$vQ:()=>jt,A95:()=>ue,Ax:()=>We,B0$:()=>Ee,BBL:()=>H,C85:()=>Pe,CAL:()=>T,CVk:()=>Te,CZT:()=>Mt,CeK:()=>vt,Cpd:()=>Z,D45:()=>It,E2j:()=>x,EaK:()=>_e,Eap:()=>ie,Ec4:()=>Ne,Eq_:()=>pn,FB8:()=>bt,FHV:()=>p,FMP:()=>q,FOj:()=>Rt,FY6:()=>F,FbR:()=>dt,GMb:()=>K,GY:()=>on,Goc:()=>Dt,GpV:()=>rn,GvO:()=>Je,HCH:()=>_,HD:()=>ae,HFJ:()=>B,I5G:()=>Fe,IQ2:()=>te,J1C:()=>Nt,J1J:()=>Ie,JJ5:()=>St,JX8:()=>ye,KTp:()=>He,KUr:()=>cn,Kwg:()=>qt,L60:()=>Se,LDB:()=>E,MBc:()=>at,MR5:()=>Et,MXx:()=>jn,MjW:()=>Be,MxH:()=>Jt,Myt:()=>xt,Nbr:()=>se,O35:()=>Qt,OR9:()=>w,P2V:()=>ce,PEq:()=>an,POR:()=>ne,PW5:()=>we,Pck:()=>Nn,PfW:()=>it,Pwg:()=>pt,QPT:()=>ot,QPX:()=>ft,QbM:()=>he,Qlm:()=>Me,Qrg:()=>un,Qrl:()=>At,R2R:()=>k,R9S:()=>nn,Rhi:()=>pe,RwP:()=>Xt,Rwp:()=>Ce,S0H:()=>Wt,SEu:()=>mt,T3h:()=>Vt,TL7:()=>P,Twb:()=>Re,UCi:()=>oe,Ufv:()=>Yt,Uw7:()=>An,Wc0:()=>ve,X7m:()=>ln,YFy:()=>Ve,YGj:()=>bn,Yrx:()=>Ge,Zaq:()=>Xe,Zef:()=>C,_x6:()=>Ae,ajT:()=>X,b9k:()=>L,bG5:()=>me,c$2:()=>ge,cKX:()=>Pt,ck4:()=>M,d5$:()=>st,djw:()=>sn,e$B:()=>j,e5V:()=>dn,eB6:()=>Gt,eE4:()=>y,eH4:()=>gt,fBG:()=>Q,fCJ:()=>Ue,fLe:()=>Ut,fOZ:()=>N,fRN:()=>ze,fZt:()=>re,fvm:()=>On,gg6:()=>Ye,hWi:()=>Y,hz1:()=>z,iAQ:()=>En,iHA:()=>Ht,iQz:()=>J,j3I:()=>Tt,jTH:()=>ee,kA_:()=>V,l$X:()=>zt,lGg:()=>$t,lYX:()=>R,m8y:()=>yn,mih:()=>ct,mwz:()=>wt,n6q:()=>$,n8r:()=>kt,nI8:()=>yt,npm:()=>O,oED:()=>S,oH9:()=>U,oWj:()=>rt,ovQ:()=>le,p7n:()=>b,p_Q:()=>Sn,pvB:()=>Dn,qQg:()=>G,qcI:()=>nt,qo7:()=>Ft,rXU:()=>Bt,ri7:()=>Ct,sKT:()=>ut,sVk:()=>de,szH:()=>fn,tM0:()=>W,tRN:()=>et,tmw:()=>fe,ttN:()=>I,ty6:()=>en,u2R:()=>A,uHy:()=>Ke,uoz:()=>Le,usf:()=>xe,v$z:()=>lt,vNM:()=>D,vQG:()=>tn,w73:()=>Zt,wWy:()=>qe,xKl:()=>De,yQs:()=>Kt,ywm:()=>ht,zB2:()=>g,zEL:()=>Ot,zlV:()=>_t,zzM:()=>Lt});n(50626);var r=n(48086),o=n(12956),i=n(43087);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,c,s){var l=f(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return o("throw",e,c,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,l,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,c,"next",e)}function c(e){m(i,r,o,a,c,"throw",e)}a(void 0)}))}}var p="https://www.awesomescreenshot.com",v=["/premium/stripe/create_plan","/premium/stripe/change_plan","/folder/create","/folder/add_items","/folder/change_name","/trash/throw_into","/image/change_title","/video/update_title","/trash/restore","/trash/delete","/image/upload","/workspace/channel/move_items","/workspace/channel/load_items","/workspace/channel/load_members","/video/websocket/token","/refer/check_accept"],y=o.Z.create({baseURL:"/api/v1/"});function g(e){var t=e.email,n=e.password,r=new URLSearchParams;return r.append("mail",t),r.append("password",n),(0,o.Z)({method:"post",url:p+"/user/loginCommit?from=web_recorder",data:r})}function b(e,t,n){for(var r=new FormData,i=0,a=Object.entries(e);i<a.length;i++){var c=d(a[i],2),s=c[0],l=c[1];r.append(s,l)}var u=n||"https://awesomescreenshot.s3.amazonaws.com/";return(0,o.Z)({method:"POST",crossdomain:!0,url:u,data:r,onUploadProgress:function(e){var n,r=Math.round(100*e.loaded/(null!==(n=e.total)&&void 0!==n?n:1/0));t(r)}})}function w(){return y({method:"GET",url:"/user/info"})}function j(e,t,n,r){return y({method:"POST",url:"/premium/stripe/create_plan",data:{PlanName:e,stripeToken:t.id,stripeEmail:t.email,PPCancelSuccess:n,promotionCode:r}})}function x(e,t){var n=new FormData;return n.append("imageID",e),n.append("file",t),y({method:"POST",url:"/image/upload_annotated",data:n})}function S(e){return y({method:"POST",url:"/user/update_card",data:{paymentMethod:e}})}function I(){return y({method:"GET",url:"/account/load"})}function O(e){return y({method:"POST",url:"/account/delete",data:{accountID:e}})}function E(){return y({method:"GET",url:"/destination/load"})}function N(e){return y({method:"POST",url:"/destination/delete",data:{destinationID:e}})}function D(e,t){return y({method:"POST",url:"/destination/change_privacy",data:{destinationID:e,privacy:t}})}function A(){return y({method:"GET",url:"/team/member/load"})}function C(e,t){return y({method:"POST",url:"/team/member/remove",data:{UID:e,teamID:t}})}function P(e,t){return y({method:"GET",url:"/team/info",params:{teamID:e,code:t}})}function k(e,t){return y({method:"POST",url:"/team/member/apply",data:{teamID:e,code:t}})}function T(e){return y({method:"POST",url:"/team/member/invite_by_email",data:{emails:e}})}function L(e){return y({method:"GET",url:"/premium/plans",params:{promotionCode:e}})}function _(e,t){return t||(t=1),y({method:"GET",url:"/destination/image/list",params:{DestID:e,Limit:20,Offset:20*(t-1)}})}function R(e,t){return t||(t=1),y({method:"GET",url:"/destination/video/list",params:{DestID:e,Limit:20,Offset:20*(t-1)}})}function M(e){return y({method:"POST",url:"/user/update_profile",data:e})}function Z(e){return y({method:"POST",url:"/user/change_password",data:e})}function F(e){return y({method:"POST",url:"/user/set_google_account_password",data:{password:e}})}function U(e){return y({method:"GET",url:"Stripe"===e?"/premium/stripe/cancel_plan":"/premium/paypal/cancel_plan"})}function H(e){return y({method:"POST",url:"/premium/stripe/change_plan",data:{PlanName:e}})}function G(e,t){return y({method:"GET",url:"/premium/stripe/preview_upgrade_cost",params:{NewPlanName:e,promotionCode:t}})}function V(){return y({method:"GET",url:"/video/websocket/token"})}function B(e){return(0,o.Z)({method:"GET",url:"https://tinyurl.com/api-create.php?url="+e})}function W(e){var t={from:e},n=document.querySelector("#aws-chrome-installed");if(n){var r=n.getAttribute("data-version");null!==r&&(t.clientVersion=r)}return y({method:"GET",url:"/premium/pricing_opened",params:t})}function z(e){return y({method:"POST",url:"/common/contact_us",data:e})}function K(e,t){return y({method:"POST",url:"/premium/paypal/create_plan",data:{PlanName:e,promotionCode:t}})}function Y(e,t,n,r){return y({method:"GET",url:"/video/load_user_videos",params:{page:t,status:n,sort:e,timestamp:r}})}function Q(e,t){return y({method:"GET",url:"/video/load_video",params:{id:e,key:t||void 0}})}function q(e){return y({method:"POST",url:"/video/delete_video",data:{videoID:e}})}function J(e,t){if(t&&!(t.length<=0))return y({method:"POST",url:"/video/edit/delete_annotate_image",data:{videoID:e,imageKeys:t.join(",")}})}function X(e,t){return y({method:"POST",url:"/video/edit/sign_upload_url_annotate_image",data:{videoID:e,imageKeys:t.join(",")}})}function $(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"annotation",o={actionType:r,videoID:e,baseVersion:t||void 0,key:n||void 0};return y({method:"GET",url:"/video/edit/load_actions",params:o})}function ee(e,t,n){var r={videoID:e,key:n,imageKeys:t.join(",")};return y({method:"POST",url:"/video/edit/load_annotate_images_url",data:r})}function te(e,t,n,r,o,i){return y({method:"POST",url:"/video/edit/action",data:{videoID:e,actionTypeName:t,baseVersion:n||"0",version:r,data:JSON.stringify({actions:o,tracks:i})}})}function ne(e){return y({method:"POST",url:"/video/convert_to_mp4",data:{videoID:e}})}function re(e){return y({method:"GET",url:"/video/get_share_link",params:{id:e}})}function oe(e){return y({method:"POST",url:"/video/revoke_share_link",data:{videoID:e}})}function ie(e){return y({method:"GET",url:"/image/get_share_link",params:{id:e}})}function ae(e){return y({method:"POST",url:"/image/revoke_share_link",data:{imageID:e}})}function ce(e,t,n){return y({method:"POST",url:"/item/update",data:{itemID:e,itemType:t,info:JSON.stringify(n)}})}function se(e,t){return y({method:"POST",url:"/video/update_title",data:{videoID:e,title:t}})}function le(e){return y({method:"POST",url:"/video/increase_view",data:{videoID:e}})}function ue(e){return y({method:"POST",url:"/image/increase_view",data:{imageID:String(e)}})}function de(e){return y({method:"POST",url:"/video/complete",data:{videoID:e,f:"userClick"}})}function fe(e){return y({method:"POST",url:"/user/delete_account",data:{verificationCode:e}})}function me(e){return y({method:"POST",url:"/video/video_visit_request",data:{videoID:e}})}function he(e){return y({method:"POST",url:"/image/image_visit_request",data:{imageID:e}})}function pe(e){return y({method:"GET",url:"/user/get_billing_history",params:{page:e}})}function ve(){return y({method:"GET",url:"/user/get_receipt_info"})}function ye(e){return y({method:"POST",url:"/user/save_receipt_info",data:e})}function ge(e,t){return y({method:"POST",url:"/video/complete",data:{videoName:e,title:t||void 0}})}function be(e){return l(l({},e),{},{id:e.folderID,itemType:"folder",title:e.name})}function we(){return je.apply(this,arguments)}function je(){return(je=h(c().mark((function e(){var t,n,r,o,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:"GET",url:"/folder/load_user_folders"});case 2:for(t=e.sent,n=0,r=Object.entries(t.folders);n<r.length;n++)o=d(r[n],2),i=o[0],a=o[1],t.folders[i]=a.map(be);return e.abrupt("return",{folders:t.folders,favoriteFolders:t.favoriteFolders.length?t.favoriteFolders.split(","):[],sort:t.sort});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t,n,r,o,i,a){return y({method:"GET",url:"/folder/load_items",params:{page:t,count:20,sort:e,timestamp:r||void 0,shared:o?"yes":void 0,folderID:n||void 0,key:i||void 0,subPage:a||void 0}})}function Se(e,t){return y({method:"POST",url:"/folder/create",data:{name:e,parentID:t}})}function Ie(e,t,n,r){return Oe.apply(this,arguments)}function Oe(){return(Oe=h(c().mark((function e(t,n,r,o){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:"POST",url:"/folder/add_items",data:{folderID:t,videos:n,images:r,folders:o}});case 2:return(i=e.sent).folders=i.folders.map(be),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t,n){return y({method:"POST",url:"/trash/throw_into",data:{videos:e,images:t,folders:n}})}function Ne(e,t){return y({method:"POST",url:"/folder/change_name",data:{folderID:e,newName:t}})}function De(){return y({method:"GET",url:"/trash/load_user_items"})}function Ae(e){return y({method:"POST",url:"/trash/restore",data:{ids:e}})}function Ce(e){return y({method:"POST",url:"/trash/delete",data:{ids:e}})}function Pe(){return y({method:"GET",url:"/search/load_meta"})}function ke(e,t,n){return y({method:"POST",url:"/search/load_items",data:{videos:e,images:t,folders:n}})}function Te(e,t,n,r,o,i){var a=new FormData;return a.append("file",t),a.append("title",n),a.append("actionType","website"),o&&a.append("workspaceID",o),i&&a.append("channelID",i),o&&i&&"0"!==e?a.append("channelFolderID",e):a.append("folderID",e),y({method:"POST",url:"/image/upload",data:a,onUploadProgress:function(e){var t,n=Math.round(100*e.loaded/(null!==(t=e.total)&&void 0!==t?t:1/0));r(n)}})}function Le(e){return y({method:"POST",url:"/trash/empty",data:{userID:String(e)}})}function _e(e,t){return(0,o.Z)({method:"GET",url:"/api/v1/user/oauth/login",params:{from:e,referKey:t}})}function Re(e,t,n){return y({method:"GET",url:"/image/load_user_images",params:{page:t,sort:e,timestamp:n}})}function Me(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=h(c().mark((function e(t,n){var r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t,key:n||void 0},e.next=3,y({method:"GET",url:"/image/load",params:r});case 3:return(o=e.sent).image.wcFolder&&(o.image.wcFolder=(0,i.EY)(o.image.wcFolder)),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t){return y({method:"POST",url:"/image/change_title",data:{imageID:e,title:t}})}function Ue(){return y({method:"GET",url:"/team/delete"})}function He(e,t,n){return y({method:"GET",url:"/comment/list",params:{key:n,item_id:t,item_type:e,page:1,offset:100}})}function Ge(e,t,n,r,o){return y({method:"POST",url:"/comment/create",data:{item_type:e,item_id:t,is_emoji:r,timestamp:String(o),content:n}})}function Ve(e){return y({method:"POST",url:"/comment/delete",data:{id:e+""}})}function Be(e,t,n){return y({method:"GET",url:"/comment/list_user",params:{key:n,item_id:t,item_type:e}})}function We(e){return y({method:"GET",url:"/folder/load_shared_items",params:{count:20,page:e}})}function ze(){return y({method:"GET",url:"/folder/load_shared_folders"})}function Ke(){return y({method:"GET",url:"/folder/load_notification"})}function Ye(e){var t=new FormData;return t.append("file",e),y({method:"POST",url:"/user/upload_avatar",data:t})}function Qe(e){return y({method:"POST",url:"/user/stuff",data:{type:e}})}function qe(){return Qe("chromeFiveStarCancel")}function Je(){return Qe("chromeFiveStarClick")}function Xe(){return Qe("chromeFiveStarFeedback")}function $e(e){return y({method:"POST",url:"/user/update_setting",data:e})}function et(e){return y({method:"POST",url:"/premium/stripe/create_plan_from_wallet",data:e})}function tt(e){return $e({type:"theme",theme:e})}function nt(e){return y({method:"POST",url:"/user/one_tap_login",data:{token:e}})}function rt(e){return $e({type:"favoriteFolder",folders:e})}function ot(e){return y({method:"POST",url:"/user/remove_favorite_folder",data:{folderID:e}})}function it(){return y({method:"GET",url:"/workspace/load_user_all"})}function at(e,t){return y({method:"POST",url:"/workspace/create",data:{name:e,plan:t}})}function ct(e,t,n){return y({method:"POST",url:"/workspace/channel/create",data:{workspaceID:e,name:t,description:n}})}function st(e,t,n){return y({method:"POST",url:"/workspace/member/invite",data:{workspaceID:e,emails:n,channelID:t||void 0}})}function lt(e,t,n,r,o,i,a){return y({method:"GET",url:"/workspace/channel/load_items",params:{page:t,count:20,sort:e,workspaceID:n,channelID:r,folderID:"0"===o?void 0:o,timestamp:i||void 0,timestampItemID:a}})}function ut(e,t){var n=e.workspaceID,r=e.channelID,o=e.folderID;return y({method:"POST",url:"/workspace/channel/move_items",data:{workspaceID:n,channelID:r,folderID:o,items:t}})}function dt(e,t){return y({method:"GET",url:"/workspace/channel/load_members",params:{workspaceID:e,channelID:t}})}function ft(e,t,n,r){var o=u({workspaceID:e,channelID:t},n,r);return y({method:"POST",url:"/workspace/channel/meta",data:o})}function mt(e,t,n){var r=u({workspaceID:e},t,n);return y({method:"POST",url:"/workspace/meta",data:r})}function ht(e,t,n){return y({method:"POST",url:"/workspace/channel/transfer",data:{workspaceID:e,channelID:t,newOwnerUID:String(n)}})}function pt(e,t,n){return y({method:"POST",url:"/workspace/channel/quit",data:{workspaceID:e,channelID:t,memberUID:String(n)}})}function vt(e){return y({method:"GET",url:"/workspace/load_channels",params:{workspaceID:e}})}function yt(e){return y({method:"GET",url:"/workspace/load_members",params:{workspaceID:e}})}function gt(e,t,n){return y({method:"GET",url:"/workspace/payment/pricing",params:{workspaceID:e,from:t,promotionCode:n||void 0}})}function bt(e,t,n,r){return y({method:"GET",url:"/workspace/payment/secret",params:{workspaceID:e,from:t,planName:n,promotionCode:r||void 0}})}function wt(e,t,n){return y({method:"POST",url:"/workspace/payment/create",data:{workspaceID:e,intentID:t,paymentMethod:n}})}function jt(e,t,n){return y({method:"POST",url:"/workspace/payment/lite_upgrade",data:{workspaceID:e,intentID:t,paymentMethod:n}})}function xt(e,t){return y({method:"POST",url:"/workspace/member/invite_link",data:{workspaceID:e,channelID:t||void 0}})}function St(e,t){return y({method:"POST",url:"/workspace/channel/join",data:{workspaceID:e,channelID:t}})}function It(e){return y({method:"GET",url:"/workspace/member/invite_info",params:{key:e}})}function Ot(e){return y({method:"POST",url:"/workspace/member/join_by_key",data:{inviteKey:e}})}function Et(e){return y({method:"GET",url:"/workspace/payment/billing",params:{workspaceID:e}})}function Nt(){return y({method:"GET",url:"/user/notification/load"})}function Dt(e){return y({method:"POST",url:"/user/notification/read",data:{notificationID:e}})}function At(){return y({method:"POST",url:"/user/notification/read_all"})}function Ct(e,t,n){return y({method:"POST",url:"/workspace/channel/add_members",data:{workspaceID:e,channelID:t,memberUIDs:n}})}function Pt(e,t,n){return y({method:"POST",url:"/workspace/member/change_role",data:{workspaceID:e,memberID:t,role:n}})}function kt(e,t){var n={workspaceID:e,memberUID:t?String(t):void 0};return y({method:"POST",url:"/workspace/member/quit",data:n})}function Tt(e,t,n){return y({method:"POST",url:"/workspace/channel/quit",data:{workspaceID:e,channelID:t,memberUID:n||void 0}})}function Lt(e,t){return y({method:"POST",url:"/workspace/channel/delete",data:{workspaceID:e,channelID:t}})}function _t(e){return y({method:"POST",url:"/workspace/delete",data:{workspaceID:e}})}function Rt(e,t,n){return y({method:"POST",url:"/workspace/channel/delete_item",data:{workspaceID:e,channelID:t,channelItemID:n}})}function Mt(e){var t=e.workspaceID,n=e.channelID,r=e.id,o=e.folderID;return y({method:"POST",url:"/workspace/channel/return_item",data:{workspaceID:t,channelID:n,folderID:o,channelItemID:r}})}function Zt(){return(0,o.Z)({method:"GET",url:"/web/user/logout"})}function Ft(e,t,n){return y({method:"POST",url:"/workspace/notify",data:{workspaceID:t,type:e,channelID:n||void 0}})}function Ut(e,t){return y({method:"GET",url:"/workspace/payment/billing_log",params:{workspaceID:e,startingAfter:t||void 0}})}function Ht(e,t,n){return y({method:"POST",url:"/workspace/payment/renew",data:{workspaceID:e,intentID:t,paymentMethod:n}})}function Gt(e,t){return y({method:"POST",url:"/workspace/payment/update_card",data:{workspaceID:e,paymentMethod:t}})}function Vt(e){return y({method:"POST",url:"/workspace/payment/cancel",data:{workspaceID:e}})}function Bt(e){return y({method:"POST",url:"/workspace/payment/upgrade",data:{workspaceID:e}})}function Wt(e,t){return y({method:"POST",url:"/workspace/payment/resubscribe",data:{workspaceID:e,planName:t}})}function zt(e){return y({method:"POST",url:"/workspace/payment/pay",data:{workspaceID:e}})}function Kt(e){return y({method:"GET",url:"/workspace/info",params:{workspaceID:e}})}function Yt(e,t,n,r){return y({method:"POST",url:"/workspace/payment/transfer",data:{workspaceName:e,channelName:t,channelDescription:n,paymentMethod:r}})}function Qt(e){return y({method:"GET",url:"/workspace/payment/get_customer_info",params:{workspaceID:e}})}function qt(e){return y({method:"POST",url:"/workspace/payment/update_customer",data:e})}function Jt(e,t){return y({method:"POST",url:"/video/convert_webm_for_view",data:{videoID:e,shareKey:t||void 0}})}function Xt(e,t){return y({method:"POST",url:"/folder/change_description",data:{description:t,folderID:e}})}function $t(e){return y({method:"POST",url:"/folder/get_share_key",data:{folderID:e}})}function en(e){return y({method:"POST",url:"/folder/revoke_share_key",data:{folderID:e}})}function tn(e,t){return y({method:"GET",url:"/folder/load_info",params:{folderID:e,key:t||void 0}})}function nn(e,t){return y({method:"GET",url:"/premium/stripe/secret",params:{planName:e,promotionCode:t}})}function rn(e,t){return y({method:"POST",url:"/premium/stripe/create_plan",data:{intentID:e,paymentMethod:t}})}function on(){return y({method:"GET",url:"/user/setup_intent"})}function an(){return y({method:"GET",url:"/premium/stripe/renew_plan"})}function cn(){return y({method:"GET",url:"/refer/load_invite_link"})}function sn(){return y({method:"GET",url:"/refer/load_referrals"})}function ln(e){return y({method:"POST",url:"/refer/send_email_invitation",data:{email:e}})}function un(e){return y({method:"POST",url:"/refer/active_gift",data:{referralID:e}})}function dn(){return y({method:"GET",url:"/user/permission"})}function fn(e){return y({method:"GET",url:"/refer/check_accept",params:{referKey:e}})}function mn(e){return hn.apply(this,arguments)}function hn(){return(hn=h(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y({method:"POST",url:"/folder/download",timeout:6e4,data:{folderID:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e){return vn.apply(this,arguments)}function vn(){return(vn=h(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y({method:"POST",url:"folder/download_info",data:{folderID:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t,n,r,o){return gn.apply(this,arguments)}function gn(){return(gn=h(c().mark((function e(t,n,r,o,a){var s,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={imageID:t,shareKey:n,folderID:r,workspaceID:o||void 0,channelID:a||void 0},e.next=3,y({method:"POST",url:"/image/copy",data:s});case 3:return"info"in(l=e.sent).image&&l.image.info.wcFolder&&(l.image.info.wcFolder=(0,i.EY)(l.image.info.wcFolder)),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(){return wn.apply(this,arguments)}function wn(){return wn=h(c().mark((function e(){var t,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.abrupt("return",y({method:"POST",url:"/user/stuff",data:{type:"userGuideClose",value:String(t)}}));case 2:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function jn(e,t){return xn.apply(this,arguments)}function xn(){return(xn=h(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return Object.entries(e).filter((function(e){var t=d(e,2);t[0];return t[1]})).map((function(e){return d(e,1)[0]})).join(",")},e.abrupt("return",y({method:"POST",url:"/user/stuff",data:{type:"userGuideComplete",guideStep:r(t)+"|"+r(n)}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(){return In.apply(this,arguments)}function In(){return(In=h(c().mark((function e(){var t,n,r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){var t=d(e.split("|"),2),n=t[0],r=void 0===n?"":n,o=t[1],i=void 0===o?"":o;return[Object.fromEntries(r.split(",").filter(Boolean).map((function(e){return[e,!0]}))),Object.fromEntries(i.split(",").filter(Boolean).map((function(e){return[e,!0]})))]},e.next=3,y({method:"GET",url:"/user/stuff_load",params:{type:"userGuide"}});case 3:return o=e.sent,e.abrupt("return",r(null!==(t=null==o||null===(n=o.userGuide)||void 0===n?void 0:n.guideComplete)&&void 0!==t?t:"|"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){return(0,o.Z)({method:"POST",url:"/api/v1/user/token_login",data:{userID:e,authorization:t}})}function En(e){var t=e.workspaceID,n=e.channelID,r=e.page;return y({method:"GET",url:"workspace/activity",params:{workspaceID:t,channelID:n,page:r}})}function Nn(e){return y({method:"GET",url:"workspace/member/profile",params:{workspaceID:e}})}function Dn(e){var t=e.workspaceID,n=e.nickname,r=e.introduction;return y({method:"POST",url:"/workspace/member/update_profile",data:{workspaceID:t,nickname:n,introduction:r}})}function An(e,t){var n=new FormData;return n.append("file",e),n.append("workspaceID",t),y({method:"POST",url:"/workspace/member/upload_avatar",data:n})}y.interceptors.request.use((function(e){return e}),(function(){return r.ZP.error("Network error, Request timeout!"),Promise.reject()})),y.interceptors.response.use((function(e){var t=e.data,n=e.config;if(t&&1===t.code)return Promise.resolve(t.data);if(1e3===t.code&&"/pricing"!==window.location.pathname)window.location.href="/signin?redirect="+window.location.href;else{if(2001===t.code)return Promise.reject(t);if(1201===t.code)return Promise.reject(t);if(t.msg){if(n.url&&v.includes(n.url))return Promise.reject(t.msg);if(r.ZP.error(t.msg),"/pricing"!==window.location.pathname)return Promise.reject(t.msg)}}}),(function(e){if(e.response){var t=e.response.status;r.ZP.error("Network error! Error Code "+t)}return Promise.reject(e)}))},43087:(e,t,n)=>{n.d(t,{$2:()=>v,$T:()=>k,EY:()=>p,HW:()=>E,KS:()=>I,OT:()=>L,YX:()=>Z,_n:()=>C,aq:()=>R,h5:()=>D,mw:()=>g,oi:()=>x,qz:()=>w});var r=n(4976);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,i)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(r,i,a,c){var s=f(e[r],e,i);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==l(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return m({itemType:"folder",id:e.folderID,title:e.name},e)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=d(s().mark((function e(t,n){var o,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.workspaceID,i=t.channelID,a=t.folderID,c=n.name,l=n.description,e.next=4,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/create",data:{workspaceID:o,channelID:i,parentID:a,name:c,description:l}});case 4:return u=e.sent,e.abrupt("return",p(u.folder));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return b.apply(this,arguments)}function b(){return(b=d(s().mark((function e(t,n){var o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.eE4)("/workspace/channel/folder/all",{params:{workspaceID:t,channelID:n}});case 2:return o=e.sent,a=Object.fromEntries(Object.entries(o.folders).map((function(e){var t=i(e,2),n=t[0],r=t[1];return[n,null==r?void 0:r.map(p)]}))),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return j=d(s().mark((function e(t){var n,o,i,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},o=a.length>2?a[2]:void 0,e.next=4,(0,r.eE4)({method:"get",url:"/workspace/channel/load_items",params:m(m(m({},t),{},{folderID:"0"===t.folderID?void 0:t.folderID},n),{},{folderShareKey:o})});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function x(e,t){return S.apply(this,arguments)}function S(){return(S=d(s().mark((function e(t,n){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.workspaceID,i=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/change_name",data:{workspaceID:o,channelID:i,folderID:a,newName:n}});case 3:return c=e.sent,e.abrupt("return",p(c.folder));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return O.apply(this,arguments)}function O(){return(O=d(s().mark((function e(t,n){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.workspaceID,i=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/change_description",data:{workspaceID:o,channelID:i,folderID:a,description:n}});case 3:return c=e.sent,e.abrupt("return",p(c.folder));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return N.apply(this,arguments)}function N(){return(N=d(s().mark((function e(t){var n,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceID,o=t.channelID,i=t.folderID,e.abrupt("return",(0,r.eE4)({method:"post",url:"/workspace/channel/folder/remove",data:{workspaceID:n,channelID:o,folderID:i}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return A.apply(this,arguments)}function A(){return(A=d(s().mark((function e(t,n){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.workspaceID,i=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/move",data:{workspaceID:o,channelID:i,parentID:a,folders:n.map((function(e){return e.id})).join(",")}});case 3:return(c=e.sent).folders=c.folders.map(p),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=d(s().mark((function e(t){var n,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceID,o=t.channelID,i=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/get_share_key",data:{workspaceID:n,channelID:o,folderID:i}});case 3:return a=e.sent,e.abrupt("return",a.shareKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=d(s().mark((function e(t){var n,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceID,o=t.channelID,i=t.folderID,e.abrupt("return",(0,r.eE4)({method:"post",url:"/workspace/channel/folder/revoke_share_key",data:{workspaceID:n,channelID:o,folderID:i}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return _.apply(this,arguments)}function _(){return(_=d(s().mark((function e(t,n){var i,a,c,l,u,d,f,m,h,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.workspaceID,a=t.channelID,c=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/move_items",data:{workspaceID:i,channelID:a,folderID:c,items:n.map((function(e){return"".concat(e.itemType,"-").concat(e.itemID)})).join(", ")}});case 3:l=e.sent,u=l.channel,d=l.workspace,(f=l.folder)&&(l.folder=p(f)),m=o(l.items);try{for(m.s();!(h=m.n()).done;)v=h.value,Object.assign(v.info,{channel:u,workspace:d,wcFolder:l.folder,channelItemId:v.id,isChannelMember:u.isMember})}catch(e){m.e(e)}finally{m.f()}return e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return M.apply(this,arguments)}function M(){return(M=d(s().mark((function e(t,n){var o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.workspaceID,i=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"get",url:"/workspace/channel/folder/info",params:{workspaceID:o,channelID:i,folderID:a,key:n}});case 3:return c=e.sent,e.abrupt("return",Object.assign(c,{folder:p(c.folder),parentFolders:c.parentFolders.map(p),subFolders:c.subFolders.map(p)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return F.apply(this,arguments)}function F(){return(F=d(s().mark((function e(t,n){var o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.workspaceID,i=t.channelID,a=t.id,e.abrupt("return",(0,r.eE4)({url:"/workspace/channel/rename_item",method:"post",data:{workspaceID:o,channelID:i,channelItemID:a,title:n}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},79105:(e,t,n)=>{n.d(t,{_:()=>s});var r=n(4976);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function h(){}function p(){}function v(){}var y={};u(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,c)&&(y=b);var w=v.prototype=h.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,c,s){var l=f(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return i("throw",e,c,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),u(w,l,"Generator"),u(w,c,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function a(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,s,"next",e)}function s(e){a(i,r,o,c,s,"throw",e)}c(void 0)}))}}function s(e){return l.apply(this,arguments)}function l(){return(l=c(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,r.eE4)({url:"/video/edit/revert_to_original",method:"post",data:{videoID:String(t)}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},59985:(e,t,n)=>{n.d(t,{Z:()=>H});n(85624);var r=n(71577),o=n(67294),i=n(56262),a=n(20348),c=n(92807),s=n(45384),l=n(5551),u=n(67618),d=(n(91324),n(45777)),f=n(85893);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const p=function(e){var t=e.title,n=e.children,r=e.onClick,i=m((0,o.useState)(!1),2),a=i[0],c=i[1];return(0,f.jsx)(d.Z,{title:t,onClick:function(){c(!1)},onVisibleChange:c,mouseEnterDelay:.5,visible:a,children:(0,f.jsx)("div",{className:"action-btn comment-action-btn",onClick:r,children:n})})};var v=n(73935),y=n(47481);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=(0,o.lazy)((function(){return Promise.all([n.e(466),n.e(341)]).then(n.bind(n,87341))}));const j=function(e){var t=e.onSelect,n=g((0,o.useState)(!1),2),r=n[0],i=n[1],a=g((0,o.useState)({left:0,top:0}),2),c=a[0],s=a[1],l=(0,o.useRef)(null),m=(0,o.useRef)();function h(e){var t=e.target;(0,u.IY)(t,".emoji-picker")||i(!1)}function p(){b()}function b(){var e=l.current.getBoundingClientRect().left;e+320>=document.documentElement.offsetWidth&&(e-=e+320-document.documentElement.offsetWidth+10);var t=l.current.getBoundingClientRect().top+document.scrollingElement.scrollTop+-426;s({left:e,top:t})}(0,o.useEffect)((function(){return r?(document.documentElement.addEventListener("click",h,!1),window.addEventListener("resize",p,!1)):(document.documentElement.removeEventListener("click",h,!1),window.removeEventListener("resize",p,!1)),function(){document.documentElement.removeEventListener("click",h,!1),window.removeEventListener("resize",p,!1)}}),[r]);var j=function(e){e.stopPropagation(),b(),m.current={width:window.innerWidth,height:window.innerHeight},i(!r)};return(0,f.jsxs)("div",{className:"emoji-btn-wrapper",children:[r?(0,f.jsx)("div",{className:"emoji-btn ".concat(r?"active":""),ref:l,onClick:j,children:(0,f.jsx)(y.O9,{})}):(0,f.jsx)(d.Z,{title:"Emoji",mouseEnterDelay:.5,children:(0,f.jsx)("div",{className:"emoji-btn ".concat(r?"active":""),ref:l,onClick:j,children:(0,f.jsx)(y.O9,{})})}),r&&(0,v.createPortal)((0,f.jsx)("div",{style:{position:"absolute",left:"0",top:"0",width:"100%"},children:(0,f.jsx)("div",{className:"as-emoji-picker",style:{position:"absolute",zIndex:"1000",left:c.left,top:c.top},children:(0,f.jsx)(o.Suspense,{fallback:(0,f.jsx)("div",{className:"emoji-loading",children:"Loading Emojis..."}),children:(0,f.jsx)(w,{handleOnSelect:function(e){t(e.native),i(!r)}})})})}),document.body)]})};var x=n(3432);var S={createComment:c.Yr};const I=(0,i.$j)((function(e){return{isCreating:e.comment.isCreating,userList:e.comment.userList}}),S)((function(e){var t=e.onCancel,n=e.itemType,i=e.itemId,a=e.isCreating,c=e.mentionUser,s=e.userList,d=e.createComment,m=e.onCreateCommentFinish,h=e.currentVideoTime,v=(0,o.useRef)();(0,o.useEffect)((function(){if(c){var e={id:c.userID,value:c.userName};setTimeout((function(){v.current.addMention(e)}),100)}}),[c]);var g=(0,o.useMemo)((function(){var e=s.map((function(e){return{id:e.userID,value:e.fullName,avatar:e.userAvatar}}));return e.length>1&&e.unshift({id:"-1",value:"All"}),e}),[s]);return(0,f.jsxs)("div",{className:"comment-input",children:[(0,f.jsx)(x.Z,{ref:v,defaultMentionUsers:c,mentionUsers:g}),(0,f.jsxs)("div",{className:"action-bar",children:[(0,f.jsxs)("div",{className:"action-btns",children:[(0,f.jsx)(j,{onSelect:function(e){v.current.addEmoji(e)}}),(0,f.jsx)(p,{title:"Mention someone",onClick:function(){v.current.addAt()},children:(0,f.jsx)(y.lO,{})})]}),(0,f.jsxs)("div",{className:"comment-btns",children:[!a&&(0,f.jsx)("a",{className:"cancel-btn",onClick:t,children:"Cancel"}),(0,f.jsx)(r.Z,{type:"primary",onClick:function(){var e=v.current.getContent(),t=(0,u.Er)(e);d(n,i,t,"0",c?c.timestamp:h,(function(){m()}))},loading:a,children:n!==l.Z$.video?"Comment":c?"Reply":h?"Comment at "+(0,u.z7)(h):void 0})]})]})]})}));n(47386);var O=n(48889),E=n(94184),N=n.n(E),D=n(27856),A=n.n(D),C=n(99096),P=A().sanitize;function k(e,t){var n=e.comment,r=e.type,o=e.isSelf,i=e.isOwner,a=e.handleSeekTo,c=e.handleReply,s=e.handleDelete,d=i?o?"delete":"delete & reply":o?"delete":"reply",m=N()("comment-item",{new:0!==n.isNew});return(0,f.jsxs)("div",{className:m,ref:t,onAnimationEnd:function(e){e.target.classList.remove("selected-animate")},children:[(0,f.jsxs)("div",{className:"comment-actions",children:[/delete/.test(d)&&(0,f.jsx)("div",{className:"comment-action-btn delete",onClick:function(){var e;e=n.id,O.Z.confirm({title:"Are you sure you want to delete this comment?",content:"",onOk:function(){s(e)},okText:"Delete",okType:"danger"})},children:"Delete"}),/reply/.test(d)&&(0,f.jsx)("div",{className:"comment-action-btn",onClick:function(){c({uid:n.userID,userName:n.userName,userID:n.userID,timestamp:n.timestamp})},children:"Reply"})]}),(0,f.jsx)("div",{className:"avatar",children:(0,f.jsx)(C.Z,{username:n.userName,avatarUrl:n.userAvatar,size:"30"})}),(0,f.jsxs)("div",{className:"content-area",children:[(0,f.jsxs)("div",{className:"name-area",children:[(0,f.jsx)("div",{className:"name",children:n.userName}),r===l.Z$.video&&(0,f.jsxs)("span",{className:"video-time",onClick:function(){a(n.timestamp)},children:["at"," ",(0,f.jsx)("span",{className:"time-text",children:(0,u.z7)(n.timestamp)})]})]}),(0,f.jsx)("div",{className:"content",children:(0,f.jsx)("span",{dangerouslySetInnerHTML:{__html:P(n.content,{ADD_ATTR:["target"]})}})}),(0,f.jsx)("div",{className:"time",children:(0,u.Hu)(n.createTime)})]})]})}const T=(0,o.memo)((0,o.forwardRef)(k));var L=n(71853),_=n(64129),R=n(11572);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=e.loadCommentUserList,i=e.userinfo,c=e.isOwner,l=e.comments,u=e.isCommentLoading,d=e.currentVideoTime,m=e.onCommentStart,h=e.itemType,p=e.itemId,v=e.shareKey,g=e.height,b=e.handleSeekTo,w=e.deleteComment,j=e.removeCommentMentioned,x=e.isInChannel,S=e.userList,O=e.channel,E=e.isUserListLoading,N=e.goToSignIn,D=M((0,o.useState)((function(){return x})),2),A=D[0],C=D[1],P=M((0,o.useState)(null),2),k=P[0],Z=P[1],F=(0,o.useRef)(),U=(0,o.useRef)({}),H=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(function(){return{scrollTo:G,getIsShowInput:function(){return A}}})),(0,o.useEffect)((function(){n(h,p,v)}),[]),(0,o.useEffect)((function(){var e;return l.forEach((function(e){var t,n;return(t=U.current)[n=e.id]||(t[n]=(0,o.createRef)())})),l.filter((function(e){return 1===e.isNew})).length>0&&(e=setTimeout((function(){H.current.scrollToIndex(l.length)}),200)),function(){return clearTimeout(e)}}),[l.length]);var G=function(e){var t=l.findIndex((function(t){return t.id===e}));H.current.scrollToIndex({index:t,align:"start"}),setTimeout((function(){U.current[e].classList.add("selected-animate")}),100)},V=(0,s.t)((function(e){i.uid?(Z(e),C(!0)):W()})),B=(0,o.useCallback)((function(e){w(h,p,e)}),[]),W=function(){window.location.href="/signin?redirect="+window.location.href+"&from=comment"},z=l.filter((function(e){return 1===e.isMention}));return(0,f.jsx)("div",{className:"comment-container",style:{height:g},children:u?(0,f.jsx)("div",{className:"comment-loading",children:(0,f.jsx)(L.Z,{})}):(0,f.jsxs)(f.Fragment,{children:[0===l.length?(0,f.jsx)("div",{className:"no-comment",children:(0,f.jsxs)("div",{className:"no-comment-box",children:[(0,f.jsx)("div",{className:"no-comment-pic"}),!E&&(0,f.jsx)(f.Fragment,{children:S.length>0||!x?(0,f.jsx)("div",{className:"no-comment-title",children:"No comments yet."}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"no-comment-desc",children:"Can’t wait to hear other people’s thoughts? Invite people to discuss with you."}),(0,f.jsx)(R.Z,{render:function(e,t,n){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(r.Z,{type:"primary",onClick:t,children:[(0,f.jsx)(y.dt,{}),"invite"]}),(0,f.jsx)(_.Z,{visible:e,channel:O,onCancel:n})]})}})]})})]})}):(0,f.jsxs)(f.Fragment,{children:[z.length>0&&(0,f.jsxs)("div",{className:"mentioned-tip",onClick:function(){var e=z[0].id;G(e),j({itemType:h,itemId:p,id:e})},children:[(0,f.jsx)(y.xR,{}),z.length," ",z.length>1?"comments":"comment"," ","mentioned you"]}),(0,f.jsx)("div",{className:"comment-box",ref:F,children:(0,f.jsx)(a.OO,{style:{height:"100%"},ref:H,className:"virtuoso-box",totalCount:l.length,itemContent:function(e){var t=l[e];return(0,f.jsx)(T,{type:h,ref:function(e){return U.current[t.id]=e},comment:t,handleSeekTo:b,handleReply:V,handleDelete:B,isSelf:i.uid===t.userID,isOwner:c},t.id)}})})]}),(0,f.jsxs)("div",{className:"send-area",children:[l.length>0&&0===S.length&&x&&(0,f.jsx)(R.Z,{render:function(e,t,n){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"invite-area",onClick:t,children:["Invite people to discuss with you.",(0,f.jsx)(r.Z,{shape:"circle",icon:(0,f.jsx)(y.pF,{}),type:"primary"})]}),(0,f.jsx)(_.Z,{visible:e,channel:O,onCancel:n})]})}}),A?(0,f.jsx)(I,{itemType:h,itemId:p,onCancel:function(){C(!1),Z(null)},mentionUser:k,onCreateCommentFinish:function(){C(!1),Z(null),setTimeout((function(){H.current.scrollToIndex(l.length)}),200)},currentVideoTime:d,isInChannel:x}):(0,f.jsx)(f.Fragment,{children:i.uid?(0,f.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:function(){C(!0),null==m||m()},children:"Leave a comment"}):(0,f.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:N,children:"Sign in to leave a comment"})})]})]})})}var U={loadCommentUserList:c.Mj,deleteComment:c.YF,removeCommentMentioned:c.xF};const H=(0,i.$j)((function(e,t){return{userinfo:e.user.info,comments:e.comment.comments[t.itemType+t.itemId]||[],userList:e.comment.userList,isUserListLoading:e.comment.isUserListLoading}}),U,null,{forwardRef:!0})((0,o.forwardRef)(F))},71853:(e,t,n)=>{n.d(t,{Z:()=>i});n(42738);var r=n(7085),o=n(85893);const i=function(e){var t=e.size;return(0,o.jsx)("div",{className:"container-loading ".concat(null!=t?t:""),children:(0,o.jsx)(r.Z,{})})}},95411:(e,t,n)=>{n.d(t,{Z:()=>d});n(91324);var r=n(45777),o=n(94184),i=n.n(o),a=n(67294),c=n(96974),s=n(47481),l=n(85893);function u(e){var t=e.folder,n=e.clickable,o=e.count,a=e.shareKey,u=e.noShareIcon,d=(0,c.s0)(),f=i()("crumb-item",{clickable:n}),m=Math.floor((30*(o-1)+92)/(o-1))+36,h=Math.floor(100/(o-1)),p={maxWidth:"My Items"===t.name?"92px":"calc("+h+"% - "+m+"px)"};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{title:t.name,mouseEnterDelay:.5,children:(0,l.jsxs)("div",{className:f,style:p,onClick:function(){n&&("0"===String(t.folderID)?d("/my_items"):d(a?"/s/folder/".concat(t.folderID,"/").concat(a):"/folder/".concat(t.folderID)))},children:[!n&&(0,l.jsxs)("div",{className:"folder-icon",children:[t.isInStarred?(0,l.jsx)(s.wn,{}):(0,l.jsx)(s.RO,{}),!u&&t.shareKey&&(0,l.jsx)("div",{className:"shared-badge",children:(0,l.jsx)(s.Od,{})})]}),t.name]})}),n&&(0,l.jsx)("div",{className:"crumb-sep",children:(0,l.jsx)(s.e0,{})})]})}const d=(0,a.memo)(u)},63173:(e,t,n)=>{n.d(t,{Z:()=>u});n(91324);var r=n(45777),o=n(94184),i=n.n(o),a=n(67294),c=n(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t=e.text,n=e.className,o=e.width,l=e.onClick,u=e.isHtml,d=s((0,a.useState)(!1),2),f=d[0],m=d[1],h=(0,a.useRef)(null);function p(){var e=h.current;m(e.scrollWidth>e.offsetWidth)}var v=i()("ellipsis-text",n);return(0,c.jsx)(r.Z,{title:f?t:"",mouseLeaveDelay:0,mouseEnterDelay:.3,children:u?(0,c.jsx)("span",{className:v,style:{maxWidth:o},ref:h,onClick:l,onMouseEnter:p,dangerouslySetInnerHTML:{__html:t}}):(0,c.jsx)("span",{className:v,style:{maxWidth:o},ref:h,onClick:l,onMouseEnter:p,children:t})})}},36450:(e,t,n)=>{n.d(t,{Z:()=>y});n(85624);var r=n(71577),o=(n(79133),n(32787)),i=(n(50626),n(48086)),a=(n(15285),n(71257)),c=n(38819),s=n(67294),l=n(4976),u=n(83417),d=n(67618),f=n(21862),m=n(47481),h=n(85893);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const y=function(e){var t=e.channel,n=e.workspaceID,v=e.afterInvite,y=p((0,s.useState)(1),2),g=y[0],b=y[1],w=p((0,s.useState)(!1),2),j=w[0],x=w[1],S=p((0,s.useState)(!1),2),I=S[0],O=(S[1],p(a.Z.useForm(),1)[0]),E=p((0,u.Z)(),5),N=E[0],D=E[1],A=E[2],C=E[3],P=E[4],k=(0,d.vA)(g);return(0,h.jsxs)("div",{className:"email-invite-form",children:[I?(0,h.jsxs)("div",{className:"finish-tip",children:[(0,h.jsx)(c.Z,{}),(0,h.jsx)("div",{children:"Invitations has been sent."})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a.Z,{onFinish:function(e){var r=[];for(var o in e)r.push(e[o]);var a=r.join(",");if(""!==a){x(!0);var c=t?t.id:"",s=n||t.workspaceID;(0,l.d5$)(s,c,a).then((function(){x(!1),i.ZP.success("Invitations have been sent successfully."),O.resetFields(),v&&v()})).catch((function(e){var t;x(!1),void 0!==(null==e||null===(t=e.data)||void 0===t?void 0:t.isOwner)&&(P(e.data.isOwner),D(!0))}))}},name:"email-invite",form:O,children:[k.map((function(e,t){return(0,h.jsx)(a.Z.Item,{name:e,children:(0,h.jsx)(o.Z,{size:"large",type:"email",placeholder:"Email",autoComplete:"chrome-off",name:"email"+t},e)},e)})),(0,h.jsxs)("a",{className:"add-email",onClick:function(){b(g+1)},children:[(0,h.jsx)(m.dt,{})," Add another"]}),(0,h.jsx)(r.Z,{htmlType:"submit",block:!0,loading:j,size:"large",type:"primary",children:"Send invitation"})]}),(0,h.jsx)("div",{className:"invite-link",children:(0,h.jsxs)("a",{onClick:function(){var e="inviteLink";i.ZP.loading({content:"Generating invite link",key:e});var r=t?t.id:"",o=n||t.workspaceID;(0,l.Myt)(o,r).then((function(t){(0,d.zp)(window.location.origin+"/workspace/invite/"+t.inviteKey),i.ZP.success({content:"Invite link has been copied to your clipboard successfully.",key:e})}))},children:[(0,h.jsx)(m.Od,{}),"Get a shareable invite link instead"]})})]}),(0,h.jsx)(f.Z,{visible:N,onCancel:A,isOwner:C,workspaceID:n,type:"memberJoin"})]})}},12947:(e,t,n)=>{n.d(t,{E:()=>w});n(52927);var r=n(9676),o=(n(91324),n(45777)),i=(n(23753),n(18480)),a=(n(85624),n(71577)),c=(n(50626),n(48086)),s=(n(15285),n(71257)),l=(n(79133),n(32787)),u=n(38819),d=n(1870),f=n(31795),m=n.n(f),h=n(67294),p=n(56262),v=n(4976),y=n(85893);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=(0,p.$j)((function(e){return{userinfo:e.user.info}}))((function(e){var t=g((0,h.useState)(!1),2),n=t[0],f=t[1],p=g((0,h.useState)(!1),2),b=p[0],w=p[1],j=g((0,h.useState)(""),2),x=j[0],S=(j[1],e.userinfo?e.userinfo.mail:"");return(0,y.jsxs)("div",{className:"feedback-panel",children:[(0,y.jsx)("div",{className:"title",children:"Send Feedback"}),(0,y.jsxs)("div",{className:"label-tip",children:["Please visit our"," ",(0,y.jsx)("a",{href:"https://support.awesomescreenshot.com/hc/en-us",target:"_blank",children:"Help Center"})," ","to find answers to your questions before submitting the request form."]}),(0,y.jsx)("div",{className:"content",children:b?(0,y.jsxs)("div",{className:"sent-message",children:[(0,y.jsx)("div",{children:(0,y.jsx)(u.Z,{})}),(0,y.jsx)("div",{className:"title",children:"Thank you"}),(0,y.jsx)("div",{className:"content",children:"The form was submitted successfully. We will contact you shortly."}),(0,y.jsx)(a.Z,{type:"primary",onClick:function(){w(!1)},children:"Submit another issue"})]}):(0,y.jsxs)(s.Z,{onFinish:function(t){var n={};n.Browser||(n.Browser=m().name+" "+m().version),n.OS||(n.OS=m().os.toString()),n["Screen Size"]||(n["Screen Size"]=window.screen.width+"x"+window.screen.height),t.webUrl&&(n["Web URL"]=t.webUrl),t.screenshotVideoUrl&&(n["Screenshot/video URL"]=t.screenshotVideoUrl);var r=!0===t.isSendInfo||void 0===t.isSendInfo?function(e,t){var n="";for(var r in n+=e+"<br/><br/><br/><hr>",t)n+="<b>"+r+"</b>: "+t[r]+"<br/>";return n}(t.content,n):t.content,o={email:t.email||(e.userinfo?e.userinfo.mail:""),name:e.userinfo?e.userinfo.fullName:"",subject:"[".concat(t.type.join("/"),"]"),content:r};f(!0),(0,v.hz1)(o).then((function(){f(!1),w(!0)})).catch((function(){f(!1),c.ZP.error("Submission failed. Please retry or copy summary and details to send an email to care@awesomescreenshot.com.")}))},children:[(0,y.jsx)("div",{className:"label required",children:"Feedback Category"}),(0,y.jsx)(s.Z.Item,{name:"type",initialValue:x,rules:[{required:!0,message:"Please select Category"}],children:(0,y.jsx)(i.Z,{dropdownClassName:"platform-picker",fieldNames:{label:"value",value:"value",children:"children"},options:[{value:"Website",children:[{value:"Video or Video Editing"},{value:"Image or Image Editing"},{value:"Workspace"},{value:"Folder"},{value:"Search"},{value:"Other"}]},{value:"Browser Extension",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Desktop App for macOS",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Desktop App for Windows",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Mobile App for iOS",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Sales including Workspace Sales"},{value:"Cooperation/Partnership"},{value:"Other"}],onChange:function(e){},placeholder:"Please select"})}),(0,y.jsx)("div",{className:"label required",children:"Feedback Content"}),(0,y.jsx)(s.Z.Item,{name:"content",rules:[{required:!0,message:"Please input some details"}],children:(0,y.jsx)(l.Z.TextArea,{autoSize:{minRows:5},placeholder:"Let us know what happened in detail."})}),e.userinfo&&/privaterelay.appleid.com/.test(e.userinfo.mail)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"label required",children:"Email"}),(0,y.jsx)(s.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please input a valid email"}],children:(0,y.jsx)(l.Z,{placeholder:"Enter an email address to receive updates on the issue."})})]}):e.isModel?(0,y.jsx)(y.Fragment,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"label required",children:"Email"}),(0,y.jsx)(s.Z.Item,{name:"email",initialValue:S,rules:[{required:!0,message:"Please input your email"}],children:(0,y.jsx)(l.Z,{placeholder:"Your email",defaultValue:S})})]}),(0,y.jsx)("div",{className:"label",children:"Web URL (optional)"}),(0,y.jsx)(s.Z.Item,{name:"webUrl",children:(0,y.jsx)(l.Z,{placeholder:"Share the URL of the problematic page."})}),(0,y.jsx)("div",{className:"label",children:"Screenshot/Video URL (optional)"}),(0,y.jsx)(s.Z.Item,{name:"screenshotVideoUrl",children:(0,y.jsx)(l.Z,{placeholder:"Record a video to show us what's happening or send screenshot(s)."})}),(0,y.jsx)(s.Z.Item,{name:"isSendInfo",valuePropName:"checked",initialValue:!0,children:(0,y.jsxs)(r.Z,{className:"check-tip",children:["Include your OS and browser info to help developers debug errors"," ",(0,y.jsx)(o.Z,{title:"The version number of your OS, browser, and extension, as well as the screen size, will be included.",children:(0,y.jsx)(d.Z,{className:"mark"})})]})}),(0,y.jsxs)("div",{className:"btn-area",children:[e.isModel?(0,y.jsx)(a.Z,{onClick:e.closeModal,children:"Cancel"}):(0,y.jsx)(y.Fragment,{}),(0,y.jsx)(a.Z,{type:"primary",htmlType:"submit",loading:n,size:"large",block:!e.isModel,children:"Submit"})]})]})})]})}))},62734:(e,t,n)=>{n.d(t,{Z:()=>y});n(85624);var r=n(71577),o=(n(11947),n(38648)),i=n(67294),a=n(56262),c=n(55087),s=n(4976),l=n(32250),u=n(79993),d=n(58010),f=n(85893);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=/Edg/.test(window.navigator.userAgent);var v={clickFiveStarAction:c.JF};const y=(0,a.$j)((function(e){return{userinfo:e.user.info,permissions:e.user.permissions}}),v)((function(e){var t=e.userinfo,n=e.permissions,a=e.isInApp,c=e.isFailed,h=e.type,v=e.clickFiveStarAction,y=m((0,i.useState)(!1),2),g=y[0],b=y[1],w=(0,i.useRef)(!1);(0,l.D)(n.showChromeFiveStar),(0,i.useEffect)((function(){w.current||!0!==n.showChromeFiveStar||!u.Z.isChrome()&&!p||a||"video"===h&&(void 0===c||c)||(D(),w.current=!0)}),[n,c]);var j=function(){O("clickNo"),o.Z.destroy()},x=function(e,t){o.Z.open({key:"fivestar",className:"five-star-promotion",placement:"bottomRight",duration:0,style:{width:435,marginLeft:-80},message:e,description:t,onClose:j})},S=function(){var e=p?"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo":"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj/reviews";window.open(e),O("fivestar"),o.Z.destroy()},I=function(){b(!0),O("feedback"),o.Z.destroy()},O=function(e){switch(e){case"clickNo":(0,s.wWy)();break;case"fivestar":(0,s.GvO)();break;case"feedback":(0,s.Zaq)()}v()},E=function(){x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"title",children:[(0,f.jsx)("div",{className:"icon"}),"User Satisfaction Survey"]}),(0,f.jsx)("div",{className:"content",children:"Your review means a lot to us. Would you mind taking a moment to rate the extension in the Web Store?"}),(0,f.jsxs)("div",{className:"btn-area",children:[(0,f.jsx)(r.Z,{style:{width:"236px",marginRight:"20px"},type:"primary",onClick:S,children:"Sure, take me to the Web Store."}),(0,f.jsx)(r.Z,{style:{width:"100px"},onClick:j,children:"No, thanks."})]})]}))},N=function(){x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"title",children:[(0,f.jsx)("div",{className:"icon"}),"User Satisfaction Survey"]}),(0,f.jsx)("div",{className:"content",children:"Would you like to report any issues you're experiencing or give us some suggestions so that we can make the extension better for you?"}),(0,f.jsxs)("div",{className:"btn-area",children:[(0,f.jsx)(r.Z,{style:{width:"240px",marginRight:"20px"},type:"primary",onClick:I,children:"Sure, take me to feedback."}),(0,f.jsx)(r.Z,{style:{width:"100px"},onClick:j,children:"No, thanks."})]})]}))},D=function(){x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"title",children:[(0,f.jsx)("div",{className:"icon"}),"User Satisfaction Survey"]}),(0,f.jsxs)("div",{className:"content",children:["Hi ",t.fullName,", Are you enjoying Awesome Screenshot?"]}),(0,f.jsxs)("div",{className:"btn-area",children:[(0,f.jsx)(r.Z,{onClick:E,type:"primary",ghost:!0,children:"Yes!"}),(0,f.jsx)(r.Z,{type:"primary",ghost:!0,onClick:N,children:"Not really"})]})]}),(0,f.jsx)(f.Fragment,{}))};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.r,{visible:g,onCancel:function(){b(!1)}})})}))},73732:(e,t,n)=>{n.d(t,{Z:()=>l});n(91938);var r=n(94184),o=n.n(r),i=n(67294),a=n(97957),c=n(85893);function s(e){var t=o()("item-area",{compact:"compact"===e.type});return(0,c.jsxs)("div",{className:t,children:[e.subTitle&&(0,c.jsx)("div",{className:"subtitle",children:e.subTitle}),(0,c.jsxs)(a.Z,{children:[e.children,e.isSubPageLoading?null:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"placeholder"}),(0,c.jsx)("div",{className:"placeholder"}),(0,c.jsx)("div",{className:"placeholder"})]})]})]})}const l=(0,i.memo)(s)},97957:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(67294),o=n(85893);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e){var t=e.children,n=i((0,r.useState)("small"),2),a=n[0],c=n[1],s=(0,r.useRef)(null);function l(){var e=document.querySelector(".channel-grid-item")||document.querySelector(".trash-item.item")||document.querySelector(".shared-grid-item")||document.querySelector(".grid-item");if(e){var t=e.offsetWidth;c(t<320?"small":t>320&&t<330?"medium":"large")}}(0,r.useEffect)((function(){var e=new ResizeObserver(l);return e.observe(s.current),function(){return e.disconnect()}}),[]),(0,r.useEffect)(l,[t]);var u="item-box grid-box ".concat(a);return(0,o.jsx)("div",{className:u,ref:s,children:t})}},13924:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(85893);const o=function(){return(0,r.jsxs)("div",{className:"item-detail-skeleton",children:[(0,r.jsxs)("div",{className:"item-detail-skeleton-item-container",children:[(0,r.jsx)("div",{className:"item-detail-skeleton-item",children:(0,r.jsx)("div",{className:"item-detail-skeleton-item-box"})}),(0,r.jsx)("div",{className:"item-detail-skeleton-sidebar"})]}),(0,r.jsxs)("div",{className:"item-detail-skeleton-title",children:[(0,r.jsx)("div",{className:"item-detail-skeleton-title-inner"}),(0,r.jsxs)("div",{className:"item-detail-skeleton-title-extra",children:[(0,r.jsx)("div",{className:"item-detail-skeletion-avatar"}),(0,r.jsx)("div",{className:"item-detail-skeletion-username"})]})]})]})}},37822:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(50308),o=n.n(r),i=n(94184),a=n.n(i),c=n(67294),s=n(56262),l=n(71436),u=n(15322),d=n(543),f=n(20722),m=n(85893);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={renameImage:u.I5,renameVideo:d.mU,renameChannelItem1:l.y7};const y=(0,s.$j)(null,v)((function(e){var t=e.item,n=e.renameImage,r=e.renameVideo,i=e.renameChannelItem1,s=h((0,c.useState)(!1),2),l=s[0],u=s[1],d=h((0,c.useState)(t.title),2),p=d[0],v=d[1],y=(0,c.useRef)(null);(0,c.useEffect)((function(){v(t.title)}),[t.title]);var g=a()("item-detail-title",{active:l});return(0,m.jsxs)("div",{className:g,children:[(0,m.jsxs)("pre",{children:[(0,m.jsx)("span",{children:p}),(0,m.jsx)("br",{})]}),(0,m.jsx)("textarea",{spellCheck:"false",maxLength:100,ref:y,onChange:function(e){return v(e.currentTarget.value)},onFocus:function(){u(!0),y.current.select()},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),y.current.blur())},onBlur:function(){u(!1);var e=y.current.value;if(!e.trim())return v(t.title);e!==t.title&&(t.channel?(0,f.WZ)(i(t,e),{okMsg:"Rename successfully.",errMsg:function(e){return"string"==typeof e?e:"Rename Failed."}}).catch(o()):"video"===t.itemType?r(t.id,e):n({id:t.id,name:e}))},value:p})]})}))},22037:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(94184),o=n.n(r),i=n(67294),a=n(85893),c=Array.from({length:5},(function(e,t){return t}));function s(e){var t=e.size,n=e.isShare,r=o()("item-skeleton-item",{compact:"compact"===t,shared:n});return(0,a.jsx)(a.Fragment,{children:c.map((function(e,o){return(0,a.jsx)("div",{className:r,children:"compact"!==t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"thumbnail"}),(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("div",{className:"name"}),(0,a.jsx)("div",{className:"extra"}),n&&(0,a.jsx)("div",{className:"skeleton-avatar"})]})]})},o)}))})}const l=(0,i.memo)(s)},92159:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(67294),o=n(85893);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(){var e=i((0,r.useState)(!1),2);return e[0],e[1],(0,r.useEffect)((function(){})),(0,o.jsx)("div",{className:"loading-wrapper",children:(0,o.jsx)("div",{className:"logo"})})}},97591:(e,t,n)=>{n.d(t,{Z:()=>a});n(85624);var r=n(71577),o=n(61401),i=n(85893);const a=function(e){var t=e.visible,n=e.onCancel,a=e.handleDone;return(0,i.jsxs)(o.Z,{visible:t,onCancel:n,className:"apple-workspace-tip",width:500,children:[(0,i.jsx)("div",{className:"title",children:"Payment successful"}),(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)("p",{children:"You have successfully created a Workspace Premium subscription!"}),(0,i.jsxs)("p",{children:["Your remaining credit from the previous plan has been credited toward the Workspace Premium. We won't be able to cancel your in-app purchase due to Apple's policy."," "]}),(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Please cancel your in-app purchase on App Store to prevent a dual subscription."})})]}),(0,i.jsxs)("div",{className:"btn-box",children:[(0,i.jsx)(r.Z,{type:"primary",size:"large",onClick:function(){window.open("https://apps.apple.com/account/subscriptions"),null==a||a()},children:"Go to App store"}),(0,i.jsx)("a",{href:"https://support.apple.com/en-gb/HT202039",rel:"noreferrer",target:"_blank",children:"How to cancel a subscription from Apple?"})]})]})}},7991:(e,t,n)=>{n.d(t,{Z:()=>u});n(47386);var r=n(48889),o=n(67294),i=n(4976),a=n(47481),c=n(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=s((0,o.useState)(!1),2),n=t[0],l=t[1];return(0,c.jsx)(r.Z,{title:"Confirm",visible:e.visible,onOk:function(){l(!0),(0,i.oH9)("paypal").then((function(t){l(!1),e.handleCancelPlanSuccess()}),(function(e){l(!1),message.error(e.toString())}))},okText:"OK, unsbscribe",okType:"danger",confirmLoading:n,cancelText:"Cancel",onCancel:e.handleCancel,className:"cancel-plan-modal",closeIcon:(0,c.jsx)(a.Tw,{style:{fontSize:"12px"}}),children:(0,c.jsx)("p",{children:"You've paid our personal plan through Paypal. If you want to choose this plan, you need to cancel your current plan and pay through credit card."})})}},27972:(e,t,n)=>{n.d(t,{Z:()=>u});n(91324);var r=n(45777),o=(n(85624),n(71577)),i=n(67294),a=n(47481),c=n(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t=e.onClick,n=s((0,i.useState)(!1),2),l=n[0],u=n[1];return(0,c.jsx)(r.Z,{title:"Copied!",visible:l,children:(0,c.jsxs)(o.Z,{className:"copy-btn",onClick:function(){u(!0),t(),setTimeout((function(){u(!1)}),1e3)},children:[(0,c.jsx)(a.TI,{}),"Copy"]})})}},64129:(e,t,n)=>{n.d(t,{Z:()=>_});n(85624);var r=n(71577),o=(n(79133),n(32787)),i=(n(50626),n(48086)),a=n(67294),c=n(56262),s=n(71436),l=n(51447),u=n(4976),d=n(71853),f=n(47481),m=n(83417),h=n(67618),p=n(61401),v=n(21862),y=n(27972),g=n(23279),b=n.n(g),w=n(76570),j=n(99096),x=n(85893);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O={loadWorkspaceMember:l.nI,addMemberFromWorkspace:s.ri};const E=(0,c.$j)((function(e){return{members:e.workspace.workspaceAllMembers,isLoading:e.workspace.isLoadingAllMembers,channelMembers:e.channel.members}}),O)((function(e){var t=e.members,n=e.channelMembers,i=e.isLoading,c=e.channel,s=e.addMemberFromWorkspace,l=S((0,a.useState)(""),2),u=l[0],m=l[1],h=b()((function(e){m(e)}),500),p=t.filter((function(e){return function(e){for(var t=0;t<n.length;t++)if(n[t].userID===e)return!1;return!0}(e.userID)})),v=p.filter((function(e){return-1!==e.userInfo.fullName.indexOf(u)||-1!==e.userInfo.mail.indexOf(u)})),y=u.length?v:p;return(0,x.jsx)("div",{className:"invite-workspace-member-list",children:i?(0,x.jsx)(d.Z,{}):(0,x.jsx)(x.Fragment,{children:0===p.length?(0,x.jsxs)("div",{className:"no-member",children:[(0,x.jsx)("div",{children:(0,x.jsx)(f.tL,{})}),(0,x.jsx)("div",{className:"no-member-text",children:"All members are in this channel."})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"search-bar",children:(0,x.jsx)(o.Z,{prefix:(0,x.jsx)(w.Z,{}),placeholder:"Search",className:"search-input",onChange:function(e){h(e.target.value)}})}),(0,x.jsx)("div",{className:"list-container",children:y.map((function(e){return(0,x.jsxs)("div",{className:"invite-member-item",children:[(0,x.jsx)("div",{className:"avatar-area",children:(0,x.jsx)(j.Z,{username:e.userInfo.fullName,size:36})}),(0,x.jsxs)("div",{className:"info",children:[(0,x.jsx)("div",{className:"name",children:e.userInfo.fullName}),(0,x.jsx)("div",{className:"email",children:e.userInfo.mail})]}),(0,x.jsx)("div",{className:"action-area",children:(0,x.jsx)(r.Z,{size:"small",onClick:function(){var t;t=e.userID,s(c.workspaceID,c.id,t+"")},children:"Add"})})]},e.userID)}))})]})})})}));function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t=function(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T={loadWorkspaceMember:l.nI,addMemberFromWorkspace:s.ri},L=(0,c.$j)((function(e){return{members:e.workspace.workspaceAllMembers,isLoading:e.workspace.isLoadingAllMembers,channelMembers:e.channel.members}}),T)((function(e){var t=e.channel,n=e.isLoading,c=e.loadWorkspaceMember,s=P((0,a.useState)(""),2),l=s[0],p=s[1],g=P((0,a.useState)(!1),2),b=g[0],w=g[1],j=P((0,a.useState)(""),2),S=j[0],I=j[1],O=P((0,m.Z)(),5),N=O[0],D=O[1],A=O[2],C=O[3],k=O[4];return(0,a.useEffect)((function(){c(t.workspaceID);var e=t.id,n=t.workspaceID;(0,u.Myt)(n,e).then((function(e){p(window.location.origin+"/workspace/invite/"+e.inviteKey)}))}),[]),(0,x.jsxs)("div",{className:"channel-invite-panel",children:[(0,x.jsx)("div",{className:"title",children:"Add Members"}),(0,x.jsx)("div",{className:"content",children:l&&!n?(0,x.jsxs)("div",{className:"main",children:[(0,x.jsx)("div",{className:"subtitle",children:"Invite by link"}),(0,x.jsxs)("div",{className:"link-invite",children:[(0,x.jsx)(f.Od,{}),(0,x.jsx)("div",{className:"link-text",children:l}),(0,x.jsx)(y.Z,{onClick:function(){(0,h.zp)(l)}})]}),(0,x.jsx)("div",{className:"subtitle",children:"Add from workspace"}),(0,x.jsx)(E,{channel:t}),(0,x.jsxs)("div",{className:"email-invite",children:[(0,x.jsx)(o.Z,{bordered:!1,value:S,onChange:function(e){I(e.target.value)},placeholder:"Not listed above? Invite by email address...",type:"email"}),(0,x.jsx)(r.Z,{loading:b,type:"primary",onClick:function(){var e=t?t.id:"",n=t.workspaceID;(0,u.d5$)(n,e,S).then((function(){w(!1),I(""),i.ZP.success("Invitations have been sent successfully.")})).catch((function(e){void 0!==e.isOwner&&(k(e.isOwner),D(!0))}))},children:"Send invitation"})]})]}):(0,x.jsx)(d.Z,{})}),(0,x.jsx)(v.Z,{visible:N,onCancel:A,isOwner:C,workspaceID:t.workspaceID,channelID:t.id,type:"memberJoin"})]})}));const _=function(e){return(0,x.jsx)(p.Z,{visible:e.visible,onCancel:e.onCancel,width:500,children:(0,x.jsx)(L,A({},e))})}},61401:(e,t,n)=>{n.d(t,{Z:()=>f});n(47386);var r=n(48889),o=n(94184),i=n.n(o),a=n(47481),c=n(85893);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(0,c.jsx)(r.Z,u(u({},e),{},{footer:null,maskClosable:!1,destroyOnClose:!0,className:i()("common-modal",e.className),width:e.width||456,closeIcon:(0,c.jsx)(a.Tw,{style:{fontSize:"12px"}}),children:e.children}))}},80472:(e,t,n)=>{n.d(t,{Z:()=>w});n(85624);var r=n(71577),o=(n(15285),n(71257)),i=(n(79133),n(32787)),a=n(67294),c=n(56262),s=n(96974),l=n(51447),u=n(61401),d=n(85893);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={createChannel:l.mi},b=(0,c.$j)((function(e){return{isCreating:e.workspace.isCreatingChannel}}),g)((function(e){var t=e.workspaceId,n=e.createChannel,c=e.isCreating,l=e.closeModal,u=e.noRedirect,f=v((0,a.useState)(!0),2),m=f[0],h=f[1],p=(0,s.s0)();return(0,d.jsxs)("div",{className:"create-channel-panel",children:[(0,d.jsx)("div",{className:"title",children:"Create a Channel"}),(0,d.jsx)("div",{className:"modal-desc",children:"Channels are best when organized around a project or a topic"}),(0,d.jsxs)(o.Z,{onFinish:function(e){var r=e.channelName,o=e.channelDesc;n(t,r,o).then((function(e){!u&&p("/workspace/"+t+"/"+e.id)})),l()},onValuesChange:function(e,t){t.channelName&&t.channelName.length?m&&h(!1):m||h(!0)},children:[(0,d.jsxs)("div",{className:"content",children:[(0,d.jsx)("div",{className:"label",children:"Name"}),(0,d.jsx)(o.Z.Item,{name:"channelName",children:(0,d.jsx)(i.Z,{size:"large",autoComplete:"off",autoFocus:!0,placeholder:"e.g. Product Research/ New Year Planning"})}),(0,d.jsx)("div",{className:"input-tip",children:"What do your team plan to work on?"}),(0,d.jsxs)("div",{className:"label",children:["Description ",(0,d.jsx)("span",{children:"(optional)"})]}),(0,d.jsx)(o.Z.Item,{name:"channelDesc",children:(0,d.jsx)(i.Z.TextArea,{autoSize:{minRows:4}})}),(0,d.jsx)("div",{className:"input-tip",children:"What’s this channel about?"})]}),(0,d.jsxs)("div",{className:"btn-area",children:[(0,d.jsx)(r.Z,{onClick:l,children:"Cancel"}),(0,d.jsx)(r.Z,{type:"primary",loading:c,htmlType:"submit",disabled:m,children:"Create"})]})]})]})}));const w=function(e){return(0,d.jsx)(u.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,d.jsx)(b,h(h({},e),{},{closeModal:e.onCancel}))})}},8872:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(61401),o=(n(85624),n(71577)),i=(n(79133),n(32787)),a=(n(50626),n(48086)),c=n(67294),s=n(56262),l=n(65880),u=n(63173),d=n(85893);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={createFolder:l.L6};const p=(0,s.$j)(null,h)((function(e){var t=f((0,c.useState)(""),2),n=t[0],r=t[1],s=(0,c.useRef)(null);(0,c.useEffect)((function(){var e=setTimeout((function(){s.current.focus()}),100);return function(){return clearTimeout(e)}}),[]);var l=function(){if(n.length>60)a.ZP.error("The folder name is too long!");else{var t=e.selectedFolder?e.selectedFolder.folderID:e.folderID;e.createFolder(n.trim(),t,e.afterCreate),e.closeModal()}};return(0,d.jsxs)("div",{className:"create-folder-panel",children:[(0,d.jsx)("div",{className:"title",children:"New folder"}),(0,d.jsxs)("div",{className:"content",children:[e.selectedFolder?(0,d.jsxs)("div",{className:"sub-folder-tip",children:["Create a new folder in"," ",(0,d.jsx)(u.Z,{text:e.selectedFolder.title,width:200})]}):null,(0,d.jsx)(i.Z,{size:"large",placeholder:"Enter a folder name",onChange:function(e){r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&l()},ref:s})]}),(0,d.jsxs)("div",{className:"btn-area",children:[(0,d.jsx)(o.Z,{onClick:e.closeModal,children:"Cancel"}),(0,d.jsx)(o.Z,{type:"primary",disabled:!n.trim(),onClick:l,children:"Create"})]})]})}));function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=function(e){return(0,d.jsx)(r.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,d.jsx)(p,g(g({},e),{},{closeModal:e.onCancel}))})}},58010:(e,t,n)=>{n.d(t,{r:()=>N});n(52927);var r=n(9676),o=(n(91324),n(45777)),i=(n(79133),n(32787)),a=(n(15285),n(71257)),c=(n(23753),n(18480)),s=(n(85624),n(71577)),l=(n(50626),n(48086)),u=(n(48315),n(28682),n(28763),n(34041)),d=n(38819),f=n(1870),m=n(31795),h=n.n(m),p=n(67294),v=n(56262),y=n(4976),g=n(61401),b=n(12947),w=n(85893);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}u.Z.Option;function N(e){return(0,w.jsx)(g.Z,{visible:e.visible,className:"feedModel",centered:!0,onCancel:e.onCancel,children:(0,w.jsx)(b.E,O(O({},e),{},{closeModal:e.onCancel,isModel:!0}))})}(0,v.$j)((function(e){return{userinfo:e.user.info}}))((function(e){var t=x((0,p.useState)(!1),2),n=t[0],u=t[1],m=x((0,p.useState)(!1),2),v=m[0],g=m[1],b=x((0,p.useState)(""),2),j=b[0],S=(b[1],[{value:"Website",children:[{value:"Video or Video Editing"},{value:"Image or Image Editing"},{value:"Workspace"},{value:"Folder"},{value:"Search"},{value:"Other"}]},{value:"Browser Extension",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Desktop App for macOS",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Desktop App for Windows",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Mobile App for iOS",children:[{value:"Screenshot"},{value:"Recording"},{value:"Other"}]},{value:"Sales including Workspace Sales"},{value:"Cooperation/Partnership"},{value:"Other"}]);return(0,w.jsxs)("div",{className:"feedback-panel",children:[(0,w.jsx)("div",{className:"title",children:"Send Feedback"}),(0,w.jsxs)("div",{className:"label-tip",children:["Please visit our"," ",(0,w.jsx)("a",{href:"https://support.awesomescreenshot.com/hc/en-us",target:"_blank",children:"Help Center"})," ","to find answers to your questions before submitting the request form."]}),(0,w.jsx)("div",{className:"content",children:v?(0,w.jsxs)("div",{className:"sent-message",children:[(0,w.jsx)("div",{children:(0,w.jsx)(d.Z,{})}),(0,w.jsx)("div",{className:"title",children:"Thank you"}),(0,w.jsx)("div",{className:"content",children:"The form was submitted successfully. We will contact you shortly."}),(0,w.jsx)(s.Z,{type:"primary",onClick:function(){g(!1)},children:"Submit another issue"})]}):(0,w.jsxs)(a.Z,{onFinish:function(t){var n={};n.Browser||(n.Browser=h().name+" "+h().version),n.OS||(n.OS=h().os.toString()),n["Screen Size"]||(n["Screen Size"]=window.screen.width+"x"+window.screen.height),t.screenshotVideoUrl&&(n["Screenshot/video URL"]=t.screenshotVideoUrl);var r=!0===t.isSendInfo||void 0===t.isSendInfo?function(e,t){var n="";for(var r in n+=e+"<br/><br/><br/><hr>",t)n+="<b>"+r+"</b>: "+t[r]+"<br/>";return n}(t.content,n):t.content,o={email:t.email||e.userinfo.mail,name:e.userinfo.fullName,subject:"[".concat(t.type.join("/"),"]"),content:r};u(!0),(0,y.hz1)(o).then((function(){u(!1),g(!0)})).catch((function(){u(!1),l.ZP.error("Submission failed. Please retry or copy summary and details to send an email to care@awesomescreenshot.com.")}))},children:[(0,w.jsx)("div",{className:"label required",children:"Feedback Category"}),(0,w.jsx)(a.Z.Item,{name:"type",initialValue:j,rules:[{required:!0,message:"Please select Category"}],children:(0,w.jsx)(c.Z,{dropdownClassName:"platform-picker",fieldNames:{label:"value",value:"value",children:"children"},options:S,onChange:function(e){},placeholder:"Please select"})}),(0,w.jsx)("div",{className:"label required",children:"Feedback Content"}),(0,w.jsx)(a.Z.Item,{name:"content",rules:[{required:!0,message:"Please input some details"}],children:(0,w.jsx)(i.Z.TextArea,{autoSize:{minRows:5},placeholder:"Let us know what happened in detail."})}),(0,w.jsx)("div",{className:"label",children:"Web URL (optional)"}),(0,w.jsx)("div",{className:"label-tip",children:"Share the URL of the problematic page."}),(0,w.jsx)(a.Z.Item,{name:"webUrl",children:(0,w.jsx)(i.Z,{})}),(0,w.jsx)("div",{className:"label",children:"Screenshot/Video URL (optional)"}),(0,w.jsx)("div",{className:"label-tip",children:"Record a video to show us what's happening or send screenshot(s)."}),(0,w.jsx)(a.Z.Item,{name:"screenshotVideoUrl",children:(0,w.jsx)(i.Z,{})}),e.userinfo&&/privaterelay.appleid.com/.test(e.userinfo.mail)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"label required",children:"Your Email Address"}),(0,w.jsx)("div",{className:"label-tip",children:"Enter an email address to receive updates on the issue."}),(0,w.jsx)(a.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please input a valid email"}],children:(0,w.jsx)(i.Z,{})})]}),(0,w.jsx)(a.Z.Item,{name:"isSendInfo",valuePropName:"checked",initialValue:!0,children:(0,w.jsxs)(r.Z,{className:"check-tip",children:["Include your OS and browser info to help developers debug errors"," ",(0,w.jsx)(o.Z,{title:"Specifically, version number of your OS, browser, extension, and screen size will be included. ",children:(0,w.jsx)(f.Z,{className:"mark"})})]})}),(0,w.jsxs)("div",{className:"btn-area",children:[(0,w.jsx)(s.Z,{onClick:e.closeModal,children:"Cancel"}),(0,w.jsx)(s.Z,{type:"primary",htmlType:"submit",loading:n,size:"large",children:"Submit"})]})]})})]})}))},2294:(e,t,n)=>{n.d(t,{Z:()=>ue});n(85624);var r=n(71577),o=(n(28763),n(34041)),i=n(67294),a=n(56262),c=n(96974),s=n(51447),l=n(32250),u=n(71853),d=n(61401),f=(n(52927),n(9676)),m=(n(41226),n(14277)),h=(n(35797),n(82363)),p=n(50308),v=n.n(p),y=n(71436),g=n(92807),b=n(47481),w=n(83417),j=n(20722),x=n(67618),S=n(80472),I=n(21862),O=n(4976),E=n(3432),N=n(85893);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=e.channelID,r=e.workspaceID,o=(0,i.useRef)(null),a=D((0,i.useState)([]),2),c=a[0],s=a[1];return(0,i.useImperativeHandle)(t,(function(){return{getContent:o.current.getContent}})),(0,i.useEffect)((function(){r&&n&&(0,O.FbR)(r,n).then((function(e){e.members&&s(e.members.map((function(e){return{id:e.userInfo.uid,value:e.userInfo.fullName,avatar:e.userInfo.avatarURL}})))}))}),[r,n]),(0,N.jsx)("div",{className:"move-to-comment-box",children:(0,N.jsx)(E.Z,{ref:o,defaultMentionUsers:[],mentionUsers:c})})}const P=(0,i.forwardRef)(C);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n,r){var o;return(null==e||null===(o=e[t])||void 0===o?void 0:o.children.map((function(t){return{key:t.id,children:Z(e,t.id,n,r+1),title:t.name,disabled:n,data:{idParams:t,levels:r,title:t.name,type:"channel-folder"},icon:function(e){return e.expanded?(0,N.jsx)(b.Hf,{}):(0,N.jsx)(b.q7,{})}}})))||[]}var F={moveToChannel:y.sK,moveIntoChannelFolder:y.wN,createComment:g.Yr,loadChannelAllFolders:y.W3};const U=(0,a.$j)((function(e){return{workspaceHash:e.workspace.myWorkspaceHash,channelHash:e.workspace.channelHash,channelFoldersChildrenMap:e.channel.channelFoldersChildrenMap,currentUser:e.user.info}}),F)((function(e){var t=e.workspaceID,n=e.workspaceHash,o=e.moveToChannel,a=e.moveIntoChannelFolder,c=e.createComment,s=e.loadChannelAllFolders,l=e.channelFoldersChildrenMap,u=e.items,d=e.currentUser,p=e.closeModal,y=e.channelHash,g=R((0,i.useState)(!1),2),O=g[0],E=g[1],D=R((0,i.useState)(!1),2),A=D[0],C=D[1],k=R((0,w.Z)(),5),T=k[0],_=k[1],M=k[2],F=k[3],U=k[4];(0,i.useEffect)((function(){E(!1)}),[t]);var H=!!u[0].channel,G=u[0].channel,V=!H||!u.some((function(e){return String(e.userID)!==String(d.uid)}));(0,i.useEffect)((function(){}),[V,H]);var B=(0,i.useRef)(null),W=n[t],z=W.channels.filter((function(e){return y[e].isMember})),K=(0,i.useMemo)((function(){var e;return(null===(e=n[t])||void 0===e?void 0:e.channels.filter((function(e){var t;return null===(t=y[e])||void 0===t?void 0:t.isMember})))||[]}),[n,y,t]);(0,i.useEffect)((function(){t&&K.forEach((function(e){return s(t,e,{skipIfLoaded:!0})}))}),[K,t]);var Y=(0,i.useMemo)((function(){return K.map((function(e){var t,n,r=y[e],o=H&&!V&&r.id!==(null==G?void 0:G.id);if(!o)return{key:e,title:r.name,children:Z(null===(t=l[r.workspaceID])||void 0===t||null===(n=t[e])||void 0===n?void 0:n.folders,"0",!1,1),icon:(0,N.jsx)(b.MC,{}),disabled:o,data:{idParams:{workspaceID:r.workspaceID,channelID:e},levels:0,type:"channel-root",title:r.name}}})).filter(Boolean)}),[K,l,t]),Q=R((0,i.useState)([]),2),q=Q[0],J=Q[1],X=R((0,i.useState)(null),2),$=X[0],ee=X[1];return(0,N.jsxs)("div",{className:"folder-select",children:[(0,N.jsxs)("div",{className:"move-select",children:[(0,N.jsx)("div",{className:"select-container",children:z.length>0?(0,N.jsx)(h.Z.DirectoryTree,{expandAction:"doubleClick",treeData:Y,height:274,expandedKeys:q,onExpand:function(e,t){return!t.node.disabled&&J(e)},onSelect:function(e,t){var n=t.node;ee(n.data)}}):(0,N.jsx)(m.Z,{image:m.Z.PRESENTED_IMAGE_SIMPLE,description:"No channels"})}),(0,N.jsx)("div",{className:"folder-btn-area",children:(0,N.jsxs)("a",{onClick:function(){return C(!0)},children:[" ",(0,N.jsx)(b.dt,{})," Create a channel"]})})]}),$&&(0,N.jsxs)("div",{className:"notify-others",children:[(0,N.jsx)(f.Z,{checked:O,onChange:function(e){return E(e.target.checked)},children:"Notify others"}),O&&(0,N.jsx)("div",{className:"notify-box",children:(0,N.jsx)(P,{ref:B,workspaceID:t,channelID:$.idParams.channelID})})]}),(0,N.jsxs)("div",{className:"btn-area",children:[(0,N.jsx)(r.Z,{onClick:p,children:"Cancel"}),(0,N.jsxs)(r.Z,{type:"primary",className:"",disabled:function(){if(null===$)return!0;var e=$.idParams,t=e.workspaceID+e.channelID+(e.folderID||"0");return u.some((function(e){if(e.channel){var n,r=e.channel;return r.workspaceID+r.id+((null===(n=e.wcFolder)||void 0===n?void 0:n.folderID)||"0")===t}return!1}))}(),onClick:function(){var e=$.idParams,t=e.workspaceID,n=e.channelID,r=e.folderID;if(u.some((function(e){return e.channel}))?(0,j.WZ)(a({workspaceID:t,channelID:n,folderID:r},u.map((function(e){return L(L({},e),{},{itemID:+(e.itemID||e.id)})})),(function(e){U(e),_(!0)})),{okMsg:"Move successfully.",errMsg:function(e){return"string"==typeof e?e:"Move failed."}}).then(p).catch(v()):o({workspaceID:t,channelID:n,folderID:r},u,(function(e){U(e),_(!0)}),(function(){return p()})),O&&B.current.getContent()){var i=(0,x.Er)(B.current.getContent());c(u[0].itemType,u[0].id,i,"0")}},children:[(0,N.jsx)("span",{className:"move-to-label",style:$?{marginRight:"8px"}:void 0,children:"Move to"}),$?(0,N.jsxs)(N.Fragment,{children:["channel-root"===$.type?(0,N.jsx)(b.MC,{}):(0,N.jsx)(b.q7,{}),(0,N.jsx)("span",{className:"btn-folder-name",children:$.title})]}):""]})]}),(0,N.jsx)(I.Z,{visible:T,onCancel:M,isOwner:F,workspaceID:W.id,type:"itemAdd",channelID:(null==$?void 0:$.idParams.channelID)||""}),(0,N.jsx)(S.Z,{workspaceId:W.id,visible:A,onCancel:function(){return C(!1)},noRedirect:!0})]})}));var H=n(65880),G=n(32195),V=n(8872);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Y(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=h.Z.DirectoryTree;var $={loadFolders:H.PW,moveFolder:H.J1};const ee=(0,a.$j)((function(e){return{isLoading:e.folder.isLoading,treeData:(0,G.D)(e),folders:e.folder.folders}}),$)((function(e){var t=e.items,n=e.closeModal,o=e.treeData,a=e.isLoading,c=e.loadFolders,s=e.moveFolder,l=e.folders,d=Q((0,i.useState)(null),2),f=d[0],m=d[1],h=Q((0,i.useState)(!1),2),p=h[0],v=h[1],y=Q((0,i.useState)([]),2),g=y[0],w=y[1],j=Q((0,i.useState)([]),2),S=j[0],I=j[1],O=(0,i.useRef)();(0,i.useEffect)((function(){o[1]||c()}),[]),(0,i.useEffect)((function(){if(O.current&&T(O.current,"0",o)){var e=T(O.current,"0",o);I((function(t){return[].concat(Y(t),[e.parentKey])})),w([e.key]),m({title:e.title,folderID:O.current}),O.current=""}}),[o]);var E=function(e,t){var n={r:!0};return D(e,t,n),n.r},D=function e(t,n,r){t===n?r.r=!1:l[n]&&"0"!==l[n].parentID&&e(t,l[n].parentID,r)},A=o.slice();A[0]&&(A[0]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o[0]),A[0].icon=(0,N.jsx)(b.M,{}));var C="",P="",k=function e(t,n,r){var o,i=K(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.folderID===t?(C=a.key,P=n):a.children&&e(t,a.key,a.children)}}catch(e){i.e(e)}finally{i.f()}},T=function(e,t,n){var r=null;return function e(t,n,o){var i,a=K(o);try{for(a.s();!(i=a.n()).done;){var c=i.value;c.folderID===t?r={key:c.key,parentKey:n,title:c.title}:c.children&&e(t,c.key,c.children)}}catch(e){a.e(e)}finally{a.f()}}(e,t,n),r},L=function(){if(1===t.length){var e="folder"===t[0].itemType?t[0].parentID:t[0].folderID;return k(e,"0",A),"0"===P?{key:C,parentKey:""}:{key:C,parentKey:P}}return{key:"",parentKey:""}}();return(0,N.jsxs)("div",{className:"folder-select",children:[a?(0,N.jsx)(u.Z,{}):(0,N.jsxs)("div",{className:"move-select",children:[(0,N.jsx)("div",{className:"select-container",children:(0,N.jsx)(X,{expandAction:"doubleClick",autoExpandParent:!0,treeData:A,height:274,expandedKeys:S,onExpand:function(e,t){t.expanded;I(e)},selectedKeys:g,onSelect:function(e,t){w(e),m({title:t.node.title,folderID:t.node.folderID})},defaultSelectedKeys:[L.key],defaultExpandedKeys:[L.parentKey]})}),(0,N.jsx)("div",{className:"folder-btn-area",children:(0,N.jsxs)("a",{onClick:function(){v(!0)},children:[" ",(0,N.jsx)(b.dt,{})," Create a new folder"," ",f?(0,N.jsxs)(N.Fragment,{children:["in ",(0,N.jsx)("b",{children:f.title})]}):null]})})]}),(0,N.jsxs)("div",{className:"btn-area",children:[(0,N.jsx)(r.Z,{onClick:n,children:"Cancel"}),(0,N.jsxs)(r.Z,{type:"primary",className:"",disabled:!function(){var e=!0;if(f){var n,r=K(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e="folder"===o.itemType?e&&E(o.id,f.folderID):e&&o.folderID!==f.folderID}}catch(e){r.e(e)}finally{r.f()}return e}e=!1}(),onClick:function(){null!==f&&t.length&&(s(f.folderID,t),n(),(0,x.I1)("move to folder",{event_category:"folder"}))},children:[(0,N.jsx)("span",{className:"move-to-label",style:f?{marginRight:"8px"}:void 0,children:"Move to"}),f?(0,N.jsxs)(N.Fragment,{children:["My Items"===f.title?(0,N.jsx)(b.M,{}):(0,N.jsx)(b.RO,{}),(0,N.jsx)("span",{className:"btn-folder-name",children:f.title})," "]}):""]})]}),(0,N.jsx)(V.Z,{visible:p,onCancel:function(){v(!1)},selectedFolder:f,afterCreate:function(e){O.current=e},folderID:"0"})]})}));function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=o.Z.Option,se={loadWorkspaces:s.Pf};var le=(0,a.$j)((function(e){return{workspaceIDList:e.workspace.myWorkspaceIDList,workspaceHash:e.workspace.myWorkspaceHash,isLoading:e.workspace.isLoading,userInfo:e.user.info}}),se)((function(e){var t=e.items,n=e.closeModal,a=e.workspaceIDList,s=e.workspaceHash,d=e.isLoading,f=e.userInfo,m=e.loadWorkspaces,h=e.des,p=ie((0,i.useState)((function(){return"channel"===h?a[0]:"personal"})),2),v=p[0],y=p[1],g=ie((0,i.useState)((function(){return"channel"===h?s[a[0]]:null})),2),b=g[0],w=g[1],j=!!t[0].channel,x=t[0].channel,S=!t.some((function(e){return String(e.userID)!==String(f.uid)})),I=(0,l.D)(d),O=(0,c.s0)();function E(){return t.some((function(e){return"folder"===e.itemType}))}return(0,i.useEffect)((function(){m()}),[]),(0,i.useEffect)((function(){x&&w(s[x.workspaceID])}),[x,s]),(0,i.useEffect)((function(){I&&!d&&("channel"===h&&y(a[0]),w(s[a[0]]))}),[d,a,s]),(0,N.jsxs)("div",{className:"move-to-panel",children:[(0,N.jsx)("div",{className:"title",children:"Move to"}),(0,N.jsx)("div",{className:"content",children:d?(0,N.jsx)(u.Z,{}):(0,N.jsx)(N.Fragment,{children:b&&a.length>0||"channel"!==h?(0,N.jsxs)(N.Fragment,{children:[!E()&&"folder"!==h&&!(j&&!S)&&(0,N.jsxs)("div",{className:"destination-select",children:[(0,N.jsx)("div",{className:"select-label",children:"both"===h?"Personal & Workspaces":"Workspaces"}),(0,N.jsxs)(o.Z,{style:{width:"100%",textAlign:"left"},size:"large",value:v,onChange:function(e){y(e),"personal"!==e&&w(s[e])},children:["channel"!==h&&(0,N.jsx)(ce,{value:"personal",children:"Personal"}),!E()&&(0,N.jsx)(N.Fragment,{children:a.map((function(e){return(0,N.jsx)(ce,{value:e,children:s[e].name},e)}))})]})]}),(0,N.jsxs)("div",{className:"box",children:[(0,N.jsx)("div",{className:"select-label",children:"personal"===v?"Folders":"Channels"}),"personal"===v?(0,N.jsx)(ee,{items:t,closeModal:n}):(0,N.jsx)(U,{workspaceID:b?b.id:null,closeModal:n,items:t})]})]}):(0,N.jsxs)("div",{className:"empty-workspace",children:[(0,N.jsx)("p",{children:"You don't have a workspace yet."}),(0,N.jsx)(r.Z,{type:"primary",onClick:function(){return O("/workspace/create")},children:"Go to create a workspace"})]})})})]})}));const ue=function(e){return(0,N.jsx)(d.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,N.jsx)(le,re(re({},e),{},{closeModal:e.onCancel}))})}},6386:(e,t,n)=>{n.d(t,{Z:()=>l});n(47386);var r=n(48889),o=(n(85624),n(71577)),i=n(38819),a=n(73218),c=n(47481),s=n(85893);function l(e){var t="success"===e.type;return(0,s.jsxs)(r.Z,{visible:e.visible,destroyOnClose:!0,onCancel:e.handleCancel,className:"payment-modal",footer:null,closable:!1,centered:!0,closeIcon:(0,s.jsx)(c.Tw,{style:{fontSize:"12px"}}),children:[t?(0,s.jsx)(i.Z,{className:t?"success":""}):(0,s.jsx)(a.Z,{}),(0,s.jsx)("div",{className:"content",children:t?"Payment Successful!":"Payment Failed."}),(0,s.jsx)(o.Z,{className:"btn",size:"large",block:!0,type:"primary",onClick:e.handleCancel,children:t?"Got it!":"Retry"})]})}},25754:(e,t,n)=>{n.d(t,{Z:()=>C});n(47386);var r=n(48889),o=n(47481),i=(n(32399),n(11382)),a=(n(85624),n(71577)),c=(n(90),n(16114)),s=(n(48315),n(28682)),l=(n(16154),n(47933)),u=n(7085),d=n(57254),f=n(27484),m=n.n(f),h=n(67294),p=n(67618),v=(n(57906),n(76772)),y=n(86664),g=n(85893);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const j=function(e){var t=e.amount,n=e.handleApplePay,r=e.handleApplePayFallback,o=e.planText,i=(0,y.useStripe)(),a=b((0,h.useState)(null),2),c=a[0],s=a[1],l=b((0,h.useState)(null),2),u=l[0];l[1];return(0,h.useEffect)((function(){if(i){var e=i.paymentRequest({country:"US",currency:"usd",total:{label:o,amount:100*t},requestPayerName:!0,requestPayerEmail:!0});e.canMakePayment().then((function(t){s(e)})),e.on("paymentmethod",(function(e){var t=e.paymentMethod;t&&n(t),e.complete("success")}))}}),[i]),(0,g.jsxs)("div",{className:"apple-checkout-form",children:[(!u||!u.applePay)&&(0,g.jsx)(v.Z,{message:"Add cards to Apple Pay to make purchases on this Mac.",showIcon:!0,description:(0,g.jsxs)(g.Fragment,{children:["You can add cards to Apple Pay in System Preferences.",(0,g.jsx)("br",{})," Or you can try"," ",(0,g.jsx)("a",{onClick:function(){r()},children:"other payment methods"}),"."]}),type:"warning"}),(0,g.jsx)("div",{className:"apple-pay-btn",onClick:function(){c.show()}})]})};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=l.ZP.Group;function O(e){var t=e.upgradeCostInfo,n=x((0,h.useState)("Stripe"),2),r=n[0],o=n[1],f=x((0,h.useState)(!1),2),v=f[0],y=f[1],b=e.isForceYear?"year":e.billingPeriod;(0,h.useEffect)((function(){t&&"Both"!==t.PaymentMethod&&o(t.PaymentMethod)}),[t]);var w=function(t){e.handleBillingPeriodChange(t)},S=function(e){o(e.target.value)},O=(0,p.IT)();return(0,g.jsxs)("div",{className:"plan-overview-panel",children:[e.isShowOverviewLoading&&(0,g.jsx)("div",{className:"msg-wrapper",children:(0,g.jsxs)("div",{className:"msg",children:[(0,g.jsx)("div",{className:"icon",children:(0,g.jsx)(u.Z,{})}),(0,g.jsx)("div",{className:"info",children:"Processing your payment, please wait."})]})}),(0,g.jsx)("div",{className:"title",children:"Billing Overview"}),"basic"===e.currentChoose&&O&&(0,g.jsxs)("div",{className:"tip",children:["Reminder: Basic plan cannot unlock the limit on video access. Please upgrade to ",(0,g.jsx)("b",{children:"Professional"})," to gain unlimited access."]}),t?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"section",children:(0,g.jsxs)("div",{className:"section-wrapper bill-period",children:[(0,g.jsxs)("div",{className:"period-switch",children:[(0,g.jsx)(c.Z,{overlay:(0,g.jsxs)(s.Z,{children:[(0,g.jsxs)(s.Z.Item,{onClick:function(){w("month")},disabled:e.isForceYear,children:["Monthly - $",t.SubscriptionPriceMonthly," / month"]}),(0,g.jsxs)(s.Z.Item,{onClick:function(){w("year")},children:["Yearly - $",t.SubscriptionPriceYearly," / year"," ",(0,g.jsxs)("span",{className:"menu-tip",children:["Equals to"," ",(0,g.jsxs)("b",{children:["$",(0,p.MW)(t.SubscriptionPriceYearly),"/month"]}),", Saving more than 25%"]})]})]}),trigger:["click"],children:(0,g.jsxs)("div",{className:"change-period-btn",children:["Billed ","month"===b?"Monthly":"Yearly",(0,g.jsx)(d.Z,{})]})}),(0,g.jsx)("div",{className:"period-tip",children:"month"===b?(0,g.jsxs)(g.Fragment,{children:["Save more than 25% with"," ",(0,g.jsx)("span",{className:"tip-link",onClick:function(){w("year")},children:"yearly billing"})]}):(0,g.jsxs)(g.Fragment,{children:["You’re saving more than 25%",(0,g.jsx)("br",{})," with yearly billing cycle."]})})]}),(0,g.jsxs)("div",{className:"price",children:[(0,g.jsxs)("span",{className:"price-num",children:["$",t.SubscriptionPrice]})," ","/ ","year"===b?"year":"month","year"===b&&(0,g.jsxs)("div",{className:"price-tip",children:["Equals to"," ",(0,g.jsxs)("b",{children:["$",(0,p.MW)(t.SubscriptionPrice)]})," / month"]})]})]})}),(0,g.jsx)("div",{className:"section",children:(0,g.jsxs)("div",{className:"section-wrapper",children:[(0,g.jsx)("div",{className:"section-title",children:"Chosen Plan"}),(0,g.jsx)("div",{className:"section-content",children:e.planText})]})}),(0,g.jsxs)("div",{className:"section",children:[(0,g.jsxs)("div",{className:"section-wrapper",children:[(0,g.jsxs)("div",{className:"section-title",children:["Total Due Today",(0!==t.CreditApplied||0!==t.CreditRemain)&&(0,g.jsx)(g.Fragment,{children:" *"})]}),(0,g.jsxs)("div",{className:"section-content",children:["$",t.UpgradeCost]})]}),(0,g.jsx)("div",{className:"section-tip",children:(0!==t.CreditApplied||0!==t.CreditRemain)&&(0,g.jsxs)(g.Fragment,{children:["* This is the prorated amount you need to pay today for your plan change. Your subscription will renew at $",t.SubscriptionPrice," / ",b," on"," ",m()(t.NextPaymentDue).format("ll")]})})]}),(!v||""!==t.CurrentPlanName)&&(0,g.jsx)("div",{className:"section",children:(0,g.jsxs)("div",{className:"section-wrapper",children:[(0,g.jsx)("div",{className:"section-title",children:"Payment Method"}),(0,g.jsx)("div",{className:"section-content",children:"Both"!==t.PaymentMethod?(0,g.jsx)("div",{children:t.PaymentMethod}):(0,g.jsx)("div",{className:"period-select",children:(0,g.jsxs)(I,{defaultValue:r,buttonStyle:"solid",onChange:S,children:[(0,g.jsx)(l.ZP,{value:"Stripe",className:"select-item",children:"Card"}),(0,g.jsx)(l.ZP,{value:"PayPal",className:"select-item",children:"PayPal"})]})})})]})}),(0,g.jsx)("div",{className:"btn-area",children:v&&""===t.CurrentPlanName?(0,g.jsx)(j,{amount:t.UpgradeCost,handleApplePay:e.handleApplePay,handleApplePayFallback:function(){y(!1)},planText:e.planText}):(0,g.jsx)(a.Z,{block:!0,type:"primary",loading:e.isUpgradeBtnLoading&&!e.isShowOverviewLoading,size:"large",onClick:function(){e.handlePay(r),(0,p.I1)("click pay button",{event_category:"pricing"})},children:"Upgrade"})})]}):(0,g.jsx)("div",{className:"loading",children:(0,g.jsx)(i.Z,{indicator:(0,g.jsx)(u.Z,{style:{fontSize:24},spin:!0})})})]})}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return(0,g.jsx)(r.Z,{visible:e.visible,destroyOnClose:!0,onCancel:e.handleCancel,className:"plan-overview-modal",footer:null,centered:!0,closeIcon:(0,g.jsx)(o.Tw,{style:{fontSize:"12px"}}),children:(0,g.jsx)(O,D({},e))})}},62579:(e,t,n)=>{n.d(t,{Z:()=>Z});n(47386);var r=n(48889),o=(n(50626),n(48086)),i=n(67294),a=n(4976),c=n(67618),s=(n(85624),n(71577)),l=(n(15285),n(71257)),u=(n(79133),n(32787)),d=n(89366),f=n(2603),m=n(85893);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}const j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(i,e);var t,n,r,o=y(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleSubmit=t.handleSubmit.bind(b(t)),t.fp=t.fp.bind(b(t)),t}return t=i,(n=[{key:"handleSubmit",value:function(e){this.props.onSignInSubmit(e)}},{key:"fp",value:function(){(0,c.Ah)("https://www.awesomescreenshot.com/user/forgetPassword")}},{key:"render",value:function(){return(0,m.jsxs)(l.Z,{onFinish:this.handleSubmit,children:[(0,m.jsx)(l.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:(0,m.jsx)(u.Z,{size:"large",prefix:(0,m.jsx)(d.Z,{}),type:"email",placeholder:"Email"})}),(0,m.jsx)(l.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,m.jsx)(u.Z,{size:"large",prefix:(0,m.jsx)(f.Z,{}),type:"password",placeholder:"Password"})}),(0,m.jsx)("div",{className:"fp-box",children:(0,m.jsx)("a",{className:"fp",onClick:this.fp,children:"Forget Password"})}),(0,m.jsx)(l.Z.Item,{children:(0,m.jsx)(s.Z,{size:"large",type:"primary",loading:this.props.signInLoading,block:!0,htmlType:"submit",children:"Sign In"})})]})}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.Component);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function N(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}const T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(s,e);var t,n,r,i=A(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isShowSignIn:!1,signInLoading:!1},t.enterSignIn=t.enterSignIn.bind(P(t)),t.handleSignInSubmit=t.handleSignInSubmit.bind(P(t)),t.handleConnectGoogle=t.handleConnectGoogle.bind(P(t)),t.goToSignUp=t.goToSignUp.bind(P(t)),t}return t=s,(n=[{key:"enterSignIn",value:function(e){e.preventDefault(),this.setState({isShowSignIn:!0})}},{key:"goToSignUp",value:function(){(0,c.Ah)("https://www.awesomescreenshot.com/user/login"),this.props.onCancel()}},{key:"handleSignInSubmit",value:function(e){var t=this;this.setState({signInLoading:!0}),(0,a.zB2)(e).then((function(e){var n=e.data;0==n.ErrorCode?(n.S,t.setState({signInLoading:!1}),t.props.onSignInFinish()):(o.ZP.error(n.ErrorMsg),t.setState({signInLoading:!1}))})).catch((function(e){t.setState({signInLoading:!1}),o.ZP.error("Network error. Please try later.")}))}},{key:"handleConnectGoogle",value:function(){if("web"===this.props.type){var e=a.FHV+"/openid/auth2?redirect_url="+encodeURIComponent(document.URL);(0,c.Ah)(e)}else(0,c.Ah)(a.FHV+"/openid/auth2?redirect_url="+encodeURIComponent(chrome.runtime.getURL("aws")))}},{key:"render",value:function(){var e=this.props.type,t=this.state.isShowSignIn;return(0,m.jsxs)("div",{className:"sign-in-panel",children:[(0,m.jsxs)("div",{className:"title",children:[(0,m.jsx)("div",{className:"logo",children:(0,m.jsx)("b",{})}),"Awesome Screenshot"]}),(0,m.jsx)("p",{className:"tip",children:function(e){return"aws"===e?"":"drive"===e?"You need to sign in to an Awesome Screenshot account in order to connect with cloud services.":"des"===e?"You need to sign in to an Awesome Screenshot account in order to connect with other services.":""}(e)}),(0,m.jsx)("div",{className:"box",children:t?(0,m.jsx)("div",{className:"signInForm",children:(0,m.jsx)(j,I(I({},this.state),{},{onSignInSubmit:this.handleSignInSubmit}))}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"google-signin-btn",onClick:this.handleConnectGoogle,children:[(0,m.jsx)("div",{className:"icon",children:(0,m.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 48 48",className:"abcRioButtonSvg",children:(0,m.jsxs)("g",{children:[(0,m.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),(0,m.jsx)("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),(0,m.jsx)("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),(0,m.jsx)("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),(0,m.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]})})}),(0,m.jsx)("span",{children:"Sign in with Google"})]}),(0,m.jsx)("div",{className:"sign-in-tip",children:(0,m.jsxs)("a",{onClick:this.enterSignIn,children:[(0,m.jsx)("b",{children:"Sign in"})," with email and password"]})}),(0,m.jsx)("div",{className:"sign-up-tip",children:(0,m.jsxs)("a",{onClick:this.goToSignUp,children:[(0,m.jsx)("b",{children:"Create account"})," with other email"]})})]})})]})}}])&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Component);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=function(e){return(0,m.jsx)(r.Z,R(R({},e),{},{footer:null,maskClosable:!1,wrapClassName:"sign-in",destroyOnClose:!0,centered:!0,children:(0,m.jsx)(T,R({},e))}))}},11011:(e,t,n)=>{n.d(t,{Z:()=>s});n(47386);var r=n(48889),o=(n(85624),n(71577)),i=n(96974),a=n(47481),c=n(85893);const s=function(e){var t=e.visible,n=e.onCancel,s=(0,i.s0)();return(0,c.jsx)(r.Z,{visible:t,onCancel:n,footer:null,maskClosable:!1,className:"transfer-team-modal",destroyOnClose:!0,width:786,closeIcon:(0,c.jsx)(a.Tw,{style:{fontSize:"12px"}}),children:(0,c.jsxs)("div",{className:"transfer-team-panel",children:[(0,c.jsx)("div",{className:"title",children:"Transfer to Workspace"}),(0,c.jsxs)("div",{className:"desc",children:["Thank you for choosing Awesome Screenshot Team plan.",(0,c.jsx)("br",{})," We are thrilled to launch Workspace, a solution for asynchronous communication across teammates and a visual repository for teams."]}),(0,c.jsxs)("div",{className:"content",children:[(0,c.jsxs)("div",{className:"transfer-item",children:[(0,c.jsx)("div",{className:"item-title",children:"Old Team Plan"}),(0,c.jsx)("ul",{className:"feature-list",children:(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Every member has a professional plan"]})})]}),(0,c.jsx)("div",{className:"transfer-arrow",children:(0,c.jsx)(a.e0,{})}),(0,c.jsxs)("div",{className:"transfer-item",children:[(0,c.jsx)("div",{className:"item-title",children:"Workspace"}),(0,c.jsxs)("ul",{className:"feature-list",children:[(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Every member has a professional plan"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Team management"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Collaborate with teammates"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Seamless synchronization across different platforms"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"One place for all team resource and content"]})]}),(0,c.jsxs)("div",{className:"price",children:[(0,c.jsx)(a.Sr,{})," No change in unit price, more flexible price plan"]})]})]}),(0,c.jsxs)("div",{className:"tip",children:["Get greater collaborative experience with"," ",(0,c.jsx)("span",{children:"NO addtional cost"}),"."]}),(0,c.jsx)("div",{className:"btn-area",children:(0,c.jsx)(o.Z,{type:"primary",size:"large",onClick:function(){s("/workspace/transfer")},children:"Create a workspace and transfer"})})]})})}},70394:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(66678),o=n(61401),i=n(85893);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.workspace,n=e.afterUpdate,o=e.type;return(0,i.jsxs)("div",{className:"change-card-panel",children:[(0,i.jsxs)("div",{className:"title",children:[" ","addCard"===o?"Add Card":"Update Card"]}),(0,i.jsx)("div",{className:"content",children:(0,i.jsx)(r.Z,{workspace:t,afterPay:n,type:o})})]})}const d=function(e){return(0,i.jsx)(o.Z,s(s({},e),{},{visible:e.visible,onCancel:e.onCancel,children:(0,i.jsx)(u,s(s({},e),{},{closeModal:e.onCancel}))}))}},21862:(e,t,n)=>{n.d(t,{Z:()=>u});n(47386);var r=n(48889),o=(n(85624),n(71577)),i=(n(50626),n(48086)),a=n(96974),c=n(4976),s=n(47481),l=n(85893);function u(e){var t=e.visible,n=e.onCancel,u=e.isOwner,d=e.workspaceID,f=e.channelID,m=e.type,h=(0,a.s0)();return(0,l.jsx)(r.Z,{visible:t,onCancel:n,footer:null,width:548,maskClosable:!1,wrapClassName:"workspace-upgrade-modal",destroyOnClose:!0,centered:!0,closeIcon:(0,l.jsx)(s.Tw,{style:{fontSize:"12px"}}),children:(0,l.jsxs)("div",{className:"workspace-upgrade-panel",children:[(0,l.jsx)("div",{className:"title",children:"Get more with Workspace Premium"}),(0,l.jsx)("div",{className:"subtitle",children:"Workspace has reached items limit"}),(0,l.jsxs)("div",{className:"feature-box",children:[(0,l.jsxs)("div",{className:"feature-item",children:[(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(s.dG,{})}),(0,l.jsx)("div",{className:"text",children:"Unlimited Videos"})]}),(0,l.jsxs)("div",{className:"feature-item",children:[(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(s.K,{})}),(0,l.jsx)("div",{className:"text",children:"Unlimited Images"})]}),(0,l.jsxs)("div",{className:"feature-item",children:[(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(s.$g,{})}),(0,l.jsx)("div",{className:"text",children:"Unlimited members"})]})]}),(0,l.jsx)(o.Z,{className:"up-btn",size:"large",type:"primary",onClick:function(){u?h("/workspace/setting/"+d+"?tab=billing"):(0,c.qo7)(m,d,f).then((function(){i.ZP.success("Remind successfully."),n()}))},children:u?"Upgrade Now":"Remind owner to upgrade"})]})})}},11572:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(67294);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const a=function(e){var t=e.render,n=o((0,r.useState)(!1),2),i=n[0],a=n[1];return t(i,(function(){a(!0)}),(function(){a(!1)}))}},26950:(e,t,n)=>{n.d(t,{z:()=>m});n(15285);var r=n(71257),o=(n(85624),n(71577)),i=(n(79133),n(32787)),a=n(67294),c=n(4976),s=n(56262),l=n(85893);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=i.Z.TextArea;var m=(0,s.$j)((function(e){return{userinfo:e.user.info}}))((function(e){var t=u((0,a.useState)(!1),2),n=t[0],s=t[1],d=u((0,a.useState)(!1),2),m=d[0],h=d[1],p=e.userinfo?e.userinfo.mail:"";return(0,l.jsx)("div",{className:"plan-contact-form",children:m?(0,l.jsx)("div",{className:"finish-view",children:(0,l.jsxs)("div",{className:"center",children:[(0,l.jsx)("h2",{children:"Message sent!"}),(0,l.jsx)("p",{children:"We'll be in touch."}),(0,l.jsx)(o.Z,{type:"primary",onClick:h.bind(null,!1),children:"Send us another message"})]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"win-title",children:"Get in touch with us"}),(0,l.jsx)("div",{className:"tip",children:"Have a question or request? Drop us a line :)"}),(0,l.jsx)("div",{className:"form",children:(0,l.jsxs)(r.Z,{onFinish:function(e){s(!0);var t={email:e.email,subject:"Plan page contact us",content:e.content};(0,c.hz1)(t).then((function(){h(!0),s(!1)}))},children:[(0,l.jsx)("div",{className:"label required",children:"Email"}),(0,l.jsx)(r.Z.Item,{name:"email",initialValue:p,rules:[{required:!0,message:"Please input your email!"}],children:(0,l.jsx)(i.Z,{type:"email",placeholder:"Your Email",defaultValue:p})}),(0,l.jsx)("div",{className:"label required",children:"Message"}),(0,l.jsx)(r.Z.Item,{name:"content",rules:[{required:!0,message:"Please say something!"}],children:(0,l.jsx)(f,{rows:4,placeholder:"Message"})}),(0,l.jsx)(r.Z.Item,{children:(0,l.jsx)(o.Z,{className:"contact-submit-btn",loading:n,type:"primary",htmlType:"submit",size:"large",block:!0,children:"Send"})})]})})]})})}))},54353:(e,t,n)=>{n.d(t,{Z:()=>s});n(67004);var r=n(19181),o=(n(91324),n(45777)),i=n(5551),a=n(47481),c=n(85893);const s=function(){var e=i.uK[1],t=(0,c.jsx)("div",{className:"pro-pop",children:(0,c.jsxs)("div",{className:"feature-box",children:[(0,c.jsx)("div",{className:"feature-title",children:"Screenshot"}),(0,c.jsx)("div",{className:"feature-section",children:(0,c.jsx)("ul",{className:"feature-list",children:e.features.screenshot.map((function(t,n){return(0,c.jsx)("li",{children:(0,c.jsxs)("div",{className:"feature-item",children:[(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:t.replace(/(Unlimited|All)/gi,"<b>$&</b>")}}),"Save screenshots to:"===t&&(0,c.jsx)("div",{className:"integrations-container",children:e.features.integrations_cs.map((function(e){return(0,c.jsx)(o.Z,{title:e.displayName,children:(0,c.jsx)("div",{className:"integration-item small ".concat(e.name)})},e.name)}))})]})},n)}))})}),(0,c.jsxs)("div",{className:"feature-section",children:[(0,c.jsx)("div",{className:"feature-title",children:"Video Recording"}),(0,c.jsx)("ul",{className:"feature-list",children:e.features.record.map((function(e,t){return(0,c.jsx)("li",{children:(0,c.jsx)("div",{className:"feature-item",children:"string"===e.type?(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}):(0,c.jsxs)("div",{className:"feature-link",children:[(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}),(0,c.jsxs)("div",{className:"feature-preview ".concat(e.preview),children:[(0,c.jsx)("div",{className:"text",children:"local"===e.preview?'Local Recordings: temporarily stored under "My Local Recordings", can be further saved to your local disk.':"Cloud Recordings: automatically saved to your account, can be shared instantly and also downloadable."}),(0,c.jsx)("div",{className:"pic"})]})]})})},t)}))}),("free"===e.type||"basic"===e.type)&&(0,c.jsxs)("div",{className:"extra",children:[(0,c.jsx)("div",{className:"extra-title",children:"For the first 20 videos recorded with cloud mode, you can try professional features listed below:"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{className:"list-item",children:"Download in MP4"}),(0,c.jsx)("li",{className:"list-item",children:"Use annotation tools while recording"}),(0,c.jsx)("li",{className:"list-item",children:"Unlimited length per recording"}),(0,c.jsx)("li",{className:"list-item",children:"Edit video"})]})]})]}),e.features.integrations_cp.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"feature-title",children:"Integrations"}),(0,c.jsx)("div",{className:"integrations-container",children:e.features.integrations_cp.map((function(e){return(0,c.jsx)(o.Z,{title:e.displayName,children:(0,c.jsx)("div",{className:"integration-item ".concat(e.name)})},e.name)}))})]})]})});return(0,c.jsx)(r.Z,{content:t,placement:"rightBottom",arrowPointAtCenter:!0,children:(0,c.jsxs)("div",{className:"pro-card",children:[(0,c.jsx)("div",{className:"icon",children:(0,c.jsx)(a.CE,{})}),"Professional plan",(0,c.jsx)("div",{className:"bg-icon",children:(0,c.jsx)(a.dd,{})})]})})}},3432:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(76832),o=n.n(r),i=n(15654),a=n(67294),c=n(71167),s=n.n(c),l=n(96774),u=n.n(l),d=n(5551),f=n(85893);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c.Quill.register("modules/magicUrl",o()),c.Quill.register("modules/mention",i.Z);function p(e,t){var n=e.mentionUsers,r=e.defaultMentionUsers,o=(0,a.useRef)(null),i=m((0,a.useState)(!0),2),c=i[0],l=i[1];function u(){o.current.getEditor().getModule("mention").openMenu(" @")}function h(e){var t=o.current.getEditor(),n=t.getSelection(!0),r=n?n.index:0;t.insertText(r,e),t.focus()}function p(){return o.current.getEditor().root.innerHTML}function v(e){e.denotationChar="@",o.current.getEditor().getModule("mention").insertItem(e,!0)}(0,a.useEffect)((function(){l(!1)}),[]),(0,a.useEffect)((function(){r&&r.length&&r.forEach((function(e){v(e)}))}),[r]),(0,a.useImperativeHandle)(t,(function(){return{addAt:u,addEmoji:h,addMention:v,getContent:p}}));var y={allowedChars:/^[A-Za-z\sÅÄÖåäö]*$/,mentionDenotationChars:["@"],isolateCharacter:!0,source:function(e,t,r){var o;if("@"===r&&(o=n),0===e.length)t(o,e);else{for(var i=[],a=0;a<o.length;a++)~o[a].value.toLowerCase().indexOf(e.toLowerCase())&&i.push(o[a]);t(i,e)}},renderItem:function(e){var t,n,r,o=(t=e.value,n=t?t.length:0,d.Cj[n%d.Cj.length]),i=function(e){var t=e?e.split(" "):[],n="";return t.forEach((function(e){n+=e.charAt(0).toUpperCase()})),n=n.substr(0,3)}(e.value),a=(r=i.length,12-Math.max(2,r)+"px");return'<div class="mention-user"><div class="mention-user-avatar" style="background-color:'.concat(o,";font-size: ").concat(a,'">').concat(i,'<img onerror="javascript:this.remove();" src="').concat(e.avatar,'" /></div><div class="mention-user-name">').concat(e.value,"</div></div>")}};return(0,f.jsx)("div",{className:"quill-comment-box",children:(0,f.jsx)(s(),{ref:o,placeholder:"use @ to mention team members",theme:"snow",readOnly:c,formats:["link","mention"],modules:{toolbar:!1,mention:y,magicUrl:!0}})})}var v=(0,a.forwardRef)(p);const y=(0,a.memo)(v,(function(e,t){return u()(e.mentionUsers,t.mentionUsers)&&u()(e.defaultMentionUsers,t.defaultMentionUsers)}))},74601:(e,t,n)=>{n.d(t,{Z:()=>f});n(91324);var r=n(45777),o=(n(76751),n(67294)),i=n(96974),a=n(96774),c=n.n(a),s=n(99096),l=n(47481),u=n(85893);function d(e){var t=e.folder,n=e.shareKey,o=e.showAvatar,a=(0,i.s0)();return(0,u.jsxs)("div",{className:"folder-item",children:[(0,u.jsx)("div",{className:"checked-badge"}),(0,u.jsx)("div",{className:"click-area",onClick:function(){a("/s/folder/".concat(t.folderID,"/").concat(n),{inApp:!/\/s\/folder/.test(window.location.pathname)})}}),(0,u.jsx)(l.RO,{}),(0,u.jsx)("span",{className:"name",children:t.name||t.title}),o&&(0,u.jsx)(r.Z,{title:t.userName,color:"#26242a",placement:"top",children:(0,u.jsx)("div",{className:"avatar-box",children:(0,u.jsx)(s.Z,{username:t.userName,size:30,avatarUrl:t.userAvatar})})})]})}const f=(0,o.memo)(d,(function(e,t){return c()(e.folder,t.folder)}))},28191:(e,t,n)=>{n.d(t,{Z:()=>j});n(91324);var r=n(45777),o=n(94184),i=n.n(o),a=n(27484),c=n.n(a),s=n(67294),l=n(1216),u=n(56262),d=n(96774),f=n.n(d),m=n(99096),h=n(33179),p=n(67618),v=n(47481),y=n(85893);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.item,n=e.viewSharedNewComment,o=e.query,a=e.isFolder,u=e.handleShowItem,d=g((0,s.useState)(!1),2),f=d[0],h=d[1];(0,s.useEffect)((function(){var e=setTimeout((function(){return(0,l.be)()}),100);return function(){return clearTimeout(e)}}),[]);var b=(0,s.useRef)(null),w=function(){a||n(t.itemType,t.id,t.newCommentCount),u(t)},j=i()("shared-grid-item",{notify:t.hasNewComments});return(0,y.jsx)("div",{className:j,ref:b,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"thumbnail-area",onClick:w,children:[(0,y.jsx)(l.ZP,{scrollContainer:"#item-container",offset:100,once:!0,children:(0,y.jsx)("img",{src:t.thumbnailURI,alt:"",onLoad:function(){return h(!0)},onError:function(e){return e.currentTarget.style.opacity="0"}})}),!f&&(0,y.jsx)("div",{className:"placeholder",children:"video"===t.itemType?(0,y.jsx)(v.dG,{}):(0,y.jsx)(v.K,{})}),(0,y.jsx)("div",{className:"overlay"}),"video"===t.itemType&&(0,y.jsx)("div",{className:"duration",children:t.duration})]}),(0,y.jsxs)("div",{className:"info-area",children:[!a&&(0,y.jsx)(r.Z,{title:t.userName,placement:"left",children:(0,y.jsx)("div",{className:"shared-item-avatar",children:(0,y.jsx)(m.Z,{username:t.userName,avatarUrl:t.userAvatar,size:"30"})})}),(0,y.jsx)("div",{className:"name ".concat(t.itemType),onClick:w,children:(0,y.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,p.CH)(o,(0,p.ol)(t.title))}})}),(0,y.jsxs)("div",{className:"extra-info",children:["video"===t.itemType?(0,y.jsx)(v.dG,{}):(0,y.jsx)(v.K,{}),(0,y.jsx)("div",{className:"date",children:c().unix(t.updatedSec).format("ll")}),(0,y.jsx)("div",{className:"sep",children:"•"}),(0,y.jsxs)("div",{className:"view",children:[t.views," ",t.views>1?"views":"view"]})]})]})]})})}const j=(0,u.$j)(null,{viewSharedNewComment:h.Iz})((0,s.memo)(w,(function(e,t){return e.handleShowItem===t.handleShowItem&&f()(e.item,t.item)})))},85580:(e,t,n)=>{n.d(t,{Z:()=>d});n(85624);var r=n(71577),o=n(67294),i=n(44539),a=n(2294),c=n(47481),s=n(85893);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const d=function(e){var t=e.item,n=l((0,o.useState)(!1),2),u=n[0],d=n[1],f=l((0,o.useState)("both"),2),m=f[0],h=f[1],p=(0,o.useRef)(null);return(0,s.jsxs)("div",{className:"sidebar-move-to-panel",children:[(0,s.jsx)("div",{className:"section compact",children:"0"!==t.folderID||t.channel?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"current-location-container",children:[(0,s.jsx)("div",{className:"title",children:"Currently in"}),(0,s.jsxs)("div",{className:"current-location",onClick:function(){var e;t.channel?p.current.open([t],{from:"channel",idParams:{workspaceID:t.channel.workspaceID,channelID:t.channel.id,folderID:(null===(e=t.wcFolder)||void 0===e?void 0:e.folderID)||"0"}}):(d(!0),h("both"))},children:[(0,s.jsx)("div",{className:"location",children:t.channel?t.wcFolder?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.RO,{}),(0,s.jsx)("span",{className:"location-name",title:t.wcFolder.name,children:t.wcFolder.name})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.MC,{}),(0,s.jsx)("span",{className:"location-name",title:t.channel.name,children:t.channel.name})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.RO,{}),(0,s.jsx)("span",{className:"location-name",title:t.folderName,children:t.folderName})]})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.e0,{})})]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"tip",children:'Move from "My items" to'}),(0,s.jsxs)("div",{className:"btn-area",children:[(0,s.jsx)(r.Z,{type:"primary",onClick:function(){d(!0),h("folder")},children:"Folder"}),(0,s.jsx)("span",{className:"or",children:"or"}),(0,s.jsx)(r.Z,{type:"primary",onClick:function(){d(!0),h("channel")},children:"Workspace"})]})]})}),(0,s.jsx)(a.Z,{visible:u,onCancel:function(){return d(!1)},items:[t],des:m}),(0,s.jsx)(i.p,{ref:p})]})}},47481:(e,t,n)=>{n.d(t,{$E:()=>Ln,$Z:()=>En,$g:()=>or,AM:()=>nr,Ak:()=>Jt,CE:()=>fr,DE:()=>ur,Dn:()=>gn,EA:()=>nn,FL:()=>Qt,F_:()=>Hr,GK:()=>Cn,GR:()=>jr,GS:()=>bn,HC:()=>Ar,HH:()=>Yn,Hf:()=>ln,Iu:()=>Rr,JJ:()=>qt,K:()=>en,Kv:()=>Xn,LI:()=>vn,M:()=>tn,MC:()=>$n,Mj:()=>Ir,N3:()=>Vn,NA:()=>Zr,NJ:()=>lr,NK:()=>Dn,Nt:()=>Pn,O$:()=>hr,O9:()=>br,OO:()=>dr,Od:()=>Bt,PD:()=>Nr,Pg:()=>Rn,Py:()=>an,Qe:()=>_n,R7:()=>Tr,RO:()=>Xt,Sl:()=>Tn,Sr:()=>Fn,TI:()=>zt,Tw:()=>Gt,U_:()=>xn,V_:()=>Hn,Vn:()=>Er,WU:()=>Wt,Wp:()=>Mr,Wv:()=>kr,XB:()=>$t,XH:()=>pn,Xt:()=>On,ZO:()=>Kn,_8:()=>Yt,_K:()=>rr,a3:()=>Bn,a6:()=>Cr,aA:()=>_r,aN:()=>hn,aY:()=>Or,bv:()=>wn,cV:()=>Vt,dG:()=>yn,dd:()=>mr,dt:()=>Ft,dz:()=>An,e0:()=>Ht,eL:()=>qn,f4:()=>Zt,fK:()=>ir,fR:()=>un,fY:()=>Gn,fp:()=>Sn,g7:()=>tr,ih:()=>Nn,j4:()=>kn,lO:()=>gr,m9:()=>mn,mB:()=>Pr,n2:()=>cn,nX:()=>rn,o1:()=>jn,oI:()=>yr,p5:()=>sr,pF:()=>Dr,pG:()=>wr,q7:()=>Ur,q9:()=>Wn,qY:()=>er,qh:()=>zn,qz:()=>Zn,r7:()=>ar,r_:()=>on,sh:()=>sn,tL:()=>cr,tN:()=>Un,tj:()=>Sr,u3:()=>pr,uz:()=>Lr,vp:()=>xr,wn:()=>vr,xR:()=>Mn,xY:()=>Jn,xj:()=>dn,xm:()=>Qn,y3:()=>Kt,yT:()=>fn,yb:()=>Fr,yi:()=>In,zJ:()=>Ut});n(50058);var r=n(16165),o=n(94184),i=n.n(o),a=n(67294),c=n(95334),s=n(7144),l=n(5064),u=n(9499),d=n(97860),f=n(90138),m=n(40247),h=n(38282),p=n(89236),v=n(79635),y=n(44685),g=n(36596),b=n(21712),w=n(73314),j=n(96214),x=n(79624),S=n(75707),I=n(33024),O=n(5443),E=n(17322),N=n(36117),D=n(93667),A=n(82152),C=n(2460),P=n(94246),k=n(93126),T=n(36291),L=n(54239),_=n(13399),R=n(886),M=n(25563),Z=n(1785),F=n(16952),U=n(29841),H=n(90149),G=n(57343),V=n(71552),B=n(50710),W=n(41573),z=n(76062),K=n(12999),Y=n(20525),Q=n(96949),q=n(74602),J=n(9887),X=n(34716),$=n(18232),ee=n(15119),te=n(63439),ne=n(16054),re=n(20842),oe=n(1276),ie=n(94295),ae=n(88987),ce=n(27861),se=n(49918),le=n(89066),ue=n(93307),de=n(71442),fe=n(16414),me=n(33094),he=n(86022),pe=n(90153),ve=n(53773),ye=n(81528),ge=n(42367),be=n(29230),we=n(40630),je=n(67636),xe=n(42746),Se=n(85037),Ie=n(26130),Oe=n(60182),Ee=n(22632),Ne=n(41921),De=n(79959),Ae=n(71124),Ce=n(27239),Pe=n(71273),ke=n(42170),Te=n(5777),Le=n(84590),_e=n(59834),Re=n(21311),Me=n(70861),Ze=n(54464),Fe=n(26085),Ue=n(78286),He=n(19358),Ge=n(5554),Ve=n(26180),Be=n(32330),We=n(47727),ze=n(57808),Ke=n(16364),Ye=n(55518),Qe=n(67334),qe=n(12818),Je=n(50149),Xe=n(16501),$e=n(98320),et=n(66185),tt=n(98387),nt=n(52511),rt=n(13309),ot=n(49544),it=n(87113),at=n(27183),ct=n(63921),st=n(69926),lt=n(81683),ut=n(12322),dt=n(78646),ft=n(97930),mt=n(82191),ht=n(6797),pt=n(35854),vt=n(56739),yt=n(24565),gt=n(80304),bt=n(91100),wt=n(40110),jt=n(78736),xt=n(15238),St=n(64862),It=n(16739),Ot=n(9992),Et=n(45716),Nt=n(85606),Dt=n(8895),At=n(85893);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ct(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ct(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt={AddImageIcon:h.Z,AddIcon:m.Z,AnnotateIcon:y.Z,ArrowIcon:g.Z,ArrowFilledIcon:b.Z,CloseIcon:A.Z,CommentIcon:C.Z,CompleteIcon:k.Z,NarrowIcon:u.Z,CopyLinkIcon:_.Z,CopyIcon:L.Z,DownloadFolderIcon:G.Z,DownloadIcon:V.Z,EmbedIcon:Y.Z,EnlargeIcon:l.Z,NotCompleteIcon:d.Z,FeedbackIcon:X.Z,FolderIcon:f.Z,ImageIcon:Ie.Z,ImagesIcon:Oe.Z,ItemsIcon:Ee.Z,LoadingMoreIcon:De.Z,MoreIcon:Le.Z,MoveFolderIcon:Re.Z,MoveFolderContextmenyIcon:Me.Z,NotificationIcon:Ue.Z,OpenFolderIcon:c.Z,PutBackIcon:$e.Z,RenameIcon:ot.Z,RenameFolderIcon:it.Z,RightIcon:st.Z,TagIcon:jt.Z,TrashFilledIcon:St.Z,TrashIcon:xt.Z,VideoIcon:It.Z,VideosIcon:Ot.Z,AddTextIcon:v.Z,CutIcon:Z.Z,ProIcon:Je.Z,PullIcon:Xe.Z,ReduceIcon:rt.Z,MoreDotIcon:_e.Z,PlayIcon:Ke.Z,PlayControlIcon:Ye.Z,PauseIcon:Ge.Z,PauseControlIcon:Ve.Z,FullScreenIcon:ne.Z,NormalScreenIcon:Fe.Z,PIPIcon:ze.Z,ReplayIcon:at.Z,ReplayControlIcon:ct.Z,VolumeCloseIcon:Et.Z,VolumeHighIcon:Dt.Z,VolumeLowIcon:Nt.Z,SharedIcon:ht.Z,StepForwardIcon:bt.Z,StepBackIcon:gt.Z,CommentBubbleIcon:P.Z,MentionMsgIcon:ke.Z,VideoEditorIcon:K.Z,EmojiIcon:wt.Z,RecordDesktopIcon:nt.Z,RecordCameraIcon:tt.Z,PricingTagIcon:Qe.Z,LightThemeIcon:Ne.Z,DarkThemeIcon:F.Z,AutoThemeIcon:j.Z,NewTabIcon:Ze.Z,MicIcon:Te.Z,HDIcon:oe.Z,CameraIcon:S.Z,ChromeIcon:D.Z,EdgeIcon:W.Z,GoogleIcon:re.Z,BrushIcon:me.Z,SecurityIcon:we.Z,SyncIcon:xe.Z,ChannelIcon:E.Z,SettingIcon:lt.Z,MemberIcon:Pe.Z,PersonIcon:We.Z,QuestionMarkIcon:et.Z,CardIcon:I.Z,SharedMeIcon:ft.Z,MeIcon:Ae.Z,StarIcon:yt.Z,EmptyIcon:Q.Z,PdfIcon:Be.Z,PrinterIcon:qe.Z,CopyImageIcon:T.Z,SmileIcon:pt.Z,CrownIcon:R.Z,CrownBgIcon:M.Z,SharedMeFilledIcon:mt.Z,WarningIcon:J.Z,BilligIcon:x.Z,StarFolderIcon:s.Z,MeFilledIcon:Ce.Z,AtIcon:w.Z,StickerIcon:wt.Z,CameraNoIcon:pe.Z,TrashRecordIcon:Se.Z,StopRecordIcon:je.Z,ActionBigIcon:ae.Z,ActionMiniIcon:ce.Z,CameraRecordIcon:le.Z,CheckboxIcon:N.Z,DragIcon:fe.Z,AddMemberIcon:p.Z,RecordPauseIcon:ve.Z,RecordPlayIcon:ge.Z,LockIcon:he.Z,EnterpriseIcon:q.Z,DomainIcon:H.Z,SsoIcon:vt.Z,DownloadExtIcon:de.Z,CopyExtIcon:ue.Z,PDFExtIcon:ye.Z,PrintExtIcon:be.Z,BackupExtIcon:se.Z,OutIcon:He.Z,ShareIcon:ut.Z,ShareFolderIcon:dt.Z,DescIcon:U.Z,FolderFilledIcon:ee.Z,VideoFolderIcon:te.Z,VideoFilmIcon:$.Z,VideoEditIcon:z.Z,DuplicateIcon:B.Z,ChangelogIcon:O.Z,FolderGradientIcon:f.Z,HistoryIcon:ie.Z},Mt=Object.fromEntries(Object.entries(Rt).map((function(e){var t=Lt(e,2),n=t[0],o=t[1],c=(0,a.memo)((function(e){return(0,At.jsx)(r.Z,kt(kt({component:o},e),{},{className:i()("svg-icon",e.className)}))}));return c.displayName=n,[n,c]}))),Zt=Mt.AddImageIcon,Ft=Mt.AddIcon,Ut=Mt.AnnotateIcon,Ht=Mt.ArrowIcon,Gt=(Mt.ArrowFilledIcon,Mt.CloseIcon),Vt=(Mt.CommentIcon,Mt.CompleteIcon),Bt=Mt.CopyLinkIcon,Wt=Mt.NarrowIcon,zt=Mt.CopyIcon,Kt=Mt.DownloadFolderIcon,Yt=Mt.DownloadIcon,Qt=Mt.EmbedIcon,qt=Mt.EnlargeIcon,Jt=Mt.FeedbackIcon,Xt=Mt.FolderIcon,$t=Mt.ImageIcon,en=Mt.ImagesIcon,tn=Mt.ItemsIcon,nn=Mt.LoadingMoreIcon,rn=Mt.MoreIcon,on=Mt.MoveFolderIcon,an=Mt.MoveFolderContextmenyIcon,cn=Mt.NotCompleteIcon,sn=Mt.NotificationIcon,ln=Mt.OpenFolderIcon,un=Mt.PutBackIcon,dn=Mt.RenameIcon,fn=Mt.RenameFolderIcon,mn=Mt.RightIcon,hn=(Mt.TagIcon,Mt.TrashFilledIcon),pn=Mt.TrashIcon,vn=Mt.VideoIcon,yn=Mt.VideosIcon,gn=(Mt.AddTextIcon,Mt.CutIcon,Mt.ProIcon,Mt.PullIcon),bn=Mt.ReduceIcon,wn=Mt.MoreDotIcon,jn=Mt.PlayIcon,xn=Mt.PlayControlIcon,Sn=Mt.PauseIcon,In=Mt.PauseControlIcon,On=Mt.FullScreenIcon,En=Mt.NormalScreenIcon,Nn=Mt.PIPIcon,Dn=Mt.ReplayIcon,An=Mt.ReplayControlIcon,Cn=Mt.VolumeCloseIcon,Pn=Mt.VolumeHighIcon,kn=Mt.VolumeLowIcon,Tn=(Mt.SharedIcon,Mt.ShareFolderIcon),Ln=Mt.StepForwardIcon,_n=Mt.StepBackIcon,Rn=Mt.CommentBubbleIcon,Mn=Mt.MentionMsgIcon,Zn=Mt.VideoEditorIcon,Fn=Mt.EmojiIcon,Un=Mt.RecordDesktopIcon,Hn=Mt.RecordCameraIcon,Gn=Mt.PricingTagIcon,Vn=Mt.LightThemeIcon,Bn=Mt.DarkThemeIcon,Wn=Mt.AutoThemeIcon,zn=Mt.NewTabIcon,Kn=Mt.MicIcon,Yn=Mt.HDIcon,Qn=Mt.CameraIcon,qn=Mt.ChromeIcon,Jn=Mt.EdgeIcon,Xn=Mt.GoogleIcon,$n=(Mt.BrushIcon,Mt.SecurityIcon,Mt.SyncIcon,Mt.ChannelIcon),er=Mt.SettingIcon,tr=Mt.MemberIcon,nr=(Mt.PersonIcon,Mt.QuestionMarkIcon),rr=Mt.CardIcon,or=Mt.SharedMeIcon,ir=Mt.MeIcon,ar=Mt.StarIcon,cr=Mt.EmptyIcon,sr=Mt.PdfIcon,lr=Mt.PrinterIcon,ur=Mt.CopyImageIcon,dr=Mt.SmileIcon,fr=Mt.CrownIcon,mr=Mt.CrownBgIcon,hr=Mt.SharedMeFilledIcon,pr=Mt.WarningIcon,vr=(Mt.BilligIcon,Mt.StarFolderIcon),yr=Mt.MeFilledIcon,gr=Mt.AtIcon,br=Mt.StickerIcon,wr=Mt.CameraNoIcon,jr=Mt.TrashRecordIcon,xr=Mt.StopRecordIcon,Sr=Mt.ActionBigIcon,Ir=Mt.ActionMiniIcon,Or=Mt.CameraRecordIcon,Er=Mt.DragIcon,Nr=Mt.CheckboxIcon,Dr=Mt.AddMemberIcon,Ar=Mt.RecordPauseIcon,Cr=Mt.RecordPlayIcon,Pr=Mt.LockIcon,kr=Mt.EnterpriseIcon,Tr=Mt.DomainIcon,Lr=Mt.SsoIcon,_r=(Mt.DownloadExtIcon,Mt.CopyExtIcon,Mt.PDFExtIcon,Mt.PrintExtIcon,Mt.BackupExtIcon,Mt.OutIcon,Mt.ShareIcon),Rr=Mt.DescIcon,Mr=Mt.FolderFilledIcon,Zr=(Mt.VideoFolderIcon,Mt.VideoFilmIcon,Mt.VideoEditIcon,Mt.DuplicateIcon),Fr=Mt.ChangelogIcon,Ur=Mt.FolderGradientIcon,Hr=Mt.HistoryIcon},2264:(e,t,n)=>{n.d(t,{Z:()=>v});n(91324);var r,o=n(45777),i=(n(85624),n(71577)),a=n(27484),c=n.n(a),s=n(67294),l=n(56262),u=n(79993),d=n(88091),f=n(31955),m=n(85893);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e[e.None=0]="None",e[e.Recording=1]="Recording",e[e.Pending=2]="Pending",e[e.Uploading=3]="Uploading",e[e.Processing=4]="Processing",e[e.Transcoding=5]="Transcoding",e[e.Done=6]="Done",e[e.Failed=7]="Failed"}(r||(r={}));const v=(0,l.$j)((function(e){return{userInfo:e.user.info}}),null)((function(e){var t=e.isShare,n=e.videoInfo,a=(e.userInfo,e.isVideoDetail),l=e.setVideoComplete,p=e.deleteVideoAction,v=h((0,s.useState)(r.None),2),y=v[0],g=v[1],b=h((0,s.useState)(0),2),w=b[0],j=b[1],x=h((0,s.useState)(!1),2),S=x[0],I=x[1],O=h((0,s.useState)(!1),2),E=O[0],N=O[1],D=h((0,s.useState)(""),2),A=D[0],C=D[1],P=h((0,s.useState)(""),2),k=P[0],T=P[1],L=h((0,s.useState)(!1),2),_=L[0],R=L[1],M=h((0,s.useState)(!1),2),Z=M[0],F=M[1],U=a?2.1:1.42,H="nlipoenfbbikpbjkfpfillcgkoblgpmj",G=(0,s.useMemo)((function(){return y===r.Pending}),[y]),V=(0,s.useMemo)((function(){return y===r.Recording}),[y]),B=(0,s.useMemo)((function(){return y===r.Uploading}),[y]),W=(0,s.useMemo)((function(){return y===r.Processing}),[y]),z=(0,s.useMemo)((function(){return y===r.Transcoding}),[y]),K=(0,s.useMemo)((function(){return y===r.Failed}),[y]);(0,s.useEffect)((function(){if(n)if(n.failed)g(r.Failed);else if(n.client&&(C(n.client),T(n.clientVersion)),n.isRecording&&n.uploadProcess){var e=n.uploadProcess.split(":");if(e.length>1&&Number(e[1])>0){var t=Math.floor(100*Number(e[0])/Number(e[1]));N(!0),j(t<=0?0:t>=100?100:t),g(r.Uploading)}else g(r.Recording);n.recordingLastUpdatedMsec>0&&c()(n.recordingLastUpdatedMsec).add(10,"minute")<c()()?(g(r.Pending),d.i7&&chrome&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage(H,{action:"containVideo",videoId:n.id},(function(e){I(e)}))):Number(e[1])>0&&g(r.Uploading)}else n.s3Available?!a||u.Z.webmSupport()||n.mp4Available?g(r.Done):g(r.Transcoding):g(r.Processing)}),[n]),(0,s.useEffect)((function(){if("Chrome extension"==A||"web_recorder"==A||"Edge extension"==A||"Chrome"==A||"Firefox"==A||"Safari"==A){if(R(!1),"Chrome extension"==A&&k){var e=Y(k,"4.4.16");F(!e)}}else R(!0)}),[A,k]);var Y=function(e,t){var n=!1;if(e)for(var r=e.split("."),o=t.split("."),i=0;i<r.length;i++)if(r[i]<o[i]){n=!0;break}return n},Q=function(){chrome&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage(H,{action:"openBackup"},(function(e){}))},q=function(){return _?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"content",children:"Keep the desktop app open on the device recording this video with a stable network connection. Upload will continue once the connection is restored."}),(0,m.jsx)("div",{className:"primary",children:"Currently, you may cancel the upload and only access the part already uploaded to your account. Then, follow the app's guide on the device recording this video to save the full recording or the left part."})]}):Z?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"content",children:"Open the browser on the device recording this video with a stable network connection. Upload will continue once the connection is restored."}),(0,m.jsx)("div",{className:"primary",children:"Currently, you may cancel the upload and only access the part already uploaded to your account. If you cancel, the full recording can be uploaded to our Cloud again or downloaded to your computer only from the device recording this video."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"content sub",children:"Ensure a stable network connection on the recording computer for smoother uploading."}),(0,m.jsx)("div",{className:"content sub",children:"If you close and reopen the browser, refresh the page, or restart your computer, the part that has not been uploaded to our Cloud will be lost."}),(0,m.jsx)("div",{className:"primary",children:"If the full recording cannot be uploaded to our Cloud for a long time, you may cancel the upload and only access the part already uploaded to your account. If you cancel, the part that has not been uploaded to our Cloud will be lost."})]})},J=f.Z.get("screenshot_personal_uid");return(0,m.jsxs)("div",{className:"video-uploading-tip ".concat(a?"is-video-detail":""),style:{backgroundColor:null!=n&&n.thumbnailURI?"rgba(0, 0, 0, 0.8)":"#8a8f99"},children:[V&&(0,m.jsx)("div",{className:"title uploading",children:"Recording"}),B&&(0,m.jsxs)("div",{className:"upload-progress",children:[(0,m.jsxs)("div",{className:"progress-tip",style:{WebkitTransform:"translateX(calc(-50% + ".concat(w*U,"px))"),msTransform:"translateX(calc(-50% + ".concat(w*U,"px))"),transform:"translateX(calc(-50% + ".concat(w*U,"px))")},children:[w,"%"]}),(0,m.jsx)("div",{className:"progress-track",children:(0,m.jsx)("div",{className:"progress-bar",style:{WebkitTransform:"scaleX(".concat(w,"%)"),msTransform:"scaleX(".concat(w,"%)"),transform:"scaleX(".concat(w,"%)")}})}),(0,m.jsx)("div",{className:"title",children:"Uploading"})]}),G&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"title pending",children:"Internet Connection Might Be Interrupted"}),!t&&E&&(0,m.jsxs)("div",{className:"upload-progress",children:[(0,m.jsxs)("div",{className:"progress-tip",style:{WebkitTransform:"translateX(calc(-50% + ".concat(w*U,"px))"),msTransform:"translateX(calc(-50% + ".concat(w*U,"px))"),transform:"translateX(calc(-50% + ".concat(w*U,"px))")},children:[w,"%"]}),(0,m.jsx)("div",{className:"progress-track",children:(0,m.jsx)("div",{className:"progress-bar",style:{WebkitTransform:"scaleX(".concat(w,"%)"),msTransform:"scaleX(".concat(w,"%)"),transform:"scaleX(".concat(w,"%)")}})})]}),t?(0,m.jsx)(m.Fragment,{}):a?_?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"secondary-msg",children:"Keep the desktop app open on the device recording this video with a stable network connection. Upload will continue once the connection is restored."}),(0,m.jsxs)("div",{className:"primary-msg",children:["Currently, you may"," ",(0,m.jsx)("div",{className:"action",children:"cancel the upload"})," and only access the part already uploaded to your account. Then, follow the app's guide on the device recording this video to save the full recording or the left part."]})]}):S?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Z,{type:"primary",className:"download-backup",onClick:function(){S&&Q()},children:"Download"}),(0,m.jsx)("div",{className:"sub-title",children:"Download the full recording to your computer to avoid data loss."}),(0,m.jsx)("div",{className:"sub-title extension",children:"Meanwhile, the upload to our Cloud will continue without any interruptions once the stable internet connection is recovered."})]}):Z?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"secondary-msg ",children:"Open the browser on the device recording this video with a stable network connection. Upload will continue once the connection is restored."}),(0,m.jsxs)("div",{className:"primary-msg ",children:["Currently, you may"," ",(0,m.jsx)("div",{className:"action",onClick:function(){n&&l&&l(n.id)},children:"cancel the upload"})," ","and only access the part already uploaded to your account. If you cancel, the full recording can be uploaded to our Cloud again or downloaded to your computer only from the device recording this video."]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"secondary-msg ",children:"Ensure a stable network connection on the computer recording this video for smoother uploading."}),(0,m.jsx)("div",{className:"sub-msg",children:"If you close and reopen the browser, refresh the page, or restart your computer, the part that has not been uploaded to our Cloud will be lost."}),(0,m.jsxs)("div",{className:"primary-msg ",children:["If the full recording cannot be uploaded to our Cloud for a long time, you may"," ",(0,m.jsx)("div",{className:"action",onClick:function(){n&&l&&l(n.id)},children:"cancel the upload"})," ","and only access the part already uploaded to your account. If you cancel, the part that has not been uploaded to our Cloud will be lost."]})]}):S?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{overlayClassName:"pop-msg",title:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"content",children:"Download the Full Recording to Your Computer to Avoid Data Loss."}),(0,m.jsx)("div",{className:"primary",children:"Meanwhile, the upload to our Cloud will continue without any interruptions."})]}),color:"white",children:(0,m.jsx)(i.Z,{className:"backup-action",type:"primary",onClick:function(){S&&Q()},children:"Download the Full Recording"})},"white")}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"primary-msg",children:(0,m.jsx)(o.Z,{overlayClassName:"pop-msg",title:q(),color:"white",children:(0,m.jsx)("div",{className:"action grid",onClick:function(){n&&l&&l(n.id)},children:"Cancel Upload and Only Access Uploaded Part"})},"white")})})]}),K&&(t?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"title",children:"Playback Failed"}),(0,m.jsx)("div",{className:"msg",children:"Sorry, the video cannot be played due to an unknown error."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"title",children:"Upload Failed"}),(0,m.jsx)("div",{className:"msg",children:"Sorry, this recording failed to save due to an unexpected error."}),p&&(0,m.jsx)("div",{className:"btn-container",children:(0,m.jsx)("div",{className:"button",onClick:p,children:"Report a problem & Delete"})})]})),W&&(0,m.jsxs)("div",{className:"title success",children:[J!==(null==n?void 0:n.userID)?null:(0,m.jsxs)(m.Fragment,{children:["Upload successful!",(0,m.jsx)("br",{})]}),"Video being processed.",(0,m.jsx)("br",{}),"You can watch it soon."]}),z&&(0,m.jsxs)("div",{className:"title success",children:["Video being transcoded.",(0,m.jsx)("br",{}),"You can watch it soon."]})]})}))},90205:(e,t,n)=>{n.d(t,{Z:()=>D});n(85624);var r=n(71577),o=(n(16154),n(47933)),i=(n(91324),n(45777)),a=n(38640),c=n(4251),s=n(67294),l=n(73935),u=n(56262),d=n(4976),f=n(30817),m=n(67618),h=n(99096),p=n(71853),v=n(97591),y=n(47481),g=n(66678),b=n(85893);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,u.$j)((function(e){return{premium:e.user.premium}}))((function(e){var t=e.workspace,n=e.onCancel,c=e.afterPay,l=e.from,u=e.initialPeriod,w=e.payStatus,j=e.premium,x=I((0,s.useState)(null),2),S=x[0],O=x[1],E=I((0,s.useState)((function(){return u||"year"})),2),N=E[0],D=E[1],A=I((0,s.useState)(!1),2),C=A[0],P=A[1],k=I((0,s.useState)("current"),2),T=k[0],L=k[1],_=I((0,s.useState)(!1),2),R=_[0],M=_[1],Z=(0,s.useRef)(),F=(0,f.Z)().get("promotionCode"),U=I((0,s.useState)(!1),2),H=U[0],G=U[1],V="free"!=(null==j?void 0:j.currentPlan.PlanName)&&!(null!=j&&j.currentPlan.IsWorkspace)&&"Apple"==(null==j?void 0:j.currentPlan.PaymentMethod);function B(){V?M(!0):c()}(0,s.useEffect)((function(){(0,d.eH4)(t.id,l,F).then((function(e){O(e)}))}),[t.id]);var W=(0,s.useCallback)((function(e){G(e)}),[H]),z=function(){return"year"===N?S.planName:S.planNameMonthly};function K(){var e=S.price*S.members.length,t=S.totalPrice;return e-S.balance-t}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Z,{visible:R,onCancel:function(){c(),M(!1)},handleDone:c}),(0,b.jsxs)(a.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",duration:.35},className:"workspace-pay",children:[n&&(0,b.jsx)("div",{className:"close-btn",onClick:n,children:(0,b.jsx)(y.Tw,{})}),(0,b.jsx)("div",{className:"top-title",children:(0,b.jsx)("div",{className:"title",children:"Upgrade to Workspace Premiun"})}),S?(0,b.jsxs)("div",{className:"main-container",children:[(0,b.jsxs)("div",{className:"left",children:[(0,b.jsxs)("div",{className:"workspace-name",children:[t.name,(0,b.jsxs)("div",{className:"member-count",children:[S.members.length," people"]})]}),(0,b.jsx)("div",{className:"workspace-member-list",children:S.members.map((function(e){return(0,b.jsxs)("div",{className:"workspace-member-item",children:[(0,b.jsx)("div",{className:"avatar-area",children:(0,b.jsx)(h.Z,{username:e.userInfo.fullName,size:36})}),(0,b.jsxs)("div",{className:"info",children:[(0,b.jsx)("div",{className:"name",children:e.userInfo.fullName}),(0,b.jsx)("div",{className:"email",children:e.userInfo.mail})]}),(0,b.jsx)("div",{className:"action-area",children:(0,m.fm)(e.role)})]},e.userID)}))})]}),(0,b.jsxs)("div",{className:"right",children:[(0,b.jsx)("div",{className:"pay-title",children:"Payment details:"}),(0,b.jsxs)("div",{className:"balance",ref:Z,children:["Account Balance:",(0,b.jsxs)("div",{className:"value",children:[(0,b.jsxs)("span",{className:"value-text",children:[S.balance,".00"]}),(0,b.jsx)(i.Z,{title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{children:"Refund from overpaying bills:"}),(0,b.jsx)("p",{children:"1. When you transfer the team to the workspace, the excess amount of money will remain in balance."}),(0,b.jsx)("p",{children:"2. When you pay for new members and they leave before the subscription expires."}),(0,b.jsx)("p",{children:"3. When you upgrade from a Basic/Professional subscription, your remaining credit will be credited toward Workspace Premium."})]}),getPopupContainer:function(){return Z.current},children:(0,b.jsx)(y.AM,{})})]})]}),(0,b.jsx)("div",{className:"payment-period",children:(0,b.jsxs)(o.ZP.Group,{value:N,onChange:function(e){D(e.target.value)},disabled:H,children:[(0,b.jsx)(o.ZP,{value:"month",disabled:"upgrade"===l,children:"Billed monthly"}),(0,b.jsxs)(o.ZP,{value:"year",children:["Billed annually (",(0,b.jsxs)("span",{className:"highlight",children:[8===S.priceMonthly?"37.5%":"20%"," Savings"]}),")"]})]})}),(0,b.jsxs)("div",{className:"price-table",children:[(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsxs)("div",{className:"labal",children:[S.priceMonthly," USD x ",S.members.length," x"," ","year"===N?"12 months":"1 month"]}),(0,b.jsx)("div",{className:"value",children:"year"===N?(0,b.jsx)(b.Fragment,{children:(0,m.Sg)(12*S.priceMonthly*S.members.length)}):(0,m.Sg)(S.priceMonthly*S.members.length)})]}),"year"===N&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsxs)("div",{className:"label",children:[8===S.priceMonthly?"37.5%":"20%"," off paid annually",10===S.priceMonthly&&(0,b.jsx)("div",{className:"label-tip",children:"Equal to $8/month/member"})]}),(0,b.jsx)("div",{className:"value discount",children:(0,m.Sg)((S.price-12*S.priceMonthly)*S.members.length)})]}),"year"===N?(0,b.jsx)(b.Fragment,{children:S.totalDiscount>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:S.discountWording}),(0,b.jsx)("div",{className:"value discount",children:(0,m.Sg)(-S.totalDiscount)})]})}):(0,b.jsx)(b.Fragment,{children:S.totalDiscountMonthly>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:S.discountWording}),(0,b.jsx)("div",{className:"value discount",children:(0,m.Sg)(-S.totalDiscountMonthly)})]})}),"year"===N?(0,b.jsx)(b.Fragment,{children:S.changedBalance>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:"Account balance"}),(0,b.jsx)("div",{className:"value discount",children:(0,m.Sg)(-S.changedBalance)})]})}):(0,b.jsx)(b.Fragment,{children:S.changedBalanceMonthly>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:"Account balance"}),(0,b.jsx)("div",{className:"value discount",children:(0,m.Sg)(-S.changedBalanceMonthly)})]})}),("upgrade"===l||"resubscribe"===l)&&"year"===N&&K()>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:"Monthly payment remaining"}),(0,b.jsx)("div",{className:"value discount",children:(0,m.Sg)(-K())})]}),(0,b.jsx)("div",{className:"price-table-divider"}),(0,b.jsxs)("div",{className:"price-table-item total",children:[(0,b.jsx)("div",{className:"labal",children:"Total due"}),(0,b.jsx)("div",{className:"value discount",children:(0,m.Sg)("year"===N?S.totalPrice:S.totalPriceMonthly)})]})]}),(0,b.jsx)("div",{className:"label",children:"Credit card details:"}),S.card?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)(o.ZP.Group,{value:T,onChange:function(e){var t=e.target.value;L(t)},children:[(0,b.jsxs)("div",{className:"card-item",children:[(0,b.jsx)(o.ZP,{value:"current",children:"Use current card"}),(0,b.jsx)("div",{className:"card-detail",children:(0,b.jsxs)("span",{children:[(0,b.jsx)(y._K,{}),"**** **** **** "+S.card]})})]}),(0,b.jsxs)("div",{className:"card-item",children:[(0,b.jsx)(o.ZP,{value:"new",children:"Use a new card"}),"new"===T&&(0,b.jsx)("div",{className:"new-card",children:(0,b.jsx)(g.Z,{workspace:t,getPlanName:z,planName:z(),afterPay:B,type:l,handleGettingSecret:W})})]})]})}),"current"===T&&(0,b.jsx)("div",{className:"btn-area",children:(0,b.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:function(){P(!0),"upgrade"===l?(0,d.rXU)(t.id).then((function(){P(!1),B()})).catch((function(){P(!1)})):"resubscribe"===l?"Expired"===w?(0,d.FB8)(t.id,"resubscribe",z(),F).then((function(e){var n=e.intentID;return(0,d.iHA)(t.id,n).then((function(){P(!1),B()}))})).catch((function(){P(!1)})):(0,d.S0H)(t.id,z()).then((function(){P(!1),B()})).catch((function(){P(!1)})):(0,d.FB8)(t.id,"lite_upgrade",z(),F).then((function(e){var n=e.setupIntent.id,r=e.setupIntent.payment_method;(0,d.$vQ)(t.id,n,r).then((function(){P(!1),B()}))})).catch((function(){P(!1)}))},loading:C,children:"resubscribe"===l?"Resubscribe":"Pay"})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"new-card",children:(0,b.jsx)(g.Z,{workspace:t,getPlanName:z,planName:z(),afterPay:B,type:l,payStatus:w,handleGettingSecret:W})})})]})]}):(0,b.jsx)(p.Z,{})]})]})})),N=function(e){return(0,b.jsx)(c.M,{children:e.visible&&(0,b.jsx)(E,x({},e))})};const D=function(e){return(0,l.createPortal)((0,b.jsx)(N,x({},e)),document.body)}},48203:(e,t,n)=>{n.d(t,{Z:()=>h});n(91324);var r=n(45777),o=(n(15579),n(60881)),i=n(67294),a=n(56262),c=n(96974),s=n(99096),l=n(71922),u=n(85893);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={hideItem:l.sQ};const h=(0,a.$j)((function(e){return{user:e.user.info}}),m)((function(e){var t=e.user,n=e.info,a=e.workspaceID,l=e.hideItem,f=(0,i.useRef)(null),m=(0,c.s0)(),h=d((0,i.useState)(!1),2),p=h[0],v=h[1],y=(0,i.useCallback)((function(){var e=f.current;return!!e&&e.scrollWidth>e.clientWidth}),[]);return(0,i.useEffect)((function(){setTimeout((function(){v(y())}),180)}),[]),(0,u.jsxs)("div",{className:"workspace-profile-popover-content",children:[(0,u.jsxs)("div",{className:"profile",children:[(0,u.jsx)(s.Z,{username:n.userName||"",avatarUrl:n.userAvatar,size:"50"}),n.userID===t.uid+""?(0,u.jsx)("div",{className:"edit-icon",onClick:function(){l(),m("/workspace/setting/".concat(a,"?tab=profile"))},children:(0,u.jsx)("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M8.66992 1.99483C8.69825 2.05449 8.72179 2.12434 8.74056 2.20437C8.75933 2.2844 8.7698 2.36799 8.77198 2.45514C8.77416 2.5423 8.75958 2.62987 8.72823 2.71786C8.69689 2.80584 8.64535 2.89098 8.57362 2.97327C8.49518 3.05573 8.42487 3.12793 8.36269 3.18985C8.30051 3.25178 8.24654 3.30679 8.20079 3.35489C8.14849 3.40987 8.09939 3.45805 8.05346 3.49945L6.12601 1.66595C6.20462 1.5902 6.29793 1.49898 6.40595 1.39231C6.51397 1.28563 6.6041 1.20121 6.67634 1.13903C6.76835 1.06294 6.86426 1.00855 6.96407 0.975874C7.06387 0.943194 7.16242 0.927316 7.25971 0.928239C7.357 0.929163 7.45124 0.941902 7.54241 0.966457C7.63358 0.991012 7.71311 1.01921 7.78099 1.05106C7.92361 1.12128 8.08271 1.24644 8.25826 1.42653C8.43382 1.60662 8.57104 1.79605 8.66992 1.99483ZM0.958893 7.09786C0.998112 7.05663 1.08958 6.95875 1.2333 6.80423C1.37702 6.64971 1.55673 6.45906 1.77244 6.2323L2.48819 5.47988L3.28237 4.64499L5.3904 2.42894L7.3181 4.27249L5.21008 6.48854L4.42595 7.32318C4.16432 7.59133 3.92896 7.83703 3.71988 8.06027C3.51079 8.28351 3.33762 8.46728 3.20035 8.61158C3.06308 8.75588 2.98129 8.83842 2.95498 8.8592C2.88945 8.92121 2.81394 8.98683 2.72846 9.05605C2.64299 9.12526 2.55382 9.18116 2.46097 9.22372C2.36829 9.273 2.23228 9.33341 2.05295 9.40498C1.87361 9.47654 1.68586 9.54663 1.48968 9.61526C1.2935 9.68389 1.10717 9.74389 0.930689 9.79526C0.754206 9.84662 0.622555 9.8801 0.535738 9.89568C0.355233 9.92032 0.233891 9.89652 0.171713 9.82428C0.109534 9.75204 0.0896758 9.62844 0.112137 9.45346C0.1232 9.35927 0.151653 9.22272 0.197495 9.04381C0.243336 8.8649 0.292363 8.6792 0.344573 8.48671C0.396784 8.29422 0.447696 8.11686 0.497308 7.95462C0.546921 7.79239 0.587733 7.68068 0.619746 7.61951C0.657625 7.52465 0.700742 7.43804 0.749095 7.35969C0.797449 7.28134 0.867382 7.19406 0.958893 7.09786Z",fill:"white"})})}):null]}),(0,u.jsxs)("div",{className:"info ".concat(n.userIntroduction?"":"single"),children:[(0,u.jsx)(r.Z,{visible:!!p&&void 0,overlayClassName:"workspace-profile-tooltip",title:n.userName||"",getPopupContainer:function(){return document.getElementById("item-container")||document.body},children:(0,u.jsx)(o.Z.Paragraph,{ref:f,className:"name",ellipsis:{rows:1},children:n.userName||""})}),(0,u.jsx)(o.Z.Paragraph,{className:"desc",ellipsis:{rows:2,expandable:!0,symbol:(0,u.jsx)(r.Z,{overlayClassName:"workspace-profile-tooltip",title:"Expand",placement:"right",getPopupContainer:function(){return document.getElementById("item-container")||document.body},children:(0,u.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M5.19486 7.6625C5.10825 7.8125 4.89175 7.8125 4.80514 7.6625L2.59678 3.8375C2.51018 3.6875 2.61843 3.5 2.79164 3.5L7.20836 3.5C7.38157 3.5 7.48982 3.6875 7.40322 3.8375L5.19486 7.6625Z",fill:"#8A8F99"})})})},children:n.userIntroduction||(n.userID===t.uid+""?"Write a short description about yourself.":"")})]})]})}))},66678:(e,t,n)=>{n.d(t,{Z:()=>g});n(85624);var r=n(71577),o=(n(50626),n(48086)),i=n(86664),a=n(54465),c=n(67294),s=n(56262),l=n(4976),u=n(5551),d=n(30817),f=n(71853),m=n(85893);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,a.J)("pk_live_dEyUjlPXO4pAhgsnnuUwrbEm"),y=function(e){var t=e.workspaceID,n=e.planName,a=e.afterPay,s=e.type,u=e.refreshSecret,f=e.payStatus,p=e.isPaymentIntent,v=h((0,c.useState)(!1),2),y=v[0],g=v[1],b=h((0,c.useState)(!1),2),w=b[0],j=b[1],x=(0,i.useStripe)(),S=(0,i.useElements)();(0,d.Z)().get("promotionCode");function I(){return x.confirmSetup({elements:S,redirect:"if_required"})}function O(){return x.confirmPayment({elements:S,redirect:"if_required"})}var E={resubscribe:function(e,n){return(0,l.iHA)(t,e,n).then((function(){j(!1),a()}))},renew:function(e,r){return(0,l.iHA)(t,n,"",r).then((function(){a()}))},create:function(e,n){return(0,l.mwz)(t,e,n).then((function(e){j(!1),a()}))},lite_upgrade:function(e,n){return(0,l.$vQ)(t,e,n).then((function(e){j(!1),a()}))}};return(0,m.jsx)("div",{className:"checkout-form",children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(!0),"changeCard"===s||"addCard"===s||"upgrade"===s||"resubscribe"===s&&"Expired"!==f?I().then((function(e){var r=e.setupIntent.payment_method;return"upgrade"===s?(0,l.eB6)(t,r).then((function(){return(0,l.rXU)(t).then((function(e){j(!1),a()}))})):"resubscribe"===s?(0,l.eB6)(t,r).then((function(){return(0,l.S0H)(t,n).then((function(){j(!1),a()}))})):(0,l.eB6)(t,r).then((function(){a()}))})).catch((function(e){"validation_error"!==e.type&&u(),j(!1)})):(p?O:I)().then((function(e){if(e.error)throw e.error;var t=p?e.paymentIntent:e.setupIntent,n=t.id,r=t.payment_method;return E[s](n,r)})).catch((function(e){e.message&&o.ZP.error(e.message,5),"validation_error"!==e.type&&u(),j(!1)}))},children:[y&&"changeCard"===s&&(0,m.jsx)("div",{style:{marginBottom:"10px"},children:"This will replace your current saved card"}),(0,m.jsx)(i.PaymentElement,{options:{fields:{billingDetails:{email:"auto",address:"auto"}},terms:{card:"never"},wallets:{applePay:"never",googlePay:"never"}},onReady:function(){g(!0)}}),y&&(0,m.jsx)("div",{className:"btn-area",children:(0,m.jsx)(r.Z,{type:"primary",htmlType:"submit",size:"large",loading:w,disabled:!y,children:function(){switch(s){case"changeCard":return"Update";case"addCard":return"Add";case"renew":return"Renew";case"resubscribe":return"Resubscribe";case"transfer":return"Transfer";default:return"Pay"}}()})})]})})};const g=(0,s.$j)((function(e){return{theme:e.userSetting.theme}}),{})((function(e){var t=e.workspace,n=(e.getPlanName,e.planName),r=e.afterPay,o=e.theme,a=e.type,s=e.transferInfo,p=e.handleGettingSecret,g=e.payStatus,b=h((0,c.useState)(null),2),w=b[0],j=b[1],x=(0,d.Z)().get("promotionCode");function S(){j(null),p&&p(!0),"addCard"===a||"changeCard"===a||"upgrade"===a||"resubscribe"===a&&"Expired"!==g?(0,l.GY)().then((function(e){j(e),p&&p(!1)})).catch((function(e){p&&p(!1)})):(p&&p(!0),(0,l.FB8)(t.id,a,n,x).then((function(e){j(e),p&&p(!1)})).catch((function(e){p&&p(!1)})))}(0,c.useEffect)((function(){S()}),[t.id,n]);var I={appearance:u.Pp[o],clientSecret:null==w?void 0:w.secret};return(0,m.jsx)("div",{className:"workspace-stripe-element",children:w?(0,m.jsx)(i.Elements,{stripe:v,options:I,children:(0,m.jsx)(y,{workspaceID:t.id,transferInfo:s,planName:n,afterPay:r,type:a,refreshSecret:S,payStatus:g,isPaymentIntent:w.isPaymentIntent})}):(0,m.jsx)(f.Z,{})})}))},7516:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(96974),o=n(85893),i=n(67294);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(0,i.forwardRef)((function(t,n){var i=(0,r.TH)(),a=(0,r.s0)(),c=(0,r.UO)();return(0,o.jsx)(e,s(s({ref:n},t),{},{router:{location:i,navigate:a,params:c}}))}))}},5551:(e,t,n)=>{n.d(t,{BT:()=>r,Br:()=>i,Cj:()=>j,J6:()=>d,JT:()=>u,Ob:()=>y,Pp:()=>w,SF:()=>f,SX:()=>o,Z$:()=>h,ai:()=>g,hj:()=>l,iv:()=>c,np:()=>b,sr:()=>s,t5:()=>m,t8:()=>p,uK:()=>a,wo:()=>v});var r={channel:"#",repo:"",user:"@",board:"",project:"",folder:""},o=[{name:"slack",displayName:"Slack"},{name:"asana",displayName:"Asana"},{name:"trello",displayName:"Trello"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],i=[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],a=[{type:"free",displayName:"Free",tip:"Great starter",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"}],integrations_cp:[],screenshot:["Up to 100 screenshots","Basic annotation tools"],record:[{type:"string",text:"Up to 20 recordings"},{type:"string",text:"Up to 6 hours per recording",preview:"local"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 3 days"},{type:"string",text:"Record in WebM or MP4"},{type:"string",text:"Download in WebM or MP4 <br/> (less than 1 hour per recording)"},{type:"string",text:"Convert from WebM to MP4 "},{type:"string",text:"Use annotation tools while recording"},{type:"string",text:"Edit video with Cut, Text, Shape... (less than 1 hour per recording)"}],others:["Capture visible/full page screenshot","Basic annotation tools","1 Project to host, manage and share screenshots","30 images per project","5 minutes video recording per video","20 free videos access","Recover items from Trash within 3 days"]}},{type:"professional",displayName:"Professional",tip:"Unlimited recordings & screenshots",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[{name:"slack",displayName:"Slack"},{name:"trello",displayName:"Trello"},{name:"asana",displayName:"Asana"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Unlimited recordings"},{type:"string",text:"Up to 6 hours per recording",preview:"cloud"},{type:"string",text:"Resolution up to 4k"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Record in WebM or MP4"},{type:"string",text:"Download in WebM or MP4"},{type:"string",text:"Convert from WebM to MP4"},{type:"string",text:"Use annotation tools while recording"},{type:"string",text:"Edit video with Cut, Text, Shape..."}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","Unlimited video recording and access"]}},{type:"basic",displayName:"Basic",tip:"Unlimited screenshots only",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Up to 20 recordings"},{type:"string",text:"Up to 6 hours per recording",preview:"local"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Record in WebM or MP4"},{type:"string",text:"Download in WebM or MP4 <br/> (less than 1 hour per recording)"},{type:"string",text:"Convert from WebM to MP4 "},{type:"string",text:"Use annotation tools while recording"},{type:"string",text:"Edit video with Cut, Text, Shape... (less than 1 hour per recording)"}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","20 free videos access","Recover items from Trash within 30 days"]}}],c=[{type:"workspace-lite",displayName:"Workspace Lite",tip:"",features:[{name:"video",displayName:"Up to 20 videos"},{name:"image",displayName:"Up to 50 images"},{name:"member",displayName:"Up to 5 members"}]},{type:"workspace-premium",displayName:"Workspace Premium",tip:"",features:[{name:"video",displayName:"Unlimited videos"},{name:"image",displayName:"Unlimited images"},{name:"member",displayName:"Unlimited members"}]},{type:"workspace-enterprise",displayName:"Enterprise",tip:"",features:[{name:"enterprise",displayName:"Enterprise support"},{name:"domain",displayName:"Custom domains (Coming soon)"},{name:"sso",displayName:"SSO (Coming soon)"}]}],s=[{msg:"I prefer manual renewal.",value:"A",type:"checkbox"},{msg:"It's too expensive.",value:"B",type:"checkbox"},{msg:"Only needed it occasionally.",value:"C",type:"checkbox"},{msg:"It doesn't work properly.",value:"D",type:"checkbox"},{msg:"Other",value:"E",type:"textarea"}],l=[{msg:"It doesn't have the features I need.",value:"A",type:"checkbox"},{msg:"It doesn't work properly.",value:"B",type:"checkbox"},{msg:"It's too expensive.",value:"C",type:"checkbox"},{msg:"Only needed it occasionally.",value:"D",type:"checkbox"},{msg:"Other",value:"E",type:"textarea"}],u={ITEM:"item"},d=5,f=[{header:"Can I upgrade from a lower plan to a higher plan by paying the price difference?",content:"Yes, please click on the Upgrade option located under the plan section. You will be able to view the price difference there."},{header:"Is my subscription auto-renewed? Can I cancel my subscription anytime?",content:"Yes, Awesome Screenshot will renew your subscription automatically unless you cancel in Settings in advance."},{header:"Can I get a refund if I cancel my subscription?",content:"You can write us an email to ask for a refund for a yearly subscription if you cancel it within 14 days of purchase. We do not offer a refund for a monthly subscription unless there is a clear issue with our product."},{header:"How long does a refund take?",content:"An automatic email will be sent out to the user’s payment email address once a refund is successfully issued.<br/> It usually takes 5~10 business days for a refund to be processed and reflected on your statement."}],m=["👏","😂","❤️","😮","👍","👎"],h={video:"1",image:"0"},p={IS_NOT_SHARE:0,SHARED_TO_ME:1,SHARED_BY_ME:2},v={OLD_FORMAT:1,NEW_FORMAT:2},y=[.5,1,1.5,2],g=[5,10,15,20,25,30],b=[{name:"light",displayName:"Light theme"},{name:"dark",displayName:"Dark theme"},{name:"auto",displayName:"Use device theme"}],w={dark:{theme:"flat",variables:{borderRadius:"8px",colorBackground:"#0D0D0D",colorTextPlaceholder:"#808080"},rules:{".Label":{color:"#ffffff"},".Input":{color:"#ffffff"},".Input:placeholder":{color:"#808080"}}},light:{theme:"flat",variables:{borderRadius:"8px",colorBackground:"white",colorTextPlaceholder:"#808080"},rules:{".Label":{color:"#373C44"},".Input":{border:"1px solid #e5e5e5",color:"#373C44"},".Input:placeholder":{color:"#808080"}}}},j=["#2ecc71","#3498db","#8e44ad","#e67e22","#e74c3c","#1abc9c","#2c3e50"]},42573:(e,t,n)=>{n.d(t,{Z:()=>P});n(91324);var r=n(45777),o=n(24616),i=n(7085),a=n(67294),c=n(56262),s=n(39711),l=n(78512),u=n(83662),d=n(55087),f=(n(85624),n(71577)),m=n(5551),h=n(94184),p=n.n(h),v=n(85893);function y(e){var t=e.destinations,n=p()("des-container",{small:e.small,compact:t&&t.length>3});return(0,v.jsx)("div",{className:"render-des",children:t&&t.length?(0,v.jsx)("div",{className:n,children:t.map((function(t,n){var o=p()("des-item",t.service);return(0,v.jsx)(r.Z,{title:m.BT[t.resourceType]+t.resourceName,mouseEnterDelay:.5,mouseLeaveDelay:0,children:(0,v.jsxs)("div",{className:o,onClick:e.handleDesClick.bind(null,t),children:[(0,v.jsx)("div",{className:"icon"}),(0,v.jsx)("div",{className:"name",children:m.BT[t.resourceType]+t.resourceName})]})},t.resourceType+t.resourceName)}))}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.Z,{type:"primary",className:"feedback-btn",block:!0,onClick:e.handleAddDesClick,children:"Connect with other services"}),(0,v.jsxs)("div",{className:"support-s",children:[(0,v.jsx)("div",{children:"Support:"}),(0,v.jsx)("div",{className:"s-container",children:m.SX.map((function(e){return(0,v.jsx)(r.Z,{title:e.displayName,children:(0,v.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})})}var g=n(47481),b=n(67618),w=n(54748),j=n(13449);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===x(i)?i:String(i)),r)}var o,i}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(l,e);var t,n,a,c=O(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={isShownDes:!1,currentDes:null,desCurrentPanel:"add",isShownUpgrade:!1},t.handleDesClick=t.handleDesClick.bind(N(t)),t.handleAddDesClick=t.handleAddDesClick.bind(N(t)),t.openDesModal=t.openDesModal.bind(N(t)),t.handleModalCancel=t.handleModalCancel.bind(N(t)),t.handleDesCreated=t.handleDesCreated.bind(N(t)),t.handleAccountConnected=t.handleAccountConnected.bind(N(t)),t.goToAddDes=t.goToAddDes.bind(N(t)),t.handleUpgradeCancel=t.handleUpgradeCancel.bind(N(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.loadUserInfo(),this.props.loadDestinations(),this.props.loadConnectedAccounts()}},{key:"openDesModal",value:function(e){var t=this;this.setState({desCurrentPanel:e},(function(){t.setState({isShownDes:!0})}))}},{key:"getPermissionByName",value:function(e){return this.props.permissions["allow".concat((0,b.fm)(e))]}},{key:"handleDesClick",value:function(e){var t=this;"add"===e?this.openDesModal("add"):this.getPermissionByName(e.service)?this.setState({currentDes:e},(function(){t.openDesModal("des")})):this.setState({upgradeType:"des",isShownUpgrade:!0})}},{key:"handleDesCreated",value:function(e){this.props.destinationCreated(e),this.setState({currentDes:e,desCurrentPanel:"des"})}},{key:"handleAccountConnected",value:function(e){this.props.connectedAccountSuccess(e)}},{key:"handleAddDesClick",value:function(){this.openDesModal("add")}},{key:"handleModalCancel",value:function(){this.setState({isShownDes:!1})}},{key:"handleUpgradeCancel",value:function(){this.setState({isShownUpgrade:!1})}},{key:"goToAddDes",value:function(){this.setState({desCurrentPanel:"add"})}},{key:"render",value:function(){var e=this.props,t=e.destinations,n=e.user,a=e.accounts,c=e.dataURL,l=e.permissions,u=e.isLoading,d=this.state,f=d.currentDes,m=d.desCurrentPanel,h={};a&&a.forEach((function(e){h[e.id]=e}));var p=a.filter((function(e){return"googleDrive"!==e.service&&"dropbox"!==e.service&&"box"!==e.service}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"des-action",children:[(0,v.jsx)(r.Z,{title:"Create a new destination",children:(0,v.jsx)("div",{className:"setting-btn add",onClick:this.handleAddDesClick,children:(0,v.jsx)(g.dt,{})})}),(0,v.jsx)(r.Z,{title:"Manage destinations",children:(0,v.jsx)("div",{className:"setting-btn",children:(0,v.jsx)(s.rU,{to:"/settings/destinations",children:(0,v.jsx)(o.Z,{})})})})]}),(0,v.jsx)("h4",{children:"Collaborate with Teammates"}),(0,v.jsx)("div",{className:"AnnoDestinationList",children:(0,v.jsx)("div",{className:"ann-des-list",children:u?(0,v.jsx)("div",{className:"loading",children:(0,v.jsx)(i.Z,{style:{fontSize:24},spin:!0})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y,{destinations:t,handleAddDesClick:this.handleAddDesClick,handleDesClick:this.handleDesClick}),(0,v.jsx)(j.Z,{visible:this.state.isShownDes,onCancel:this.handleModalCancel,currentPanel:m,currentDes:f,accountHash:h,destinations:t,accounts:p,goToAddDes:this.goToAddDes,handleDesCreated:this.handleDesCreated,handleAccountConnected:this.handleAccountConnected,permissions:l,imageUrl:c,currentPlan:n.premium.currentPlan,tabTitle:"",tabUrl:this.props.tabUrl,defaultCurrentAccount:p[0],type:this.props.type,itemId:this.props.itemId,itemUrl:this.props.itemUrl})]})})}),(0,v.jsx)(w.Z,{visible:this.state.isShownUpgrade,onCancel:this.handleUpgradeCancel,type:this.state.upgradeType})]})}}])&&S(t.prototype,n),a&&S(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(a.Component),C={loadUserInfo:d.Lk,loadDestinations:u.jG,loadConnectedAccounts:l.Q6,destinationCreated:u.vM,connectedAccountSuccess:l.Mg};const P=(0,c.$j)((function(e){return{user:null===e.user?{}:e.user,destinations:e.destination.destinations,accounts:e.connectedAccount.accounts,isLoading:e.destination.isLoading||e.connectedAccount.isLoading}}),C)(A)},44539:(e,t,n)=>{n.d(t,{p:()=>N});n(85624);var r=n(71577),o=(n(28763),n(34041)),i=(n(35797),n(82363)),a=n(50308),c=n.n(a),s=n(56262),l=n(71436),u=n(65880),d=n(45826),f=n(51447),m=n(71853),h=n(61401),p=n(21862),v=n(47481),y=n(83417),g=n(20722),b=n(67618),w=n(28219),j=n(85893),x=n(67294);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=i.Z.DirectoryTree;function E(e,t,n,r,o){var i;return(null==e||null===(i=e[t])||void 0===i?void 0:i.children.map((function(t){var i=o.some((function(e){return e.id===t.id}));if(!n&&!i)return{key:t.id,children:E(e,t.id,n,r+1,o),title:t.name,disabled:n,data:{type:"channel-folder",id:t,levels:r,title:t.name},icon:function(e){return e.expanded?(0,j.jsx)(v.Hf,{}):(0,j.jsx)(v.q7,{})}}})).filter(Boolean))||[]}var N=(0,s.$j)((function(e){return{foldersChildrenMap:e.channel.channelFoldersChildrenMap,workspaceIDList:e.workspace.myWorkspaceIDList,workspaceMap:e.workspace.myWorkspaceHash,channelsMap:e.workspace.channelHash,userInfo:e.user.info,isWorkspaceLoading:e.workspace.isLoading}}),{loadChannelAllFolders:l.W3,moveIntoChannelFolder:l.wN,loadWorkspaceInfo:f.yQ,createChannelFolder:l.Qf,clearSelectedItem:d.jh,createMyItemsFolder:u.L6,loadWorkspaces:f.Pf},null,{forwardRef:!0})((0,x.forwardRef)((function(e,t){var n=e.foldersChildrenMap,i=e.workspaceIDList,a=e.workspaceMap,s=e.channelsMap,l=e.userInfo,u=e.isWorkspaceLoading,d=e.loadWorkspaces,f=e.clearSelectedItem,I=e.loadChannelAllFolders,N=e.moveIntoChannelFolder,D=e.createChannelFolder,A=e.loadWorkspaceInfo,C=e.createMyItemsFolder,P=S((0,x.useState)(!1),2),k=P[0],T=P[1],L=S((0,x.useState)([]),2),_=L[0],R=L[1],M=S((0,x.useState)(null),2),Z=M[0],F=M[1],U=(0,x.useRef)(c()),H=(0,x.useRef)(null),G=S((0,x.useState)(!1),2),V=G[0],B=G[1],W=S((0,y.Z)(),5),z=W[0],K=W[1],Y=(W[2],W[3]),Q=W[4],q=_.some((function(e){return"folder"===e.itemType})),J=!_.filter((function(e){return"folder"!==e.itemType})).some((function(e){return String(e.userID)!==String(l.uid)})),X=(0,x.useMemo)((function(){return i.map((function(e){return{label:a[e].name,value:e,key:e}}))}),[i,a]),$=S((0,x.useState)(""),2),ee=$[0],te=$[1],ne=(0,x.useMemo)((function(){var e;return(null===(e=a[ee])||void 0===e?void 0:e.channels.filter((function(e){var t;return!0===(null===(t=s[e])||void 0===t?void 0:t.isMember)})))||[]}),[a,s,ee]),re=(0,x.useMemo)((function(){if(!k)return[];var e=Z?Z.idParams.channelID:"",t=ee;return ne.map((function(r){var o,i,a=(q||!J)&&r!==e;if(!a){var c=s[r]||{};return{key:r,title:c.name,children:E(null===(o=n[t])||void 0===o||null===(i=o[r])||void 0===i?void 0:i.folders,"0",a,1,_.filter((function(e){return"folder"===e.itemType}))),disabled:a,selectable:!a,icon:(0,j.jsx)(v.MC,{}),data:{type:"channel-root",id:{workspaceID:t,channelID:r},levels:0,title:c.name}}}})).filter(Boolean)}),[ee,k,_,i,ne,n[ee]]);(0,x.useEffect)((function(){d()}),[]),(0,x.useEffect)((function(){ee&&ne.forEach((function(e){return I(ee,e,{skipIfLoaded:!0})}))}),[ee,ne]);var oe=S((0,x.useState)([]),2),ie=oe[0],ae=oe[1];(0,x.useEffect)((function(){k&&ae(ne)}),[k,ne]);var ce=S((0,x.useState)(null),2),se=ce[0],le=ce[1];return(0,x.useImperativeHandle)(t,(function(){return{open:function(e,t){return new Promise((function(n){e.length&&(te(t.idParams.workspaceID),F(t),T(!0),R(e),ae([]),le(null),B(!1),U.current=n)}))}}})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(h.Z,{className:"move-items-in-channel-modal",visible:k,onCancel:function(){return T(!1)},children:[(0,j.jsx)("div",{className:"title",children:"Move to"}),(0,j.jsx)("div",{className:"content",children:u?(0,j.jsx)(m.Z,{}):(0,j.jsxs)(j.Fragment,{children:[!q&&J&&(0,j.jsxs)("div",{className:"content-section",children:[(0,j.jsx)("div",{className:"section-title",children:"Workspaces"}),(0,j.jsx)(o.Z,{className:"workspace-selector",size:"large",value:ee,onChange:function(e){return te(e)},options:X})]}),(0,j.jsxs)("div",{className:"content-section",children:[(0,j.jsx)("div",{className:"section-title",children:"Channels"}),(0,j.jsx)(O,{expandAction:"doubleClick",className:"tree-selector",height:274,treeData:re,expandedKeys:ie,onExpand:function(e,t){t.node.disabled||ae(e)},onSelect:function(e,t){var n=t.node;return le(n.data)}})]})]})}),(0,j.jsx)("div",{className:"btn-area",children:(0,j.jsxs)("div",{className:"btn-container",children:[(0,j.jsxs)(r.Z,{className:"new-folder-btn",disabled:!se||se.levels>=3,onClick:function(){H.current.open().then((function(e){"personal"===ee?C(e,(null==se?void 0:se.id.folderID)||"0").then():((0,b.kf)(se),(0,g.WZ)(D,{okMsg:"Folder created",errMsg:function(e){return"string"==typeof e?e:"Folder create failed."}})(se.id,{name:e}).catch(c()))}))},children:[(0,j.jsx)(v.dt,{}),"New folder"]}),(0,j.jsxs)("div",{className:"right-btns",children:[(0,j.jsx)(r.Z,{onClick:function(){return T(!1)},className:"cancel-btn",children:"Cancel"}),(0,j.jsx)(r.Z,{type:"primary",disabled:function(){if(!se)return!0;var e=se.id,t=e.workspaceID+e.channelID+(e.folderID||"0");if(!Z)return!0;var n=Z.idParams;return t===n.workspaceID+n.channelID+(n.folderID||"0")}(),className:"move-to-btn",loading:V,children:(0,j.jsxs)("span",{className:"move-to-btn-text",onClick:function(){(0,b.kf)(se),B(!0),(0,g.WZ)(N,{okMsg:"Move successfully",errMsg:function(e){return"string"==typeof e?e:"Move failed"}})(se.id,_,(function(e){Q(e),K(!0)})).then((function(){U.current(),T(!1),f(),(null==Z?void 0:Z.idParams.workspaceID)&&A(Z.idParams.workspaceID)})).catch(c()).finally((function(){return B(!1)}))},children:["Move to",se&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{style:{margin:"0 0.25em"},children:{"channel-root":(0,j.jsx)(v.MC,{}),"channel-folder":(0,j.jsx)(v.q7,{})}[se.type]}),se.title]})]})})]})]})})]}),(0,j.jsx)(w.g,{ref:H}),Z&&(0,j.jsx)(p.Z,{visible:z,onCancel:function(){return K(!1)},isOwner:Y,workspaceID:Z.idParams.workspaceID,type:"itemAdd",channelID:Z.idParams.channelID})]})})))},28219:(e,t,n)=>{n.d(t,{g:()=>m});n(85624);var r=n(71577),o=(n(79133),n(32787)),i=n(50308),a=n.n(i),c=n(61401),s=n(47481),l=n(85893),u=n(67294);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=(0,u.forwardRef)((function(e,t){var n=d((0,u.useState)(!1),2),i=n[0],f=n[1],m=d((0,u.useState)(""),2),h=m[0],p=m[1],v=(0,u.useRef)(a()),y=h.trim();function g(){f(!1),v.current(y),p("")}return(0,u.useImperativeHandle)(t,(function(){return{open:function(){return new Promise((function(e){f(!0),p(""),v.current=e}))}}})),(0,l.jsxs)(c.Z,{visible:i,width:538,onCancel:function(){f(!1),p("")},children:[(0,l.jsx)("div",{className:"title",children:"New Folder"}),(0,l.jsxs)("div",{className:"content",style:{display:"flex",flexDirection:"column",gap:"10px",padding:"20px 50px 27px"},children:[(0,l.jsx)(s.q7,{style:{fontSize:"120px"}}),(0,l.jsx)(o.Z,{placeholder:"Enter a folder name",value:h,maxLength:40,autoFocus:!0,onChange:function(e){var t=e.currentTarget.value;return p(t)},size:"large",onPressEnter:function(){return y&&g()}})]}),(0,l.jsxs)("div",{className:"btn-area",children:[(0,l.jsx)(r.Z,{onClick:function(){return f(!1)},children:"Cancel"}),(0,l.jsx)(r.Z,{disabled:!y||h.length>40,type:"primary",onClick:g,children:"Create"})]})]})}))},57940:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Nt});n(85624);var r=n(71577),o=(n(79133),n(32787)),i=(n(90),n(16114)),a=(n(48315),n(28682)),c=(n(91324),n(45777)),s=(n(67004),n(19181)),l=(n(47386),n(48889)),u=(n(68521),n(51752)),d=n(57119),f=n(44545),m=n(79508),h=n(24616),p=n(56262),v=n(96974),y=n(39711),g=n(71436),b=n(92807),w=n(65880),j=n(15322),x=n(71922),S=n(55087),I=n(62983),O=n(4976),E=n(59985),N=n(62734),D=(n(50626),n(48086)),A=n(7085),C=n(67294),P=n(88091),k=n(1168),T=n(67618);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:j(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,i)&&(p=y);var g=h.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==L(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function R(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){R(i,r,o,a,c,"next",e)}function c(e){R(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Z(){return(Z=M(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=null;(0,T.ab)(t).then((function(n){n.forEach((function(n,o){var i=n.width,a=n.height;r?r.addPage([Math.ceil(i),Math.ceil(a)],i>a?"l":"p"):r=new k.ZP({orientation:i>a?"l":"p",unit:"pt",format:[Math.ceil(i),Math.ceil(a)],compress:!0});var c=document.createElement("canvas"),s=c.getContext("2d");c.width=i,c.height=a,s.drawImage(n.ele,0,0,i,a,0,0,i,a);var l=c.toDataURL("image/jpeg",1);r.addImage(l,"JPEG",0,0,Math.ceil(i),Math.ceil(a),"","FAST"),o===t.length-1&&e(r.output("bloburl"))}))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=n(47481),U=n(85893);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t=e.info,n=e.onDelete,r=e.onDuplicate,o=H((0,C.useState)(!1),2),c=o[0],s=o[1],u=(0,C.useRef)(null),d=[{key:"download-pdf",icon:(0,U.jsx)(F.p5,{}),label:"Download as PDF",onClick:function(){"Uploading"!==t.statusName?(s(!0),(0,T.sI)(t.imageDownloadURI,14400).then((function(e){return function(e){return Z.apply(this,arguments)}(e)})).then((function(e){s(!1),(0,T.Cz)(e,t.title+".pdf")})).catch((function(e){s(!1)}))):l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})}},{key:"print",label:"Print",icon:(0,U.jsx)(F.NJ,{}),onClick:function(){if("Uploading"!==t.statusName){s(!0);var e=u.current,n=document.createElement("div");n.style.margin="0 aut0",n.style.textAlign="center";var r=document.createElement("img");r.style.width="100%",n.appendChild(r);var o=e.contentWindow.document;o.body.appendChild(n),r.src=t.imageDownloadURI;var i=e.contentWindow;r.onload=function(){i.close(),i.focus(),s(!1),o.documentElement.style.height="100%",i.print(),o.body.innerHTML=""},r.onerror=function(){s(!1)}}else l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})}},P.pp?{key:"copy",icon:(0,U.jsx)(F.DE,{}),onClick:function(){"Uploading"!==t.statusName?(s(!0),(0,T.uM)(t.imageFileURI).then((function(){D.ZP.success("Copy success!",1)})).catch((function(e){D.ZP.error("Copy failed.",1)})).finally((function(){return s(!1)}))):l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})},label:"Copy image"}:null,t.channel?null:{key:"duplicate",label:"Duplicate",icon:(0,U.jsx)(F.NA,{}),onClick:r},{key:"remove",label:"Remove",danger:!0,icon:(0,U.jsx)(F.XH,{}),onClick:n}];return(0,U.jsx)(i.Z,{overlay:(0,U.jsx)(a.Z,{items:d}),disabled:c,trigger:["click"],placement:"bottomRight",children:(0,U.jsxs)("div",{className:"action-item",children:[c?(0,U.jsx)("div",{className:"icon-loading",children:(0,U.jsx)(A.Z,{})}):(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(F.bv,{})}),!c&&(0,U.jsx)("div",{className:"name",children:"More"}),(0,U.jsx)("iframe",{style:{width:0,height:0,display:"none"},ref:u})]})})}var B=n(13924),W=n(37822);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Y=function(e){var t=z((0,C.useState)(!1),2),n=t[0],o=t[1];return(0,U.jsx)(l.Z,{visible:e.visible,destroyOnClose:!0,closable:!1,maskClosable:!1,footer:null,getContainer:!1,centered:!0,className:"access-modal",closeIcon:(0,U.jsx)(F.Tw,{style:{fontSize:"12px"}}),children:(0,U.jsx)("div",{className:"restriction-area",children:n?(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("h2",{className:"title",children:"Message sent successfully."})}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("h2",{className:"title",children:["Oops! This ",e.type," is not accessible."," "]}),(0,U.jsxs)("p",{children:["This ",e.type," is locked because the owner (",e.username,") has reached a limit for ",e.type," sharing."]}),(0,U.jsxs)("p",{children:["Want to ","video"===e.type?"watch":"view"," this"," ",e.type,"? Click the button below to let the owner know. We will send a reminder message to the video owner for you."]}),(0,U.jsx)(r.Z,{type:"primary",onClick:function(){"video"===e.type?(0,O.bG5)(e.id).then((function(){o(!0)})):(0,O.QbM)(e.id).then((function(){o(!0)})),(0,T.I1)("tell owner restriction",{event_category:e.type})},children:"Send reminder"})]})})})};var Q=n(74691),q=n.n(Q),J=n(94184),X=n.n(J),$=n(73935),ee=n(76932),te=n(50308),ne=n.n(te),re=n(3664),oe=n(36331);function ie(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,re.d)(n),i=(0,C.useRef)(ne());function a(){i.current(),i.current=ne()}return(0,C.useEffect)((function(){var n=(0,oe.Ql)(e);if(null!=n&&n.addEventListener){var c=function(e){o.current.call(this,e)};return n.addEventListener(t,c,r),i.current=function(){return n.removeEventListener(t,c,r.capture)},a}}),[t,e,r.capture,r.once,r.passive]),a}var ae=n(80686);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ce(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fe(e){var t=e.imageSrc,n=e.onClose,r=ue((0,C.useState)(!0),2),o=r[0],i=r[1],a=ue((0,C.useState)(0),2),c=a[0],s=a[1],l=(0,C.useRef)(null),u=(0,C.useRef)(null);(0,ee._6)((function(e){return"Escape"===e.code&&n()})),ie(u,"load",(function(){s(q()(this.naturalWidth,.9*window.innerWidth)),i(!1)})),ie(window,"wheel",(function(e){0!==e.deltaY&&e.ctrlKey&&(e.preventDefault(),e.deltaY>0?p():h())}),{passive:!1});var d=ue((0,C.useState)(!1),2),f=d[0],m=d[1];(0,ae.z)(u,{onStart:function(e){if(0!==e.button)return!1;m(!0)},onMove:function(e){var t=e.movementX,n=e.movementY;l.current.scrollLeft-=t,l.current.scrollTop-=n},onEnd:function(){m(!1)}});var h=function(){return s(1.25*c)},p=function(){return s(Math.floor(.75*c))},v=X()("image-viewer",{loaded:!o});return(0,U.jsxs)("div",{className:v,ref:l,children:[o&&(0,U.jsx)("div",{className:"loading-area",children:(0,U.jsx)(A.Z,{style:{fontSize:54},spin:!0})}),(0,U.jsx)("img",{src:t,ref:u,style:{width:c,cursor:f?"grabbing":void 0}}),(0,U.jsx)("div",{className:"close-btn",onClick:n,children:(0,U.jsx)(F.Tw,{})}),(0,U.jsxs)("div",{className:"action-bar",children:[(0,U.jsx)("div",{className:"action-btn zoom-in",onClick:h,children:(0,U.jsx)(F.dt,{})}),(0,U.jsx)("div",{className:"action-btn zoom-in",onClick:p,children:(0,U.jsx)(F.GS,{})})]})]})}const me=function(e){return(0,$.createPortal)((0,U.jsx)(fe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),document.body)};function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ve=function(e){var t=e.src,n=he((0,C.useState)(!1),2),r=n[0],o=n[1],i=(0,C.useRef)(null),a=function(){o(!0),document.body.style.overflow="hidden"};return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(c.Z,{title:"Fullscreen",placement:"bottom",children:(0,U.jsx)("div",{className:"zoom-in-btn",onClick:a,children:(0,U.jsx)(F.tj,{})})}),(0,U.jsxs)("div",{className:"img-wrapper",children:[(0,U.jsx)("img",{style:{cursor:"zoom-in"},ref:i,src:t,crossOrigin:"anonymous",onClick:a}),r&&(0,U.jsx)(me,{imageSrc:t,onClose:function(){o(!1),document.body.style.overflow="auto"}})]})]})};var ye=n(68628),ge=n(38819),be=n(28235),we=n(61401);function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t=function(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===je(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){var t=e.imageId,n=e.handleFinishReport,i=xe((0,C.useState)(""),2),a=i[0],c=i[1],s=xe((0,C.useState)(!1),2),l=s[0],u=s[1],d=(0,be.CG)((function(e){return e.user.info}));return(0,U.jsx)("div",{className:"report-capture-panel",children:l?(0,U.jsxs)("div",{className:"sent-message",children:[(0,U.jsx)("div",{children:(0,U.jsx)(ge.Z,{})}),(0,U.jsx)("div",{className:"title",children:"Thank you"}),(0,U.jsx)("div",{className:"content",children:"Your report has been sent successfully. We will look into this and find a solution as soon as possible."})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"title",children:"Report capture issue"}),(0,U.jsxs)("div",{className:"content",children:[(0,U.jsx)("div",{className:"label",children:"Issue Summary (optional)"}),(0,U.jsx)("div",{className:"label-tip",children:"Let us know what happened in detail."}),(0,U.jsx)(o.Z.TextArea,{onChange:function(e){c(e.target.value)},autoSize:{minRows:3}})]}),(0,U.jsx)("div",{className:"btn-area",children:(0,U.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:function(){var e={};e["Image ID"]=t,e.Summary=a,e["Screen Size"]=window.screen.width+"x"+window.screen.height;var r={name:d.fullName,subject:"Full Page capture Issue",email:d.mail,content:function(e){var t="";for(var n in e)t+="<b>"+n+"</b>: "+e[n]+"<br/>";return t}(e)};(0,O.hz1)(r).then((function(e){u(!0),n()})).catch((function(e){D.ZP.warning("Submission failed. Please retry or copy the page's url to send an email to care@awesomescreenshot.com.")}))},children:"Report"})})]})})}const De=function(e){return(0,U.jsx)(we.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,U.jsx)(Ne,Oe(Oe({},e),{},{closeModal:e.onCancel}))})};function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Pe=function(e){var t=e.imageId,n=Ae((0,C.useState)(!0),2),r=n[0],o=n[1],i=Ae((0,C.useState)(!1),2),a=i[0],c=i[1],s=(0,C.useCallback)((function(){o(!1)}),[]);return(0,U.jsxs)(U.Fragment,{children:[r?(0,U.jsxs)("div",{className:"report-capture-btn",onClick:function(){return c(!0)},children:[(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(ye.Z,{})}),"Report capture issue"]}):null,(0,U.jsx)(De,{imageId:t,handleFinishReport:s,visible:a,onCancel:function(){return c(!1)}})]})};function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Le=function(e){var t=e.url,n=e.title,r=e.status,o=ke((0,C.useState)(!1),2),i=o[0];return o[1],(0,U.jsxs)("div",{className:"action-item",onClick:function(){"Uploading"!==r?(0,T.Cz)(t,n):l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})},children:[i?(0,U.jsx)("div",{className:"icon-loading",children:(0,U.jsx)(A.Z,{})}):(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(F._8,{})}),(0,U.jsx)("div",{className:"name",children:"Download"})]})};var _e=n(85580),Re=n(48203),Me=n(7516),Ze=n(5551),Fe=n(32250),Ue=n(83279),He=n(33789),Ge=n(65538),Ve=n(30817),Be=n(79993),We=n(99096),ze=n(54748),Ke=n(42573),Ye=n(82931),Qe=n(78512);function qe(e){var t=e.accounts;return(0,U.jsx)("div",{className:"render-drive-accounts",children:t&&t.length?(0,U.jsx)("div",{className:"save-to-drive",children:t.map((function(t){return(0,U.jsxs)("div",{className:"save-item ".concat(t.service),onClick:e.handleDriveItemClick.bind(null,t),children:[(0,U.jsx)("div",{className:"icon"}),(0,U.jsx)("span",{children:(0,U.jsx)("span",{className:"user-email",title:t.userInfo.email,children:t.userInfo.email})})]},t.id)}))}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(r.Z,{type:"primary",className:"connect-btn",block:!0,onClick:e.handleAddDriveClick,children:"Connect with cloud storage"}),(0,U.jsxs)("div",{className:"support-s",children:[(0,U.jsx)("div",{children:"Support:"}),(0,U.jsx)("div",{className:"s-container",children:Ze.Br.map((function(e){return(0,U.jsx)(c.Z,{title:e.displayName,children:(0,U.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})})}function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Xe(e,t,n){return(t=et(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,et(r.key),r)}}function et(e){var t=function(e,t){if("object"!==Je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Je(t)?t:String(t)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(i,e);var t,n,r,o=nt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isShownDrive:!1,isShownUpgrade:!1,currentDes:null,currentDriveAccount:null,upgradeType:"",desCurrentPanel:"add"},t.handleDesClick=t.handleDesClick.bind(ot(t)),t.handleAddDriveClick=t.handleAddDriveClick.bind(ot(t)),t.openDriveModal=t.openDriveModal.bind(ot(t)),t.handleModalCancel=t.handleModalCancel.bind(ot(t)),t.handleDesCreated=t.handleDesCreated.bind(ot(t)),t.handleAccountConnected=t.handleAccountConnected.bind(ot(t)),t.goToAddDes=t.goToAddDes.bind(ot(t)),t.showModal=t.showModal.bind(ot(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.loadUserInfo(),this.props.loadConnectedAccounts()}},{key:"handleDesClick",value:function(e){var t=this;"add"===e?this.openDesModal("add"):this.setState({currentDes:e},(function(){t.openDesModal("des")}))}},{key:"showModal",value:function(e){var t="isShown".concat(e);this.setState(Xe({},t,!0))}},{key:"handleModalCancel",value:function(e){var t,n="isShown".concat(e);this.setState((Xe(t={},n,!1),Xe(t,"signInType",""),t))}},{key:"openDriveModal",value:function(e){var t=this;this.props.user.info.uid?"add"===e?this.setState({currentDriveAccount:null},(function(){t.showModal("Drive")})):this.props.permissions["allow".concat((0,T.fm)(e.service))]?this.setState({currentDriveAccount:e},(function(){t.showModal("Drive")})):this.setState({upgradeType:e.service},(function(){t.showModal("Upgrade")})):this.setState({signInType:"drive",isShownSignin:!0})}},{key:"handleDesCreated",value:function(e){this.props.destinationCreated(e),this.setState({currentDes:e,desCurrentPanel:"des"})}},{key:"handleAccountConnected",value:function(e){this.props.connectedAccountSuccess(e)}},{key:"handleAddDriveClick",value:function(){this.openDriveModal("add")}},{key:"goToAddDes",value:function(){this.setState({desCurrentPanel:"add"})}},{key:"render",value:function(){var e=this.props,t=(e.user,e.accounts),n=(e.dataURL,e.permissions,e.itemUrl,e.isLoading),r=t.filter((function(e){return"googleDrive"===e.service||"dropbox"===e.service||"box"===e.service}));return(0,U.jsx)("div",{className:"DriveList",children:(0,U.jsx)("div",{className:"ann-des-list",children:n?(0,U.jsx)("div",{className:"loading",children:(0,U.jsx)(A.Z,{style:{fontSize:24},spin:!0})}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(qe,{accounts:r,handleAddDriveClick:this.handleAddDriveClick,handleDriveItemClick:this.openDriveModal}),(0,U.jsx)(Ye.Z,{visible:this.state.isShownDrive,onCancel:this.handleModalCancel.bind(null,"Drive"),tabTitle:this.props.title,imageUrl:this.props.imageUrl,imageBlob:this.props.imageBlob,service:this.state.driveService,permissions:this.props.permissions,currentPlan:this.props.currentPlan,accounts:r,currentDriveAccount:this.state.currentDriveAccount,handleDriveAccountConnected:this.handleDriveAccountConnected,contentType:this.props.contentType,showUpgradeModal:this.showUpgradeModal,type:"image",itemUrl:this.props.itemUrl}),(0,U.jsx)(ze.Z,{visible:this.state.isShownUpgrade,onCancel:this.handleModalCancel.bind(null,"Upgrade"),type:this.state.upgradeType})]})})})}}])&&$e(t.prototype,n),r&&$e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(C.Component),ct={loadUserInfo:S.Lk,loadConnectedAccounts:Qe.Q6,connectedAccountSuccess:Qe.Mg};const st=(0,p.$j)((function(e){var t=e.user;return{user:null===e.user?{}:e.user,permissions:t.permissions,currentPlan:t.premium.currentPlan,accounts:e.connectedAccount.accounts,isLoading:e.connectedAccount.isLoading}}),ct)(at);var lt=n(73458),ut=(n(25562),n(12028));function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e,t,n){return t=function(e){var t=function(e,t){if("object"!==dt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt={updateImageShareSetting:j.hn};var vt=(0,p.$j)((function(e){return{images:e.image.images}}),pt)((function(e){var t,n=e.updateImageShareSetting,r=e.images,o=e.id,i=r[o].info;return(0,U.jsx)("div",{className:"share-setting",children:(0,U.jsxs)("div",{className:"header-field",children:[(0,U.jsx)(ut.Z,{className:"switch-item",defaultChecked:null!==(t=i.showSourceURL)&&void 0!==t&&t,onChange:function(e){!function(e){n({id:o,showSourceUrl:e})}(e)}}),(0,U.jsx)("div",{children:"Grant viewers access to the source URL"})]})})}));const yt=function(e){return(0,U.jsx)(we.Z,{visible:e.visible,onCancel:e.onCancel,className:"share-setting-modal",children:(0,U.jsx)(vt,mt(mt({},e),{},{closeModal:e.onCancel}))})};function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function bt(){bt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:j(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,i)&&(p=y);var g=h.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==gt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function wt(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function jt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wt(i,r,o,a,c,"next",e)}function c(e){wt(i,r,o,a,c,"throw",e)}a(void 0)}))}}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var It=u.Z.TabPane;var Ot={moveToTrash:w.B0,loadImageInfo:j.Ql,deleteChannelItem:g.FO,loadUserInfo:S.Lk,loadComments:b.KT,generateImageShareLinkAction:j.Vu,revokeImageShareLinkAction:j.W_,hideItemAction:x.td,duplicateImage:j.m8},Et=(0,p.$j)((function(e,t){var n,r,o,i,a=t.isModal?t.id:t.router.params.imageID;return{userInfo:e.user.info,isUserLoaded:e.user.isLoaded,counts:null!==(n=null===(r=e.user.counts)||void 0===r?void 0:r.image)&&void 0!==n?n:void 0,hasSaveToCloudAccount:e.user.hasSaveToCloudAccount,comments:null!==(o=e.comment.comments[Ze.Z$.image+a])&&void 0!==o?o:[],image:null!==(i=e.image.images[a])&&void 0!==i?i:{},permissions:e.user.permissions,currentPlan:e.user.premium.currentPlan,userCounts:e.user.counts,theme:e.userSetting.theme,showGuide:e.user.showGuide&&e.userGuide.loaded&&!e.userGuide.popups[I.C2.ImageLink],userGuide:e.userGuide}}),Ot);const Nt=(0,Me.Z)(Et((function(e){var t=xt((0,C.useState)(!1),2),n=t[0],p=t[1],g=xt((0,C.useState)(!1),2),b=g[0],w=g[1],j=xt((0,C.useState)(!1),2),x=j[0],S=j[1],D=xt((0,C.useState)(!0),2),A=D[0],P=(D[1],xt((0,C.useState)(!1),2)),k=(P[0],P[1]),L=xt((0,C.useState)(!1),2),_=L[0],R=L[1],M=xt((0,C.useState)(!1),2),Z=M[0],H=M[1],G=(0,Ve.Z)(),z=(0,be.TL)(),K=e.loadImageInfo,Q=e.image,q=e.permissions,J=e.currentPlan,X=e.moveToTrash,$=e.loadComments,ee=e.comments,te=e.loadUserInfo,ne=e.isUserLoaded,re=e.deleteChannelItem,oe=e.isModal,ie=e.hideModal,ae=(e.theme,e.hideItemAction),ce=e.isBrowsing,se=e.userCounts,le=e.duplicateImage,ue=e.showGuide,de=e.userGuide;(0,Ge.u)(Q.info&&!oe?Q.info.title:"");var fe=(0,Fe.D)(Q.isLoading),me=oe?e.id:e.router.params.imageID,he=(0,Fe.D)(me),pe=oe?e.shareKey:G.get("key"),ye=G.get("init_open"),ge=Q.info||{},we=e.userInfo.uid+""!==ge.userID&&!ge.isChannelMember,je=e.userInfo.uid+""===ge.userID,xe=ge.channel&&e.userInfo.uid===ge.channel.creatorID,Se=(0,Fe.D)(e.counts),Ie=!A&&Be.Z.isChrome()&&!Be.Z.isMobile(),Oe=(0,v.s0)(),Ee=(0,v.TH)(),Ne=(0,C.useRef)(null),De=xt((0,Ue.K)(Ne,{windowScroll:!1}),2),Ae=De[0],Ce=De[1],ke=xt((0,C.useState)(!1),2),Te=ke[0],Me=ke[1];function Ye(){Me(!1),z((0,I.wH)(I.C2.ImageLink)),(0,T.I1)("Complete source link popup",{event_category:"userGuide"})}(0,He.Q)(jt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T._v)(500);case 2:Ce(),Me(!0);case 4:case"end":return e.stop()}}),e)}))),!!Ne.current&&ue),(0,He.Q)((function(){z((0,I.aO)())}),!de.loaded&&!we&&e.isUserLoaded),(0,C.useEffect)((function(){var e=setTimeout((function(){!(0,T.LB)()&&Be.Z.isChrome()&&Be.Z.isMobile()}),1e3);return(0,O.A95)(me),window.addEventListener("message",Qe,!1),function(){clearTimeout(e),window.removeEventListener("message",Qe,!1)}}),[]),(0,C.useEffect)((function(){void 0===e.userInfo.uid&&ne&&(0,T.Zf)(te)}),[e.userInfo,ne]),(0,C.useEffect)((function(){void 0===Q.info&&!1===fe&&he===me&&(oe?ie():Ee.state&&Ee.state.inApp?Oe(-1):Oe("/my_items")),!1===Q.isLoading&&void 0===Q.info.id&&(e.isModal?(Oe("/404"),ae()):Oe("/404",{replace:!0}))}),[Q.isLoading,Q]),(0,C.useEffect)((function(){var e;return"Uploading"===ge.statusName&&(e=setTimeout((function(){K(me,pe,!0)}),1500)),function(){return clearTimeout(e)}})),(0,C.useEffect)((function(){ce&&void 0!==Q.info&&Q.loaded||(K(me,pe),$(Ze.Z$.image,me,pe))}),[me,pe]),(0,C.useEffect)((function(){void 0===Se&&void 0!==e.userInfo.uid&&void 0!==e.counts&&void 0!==e.currentPlan&&"free"===e.currentPlan.PlanName&&parseInt(e.counts)>100&&(w(!0),S(!0))}),[e.counts,e.currentPlan]);var Qe=function(e){var t=e.data;"show"===t.type?k(!0):"close"===t.type&&k(!1)},qe=(0,C.useCallback)((function(){if(e.isModal){var t={itemType:"image",id:e.image.info.id,shareKey:e.shareKey};localStorage.restore_modal=JSON.stringify(t)}window.location.href="/signin?redirect="+window.location.href}),[e,oe,e.image,e.shareKey]),Je=void 0===Q.info||(ce?!Q.loaded:Q.isLoading),Xe=void 0!==ge.canVisit&&!1===ge.canVisit&&we,$e=void 0!==e.currentPlan&&void 0!==e.counts&&"free"===e.currentPlan.PlanName&&parseInt(se.video)>=.75*se.videoLimitation&&parseInt(se.video)<se.videoLimitation,et=void 0!==e.currentPlan&&void 0!==e.counts&&"free"===e.currentPlan.PlanName&&parseInt(se.video)>=se.videoLimitation;return(0,U.jsxs)("div",{className:"image-detail-page ".concat(oe?"modal":""),children:[et&&(0,U.jsxs)("div",{className:"discount-tip-header",children:[(0,U.jsx)(d.Z,{}),"You’ ve reached the 100 screenshot limit. Upgrade for unlimited screenshots.",(0,U.jsx)(y.rU,{className:"btn primary",to:"/pricing?from=list_image_reach_limit",children:"Upgrade now"})]}),$e&&(0,U.jsxs)("div",{className:"discount-tip-header",children:[(0,U.jsx)(d.Z,{}),"You’ ve taken ",se.image,"/",se.imageLimitation," ","screenshots. Upgrade for unlimited screenshots.",(0,U.jsx)(y.rU,{className:"btn primary",to:"/pricing?from=list_video_image_close_limit",children:"Upgrade now"})]}),(0,U.jsx)("div",{className:"inner-container",children:(0,U.jsx)("div",{className:"main",children:Je?(0,U.jsx)(B.Z,{}):(0,U.jsxs)("div",{className:"image-container",children:[(0,U.jsxs)("div",{className:"image-area",children:[ye&&(0,U.jsx)(Pe,{imageId:ge.id}),(0,U.jsxs)("div",{className:"image-preview",children:[(0,U.jsx)("span",{className:"helper"}),"Uploading"===ge.statusName?(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("div",{className:"img-wrapper",children:(0,U.jsx)("div",{className:"uploading-tip",children:" Uploading..."})})}):(0,U.jsx)(ve,{src:ge.imageFileURI})]}),(0,U.jsxs)("div",{className:"image-title-area",children:[(0,U.jsx)("div",{className:"image-title",children:je||ge.channel&&ge.isChannelMember?(0,U.jsx)(W.Z,{item:ge}):(0,U.jsx)("div",{className:"display-title",children:ge.title})}),(0,U.jsxs)("div",{className:"image-info",children:[(0,U.jsx)(s.Z,{visible:!!ge.workspace&&void 0,overlayClassName:"workspace-profile-popover",content:ge.workspace?(0,U.jsx)(Re.Z,{info:ge,workspaceID:ge.workspace.id}):null,arrowPointAtCenter:!0,autoAdjustOverflow:!0,destroyTooltipOnHide:!0,mouseLeaveDelay:.1,placement:"bottomLeft",children:(0,U.jsxs)("div",{className:"image-info-avatar",children:[(0,U.jsx)(We.Z,{size:"32",username:ge.userName||"",avatarUrl:ge.userAvatar}),(0,U.jsx)("span",{className:"username",children:ge.userName})]})}),(0,U.jsx)("div",{className:"image-info-text",children:(0,U.jsxs)("div",{className:"extra-info",children:[(0,U.jsxs)("span",{className:"views",children:[(0,U.jsx)("span",{children:ge.views})," ",ge.views>1?"views":"view"]}),(0,U.jsx)("span",{className:"sep",children:"•"}),(0,U.jsx)("span",{className:"create-time",children:(0,T.p6)(ge.createdSec)})]})})]}),(0,U.jsxs)("div",{className:"image-action",children:[ge.sourceURL&&(!we||we&&ge.showSourceURL)&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(c.Z,{title:"",children:(0,U.jsxs)("div",{className:"image-action-btn text",ref:Ne,id:"user-guide-target--image-source-url",onClick:function(){return window.open(ge.sourceURL)},children:[(0,U.jsx)(F.Od,{}),"Source URL"]})}),Te&&(0,U.jsx)(lt.So,{onOk:Ye,onCancel:Ye,highlightRect:Ae})]}),we&&!1]})]})]}),we?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"sidebar-area",children:(0,U.jsxs)("div",{className:"shared-comment-container",children:[(0,U.jsx)("div",{className:"title",children:e.comments.length>1?"".concat(e.comments.length," Comments"):"".concat(e.comments.length," Comment")}),(0,U.jsx)(E.Z,{itemType:Ze.Z$.image,itemId:me,isOwner:parseInt(ge.userID)===e.userInfo.uid,shareKey:pe,goToSignIn:qe})]})}),Ie&&(0,U.jsx)("div",{className:"sidebar-area",children:(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section",children:(0,U.jsxs)("div",{className:"promo-box",children:[(0,U.jsx)(We.Z,{size:"48",username:ge.userName,avatarUrl:ge?ge.avatarURL:"",type:"circle",block:!0}),(0,U.jsx)("div",{className:"avatar-name",children:ge.userName}),(0,U.jsx)("div",{className:"text first",children:"shared this video with you via Awesome Screenshot , a popular tool for screen recording and capture."}),(0,U.jsx)("div",{className:"text",children:"Want to take and share a recording like this? Have a try. It's free!"}),(0,U.jsx)("div",{className:"install-btn",onClick:T.nV.bind(null,"video-shared-sidebar-click"),children:"Try It Now!"})]})})})})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"sidebar-area",children:(0,U.jsxs)(u.Z,{defaultActiveKey:ge.hasComment||ge.channel?"2":"1",centered:!0,children:[(0,U.jsx)(It,{tab:"Manage",children:(0,U.jsxs)(U.Fragment,{children:[(je||xe)&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)(_e.Z,{item:ge})}),je&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section tiny",children:(0,U.jsxs)("div",{className:"action-box",children:[(0,U.jsx)(Le,{url:ge.imageDownloadURI,title:ge.title,status:ge.statusName}),(0,U.jsxs)("div",{className:"action-item",onClick:function(){return function(e){if("Uploading"!==ge.statusName)switch(e){case"annotate":Oe("/image/annotate/"+ge.id,oe?{state:{isModal:!0}}:{state:{inApp:!0}});break;case"comment":window.location.href="/showImage?img_id="+ge.id;break;case"commentShare":window.location.href=ge.commentURL}else l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})}("annotate")},children:[(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(F.zJ,{})}),(0,U.jsx)("div",{className:"name",children:"Annotate"})]}),(0,U.jsx)(V,{info:ge,onDelete:function(){l.Z.confirm({title:"Are you sure you want to remove this item?",content:"",onOk:function(){ge.channel?re({workspaceID:ge.channel.workspaceID,channelID:ge.channel.id,itemID:ge.id,id:ge.channelItemId,itemType:ge.itemType}).then((function(){oe?ie():Oe("/workspace/"+ge.channel.workspaceID+"/"+ge.channel.id)})):X([ge])},okText:"Move to Trash",okType:"danger",onCancel:function(){}})},onDuplicate:function(){q.allowUploadImage?le(Q.info,(function(e){window.open("https://"+window.location.host+"/image/"+e)})):R(!0)}})]})})}),!we&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section",children:ge.shareURI?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"share-title-area",children:["Share Link",(0,U.jsx)("div",{className:"more",children:(0,U.jsx)(i.Z,{overlay:(0,U.jsxs)(a.Z,{children:[(0,U.jsx)(a.Z.Item,{children:(0,U.jsx)("div",{className:"revoke-btn",onClick:function(){l.Z.confirm({title:"Are you sure to revoke this shareable link?",okType:"danger",className:"revoke_config",content:(0,U.jsxs)("ul",{children:[(0,U.jsx)("li",{children:"Others cannot access the content after the shareable link is revoked."}),(0,U.jsx)("li",{children:"Create a new shareable link by going through the link generation process again."})]}),okText:"Yes, revoke",onOk:function(){e.revokeImageShareLinkAction(ge.id)}})},children:"Revoke shareable link"})},"revoke"),(0,U.jsx)(a.Z.Item,{children:(0,U.jsx)("div",{className:"revoke-btn",onClick:function(){(0,T.bw)(ge.shareURI)},children:"Get short URL"})},"tinyurl"),(0,U.jsx)(a.Z.Item,{children:(0,U.jsx)("div",{className:"revoke-btn",onClick:function(){H(!0)},children:"Source URL setting"})},"setting")]}),trigger:["click"],children:(0,U.jsx)(f.Z,{})})})]}),(0,U.jsx)("div",{className:"share-link-input",children:(0,U.jsx)(o.Z,{disabled:!0,value:ge.shareURI})}),(0,U.jsx)("div",{className:"button-area",children:(0,U.jsx)(r.Z,{type:"primary",block:!0,icon:n?(0,U.jsx)(m.Z,{}):(0,U.jsx)(F.TI,{}),className:n?"copy-btn copied":"copy-btn",onClick:function(e){(0,T.zp)(e),p(!0),setTimeout((function(){p(!1)}),1500)}.bind(this,ge.shareURI),children:n?"Copied!":"Copy Link"})}),(0,U.jsx)("div",{className:"sep"}),(0,U.jsx)("div",{className:"destination-area",children:(0,U.jsx)(Ke.Z,{dataURL:"fff",permissions:q,currentPlan:J,type:"image",tabUrl:ge.sourceURL,itemId:me,itemUrl:ge.shareURI})})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("h4",{children:"Share Your Image"}),(0,U.jsxs)("div",{className:"button-area",children:[(0,U.jsx)(r.Z,{className:"shareButton",onClick:function(){ue&&!de.steps.Share&&(z((0,I.YA)(I.Rg.Share)),(0,T.I1)("First time generate share link from image detail",{event_category:"userGuide"})),e.generateImageShareLinkAction(ge.id)},loading:Q.isGenerateShareLinkLoading,children:"Generate Shareable Link"}),(0,U.jsxs)("div",{className:"support-s",children:[(0,U.jsx)("div",{children:"Support:"}),(0,U.jsx)("div",{className:"s-container",children:Ze.SX.map((function(e){return(0,U.jsx)(c.Z,{title:e.displayName,children:(0,U.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})]})})}),e.hasSaveToCloudAccount&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section",children:(0,U.jsxs)("div",{className:"drive-area",children:[(0,U.jsx)(c.Z,{title:"Manage accounts",children:(0,U.jsx)("div",{className:"setting-btn",children:(0,U.jsx)(y.rU,{to:"/settings/connectedAccounts",children:(0,U.jsx)(h.Z,{})})})}),(0,U.jsx)("h4",{children:"Save to Cloud"}),(0,U.jsx)(st,{title:ge.title,itemUrl:ge.imageDownloadURI,user:e.user})]})})}),$e&&!1]})},"1"),(0,U.jsx)(It,{tab:"Comments".concat(ee.length?" (".concat(ee.length,")"):""),children:(0,U.jsx)("div",{className:"comment-area",children:(0,U.jsx)(E.Z,{itemType:Ze.Z$.image,itemId:me,isOwner:+ge.userID===e.userInfo.uid,shareKey:pe,isInChannel:!!ge.channel,channel:ge.channel,goToSignIn:qe})})},"2")]})}),ye&&!1]})]})})}),(0,U.jsx)(ze.Z,{unClosable:!x,visible:b,onCancel:function(){w(!1)},type:x?"image-alert":"image-view"}),(0,U.jsx)(ze.Z,{visible:_,onCancel:function(){R(!1)},type:"duplicate"}),(0,U.jsx)(N.Z,{isInApp:!!e.location&&e.location.state}),(0,U.jsx)(Y,{type:"image",username:ge.userName,visible:Xe,id:me}),(0,U.jsx)(yt,{visible:Z,id:ge.id,onCancel:function(){H(!1)}})]})})))},59349:(e,t,n)=>{var r=n(97168),o=n(73935),i=n(56262),a=n(39711),c=n(14890),s=n(29521),l=n.n(s),u=n(31955),d=n(71436),f=n(15322);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={workspaceID:"",channelID:"",folderID:"0",members:[],itemIDList:[],items:{},channelFoldersChildrenMap:{},channelFoldersMap:{},page:0,isLoading:!1,subPage:0,isSubPageLoading:!1,initialLoaded:!1,lastTimestamp:"",lasttimestampItemID:"",isEnd:!1,total:0,showPageCount:0,sort:u.Z.get("channel_sort")||"create",currentDisplayPage:0,scrollTop:0,isMemberLoading:!1};const g=(0,r.Lq)(y,(function(e){return e.addCase(d.$1,(function(e){e.isLoading=!0})).addCase(d.vI,(function(e){e.isLoading=!1})).addCase(d.tq,(function(e,t){var n=t.payload,r=n.items,o=n.workspaceID,i=n.currentDisplayPage,a=n.channelID,c=n.page,s=n.total;if(e.isLoading=!1,e.workspaceID=o,e.channelID=a,e.folderID=n.folderID,e.total=s,e.currentDisplayPage=i,null===r)e.itemIDList=[];else{e.itemIDList=r.map((function(e){return{itemType:e.itemType,id:e.itemID}}));var l=r[r.length-1],u="create"===e.sort?l.createdSec:l.updatedSec;e.items=Object.fromEntries(r.map((function(e){return[e.itemType+e.itemID,e]}))),e.isLoading=!1,e.page=c,e.lastTimestamp=u,e.lasttimestampItemID=l.id,e.showPageCount+=1,e.initialLoaded=!0,e.isEnd=!1,e.subPage=0}})).addCase(d.rd,(function(e){e.isSubPageLoading=!0})).addCase(d.sk,(function(e,t){var n=t.payload;if(e.isSubPageLoading=!1,null===n||null==e.itemIDList)e.isEnd=!0;else{var r,o=n[n.length-1],i="create"===e.sort?o.createdSec:o.updatedSec;n.length<20&&(e.isEnd=!0),Object.assign(e.items,Object.fromEntries(n.map((function(e){return[e.itemType+e.itemID,e]})))),e.lastTimestamp=i,e.lasttimestampItemID=o.id,(r=e.itemIDList).push.apply(r,h(n.map((function(e){return{itemType:e.itemType,id:e.itemID}})))),e.subPage+=1}})).addCase(d.BG,(function(e,t){var n,r=t.payload,o=r.workspaceID,i=r.channelID,a=r.items;i===e.channelID&&o===e.workspaceID&&(Object.assign(e.items,Object.fromEntries(a.map((function(e){return[e.itemType+e.itemID,e]})))),(n=e.itemIDList).unshift.apply(n,h(a.map((function(e){return{itemType:e.itemType,id:e.itemID}})))))})).addCase(d.R1,(function(e){e.isMemberLoading=!0})).addCase(d.qI,(function(e,t){var n=t.payload;e.members=n,e.isMemberLoading=!1})).addCase(d.Q6,(function(e,t){var n=t.payload;e.sort=n})).addCase(d.OM,(function(e,t){e.scrollTop=t.payload})).addCase(d.QT,(function(e,t){var n=t.payload,r=e.members.find((function(e){return"owner"===e.role}));r&&(r.role="member");var o=e.members.find((function(e){return e.userID===n}));o&&(o.role="owner")})).addCase(d.px,(function(e,t){var n=t.payload,r=e.members.findIndex((function(e){return e.userID===n}));-1!==r&&e.members.splice(r,1)})).addCase(d.Cc,(function(e,t){var n,r=t.payload;(n=e.members).push.apply(n,h(Object.values(r)))})).addCase(d.I5,(function(e,t){var n=t.payload,r=n.id,o=n.itemType,i=n.name,a=e.items[o+r];a&&(a.info.title=i)})).addCase(d.lk,(function(e,t){var n=t.payload,r=n.id,o=n.item,i=n.itemType,a=e.items[i+r];a&&Object.assign(a.info,o)})).addCase(d.MY,(function(e,t){var n=Array.isArray(t.payload)?t.payload:[t.payload];e.itemIDList=l()(e.itemIDList,n,(function(e,t){return e.itemType+e.id===t}))})).addCase(d.A3,(function(e){e.page=0})).addCase(d.vs,(function(e,t){var n=t.payload;e.itemIDList=l()(e.itemIDList,n,(function(e,t){return e.itemType===t.itemType&&String(e.id)===String(t.id)}))})).addCase(d.tK,(function(e,t){var n=t.payload,r=n.id,o=n.info,i=e.items["video"+r];i&&(i.info=o)})).addCase(f.U5,(function(e,t){var n=t.payload,r=e.items["image"+n];r&&(r.info.useName="")})).addCase(d.uo,(function(e,t){var n,r,o,i,a=t.payload,c=a.workspaceID,s=a.channelID,l=a.folders;(null!==(r=(n=e.channelFoldersChildrenMap)[c])&&void 0!==r?r:n[c]={})[s]={folders:Object.fromEntries(Object.entries(l).map((function(e){var t=m(e,2);return[t[0],{children:t[1],isLoading:!1,isLoaded:!0}]}))),isLoading:!1,isLoaded:!0},(null!==(i=(o=e.channelFoldersMap)[c])&&void 0!==i?i:o[c]={})[s]=Object.fromEntries(Object.values(l).flatMap((function(e){return e.map((function(e){return[e.folderID,e]}))})))})).addCase(d.eW,(function(e,t){var n,r,o=t.payload,i=o.id,a=i.workspaceID,c=i.channelID,s=i.folderID,l=o.folder,u=null===(n=e.channelFoldersMap[a])||void 0===n||null===(r=n[c])||void 0===r?void 0:r[s];if(u){var d,f,m,h=null===(d=e.channelFoldersChildrenMap[a])||void 0===d||null===(f=d[c])||void 0===f||null===(m=f.folders[u.parentID||"0"])||void 0===m?void 0:m.children,p=null==h?void 0:h.find((function(e){return e.folderID===s}));p&&Object.assign(p,l),Object.assign(u,l)}})).addCase(d.q,(function(e,t){var n,r,o,i,a,c,s,l,u,d,f,m,h,p,v,y,g,b,w,j,x,S,I,O=t.payload;((null!==(o=(n=null!==(c=(i=e.channelFoldersMap)[a=O.workspaceID])&&void 0!==c?c:i[a]={})[r=O.channelID])&&void 0!==o?o:n[r]={})[O.folderID]=O,(null!==(u=(s=(null!==(m=(d=null!==(v=(h=e.channelFoldersChildrenMap)[p=O.workspaceID])&&void 0!==v?v:h[p]={})[f=O.channelID])&&void 0!==m?m:d[f]={isLoading:!1,isLoaded:!0,folders:{}}).folders)[l=O.parentID])&&void 0!==u?u:s[l]={children:[],isLoading:!1,isLoaded:!0}).children.push(O),null!==(y=e.channelFoldersChildrenMap[O.workspaceID])&&void 0!==y&&null!==(g=y[O.channelID])&&void 0!==g&&g.folders[O.folderID])||((null!==(j=(b=null!==(I=(x=e.channelFoldersChildrenMap)[S=O.workspaceID])&&void 0!==I?I:x[S]={})[w=O.channelID])&&void 0!==j?j:b[w]={isLoaded:!0,isLoading:!1,folders:{}}).folders[O.folderID]={children:[],isLoaded:!0,isLoading:!1})})).addCase(d.G5,(function(e,t){var n,r,o=t.payload,i=o.workspaceID,a=o.folderID,c=o.channelID,s=null===(n=e.channelFoldersMap[i])||void 0===n||null===(r=n[c])||void 0===r?void 0:r[a];if(s){var l,u,d,f,m,h=null===(l=e.channelFoldersChildrenMap[i])||void 0===l||null===(u=l[c])||void 0===u||null===(d=u.folders[s.parentID])||void 0===d?void 0:d.children,p=null==h?void 0:h.findIndex((function(e){return e.id===s.id}));(null!=p?p:-1)>=0&&h.splice(p,1),null===(f=e.channelFoldersMap[i])||void 0===f||(null===(m=f[c])||void 0===m||delete m[a])}})).addCase(d.d_,(function(e,t){var n,r,o,i,a=t.payload,c=a.idParams,s=c.workspaceID,l=c.channelID,u=a.status;Object.assign(null!==(r=(n=null!==(i=(o=e.channelFoldersChildrenMap)[s])&&void 0!==i?i:o[s]={})[l])&&void 0!==r?r:n[l]={isLoading:!1,isLoaded:!1,folders:{}},u)})).addCase(d.qJ,(function(e){e.page=0}))}));var b,w=n(97882);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=(0,r.Lq)({isLoading:!1,isCreating:!1,isCreateSuccess:!1,comments:{},userList:[],isUserListLoading:!1},(S(b={},w.a.COMMENT_LOADING,(function(e){e.isLoading=!0})),S(b,w.a.COMMENT_CREATING,(function(e){e.isCreateSuccess=!1,e.isCreating=!0})),S(b,w.a.COMMENT_CREATE_FAILED,(function(e){e.isCreating=!1})),S(b,w.a.COMMENT_LOADED,(function(e,t){e.isLoading=!1;var n=t.payload,r=n.itemType,o=n.itemId,i=n.data;e.comments[r+o]=i})),S(b,w.a.COMMENT_USER_LIST_LOADING,(function(e){e.isUserListLoading=!0})),S(b,w.a.COMMENT_USER_LIST_LOADED,(function(e,t){e.userList=t.payload,e.isUserListLoading=!1})),S(b,w.a.COMMENT_CREATED,(function(e,t){var n=t.payload,r=n.itemType,o=n.itemId,i=n.data;e.comments[r+o]||(e.comments[r+o]=[]),e.comments[r+o].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({animation:!!i.isEmoji},i)),e.isCreating=!1,e.isCreateSuccess=!0})),S(b,w.a.COMMENT_REMOVED,(function(e,t){var n=t.payload,r=n.itemType,o=n.itemId,i=n.id;e.comments[r+o]=e.comments[r+o].filter((function(e){return e.id!==i}))})),S(b,w.a.COMMENT_REMOVE_ANIMATION,(function(e,t){var n=t.payload,r=n.itemType,o=n.itemId,i=n.id,a=e.comments[r+o].findIndex((function(e){return e.id===i}));e.comments[r+o][a].animation=!1})),S(b,w.a.COMMENT_REMOVE_MENTIONED,(function(e,t){var n=t.payload,r=n.itemType,o=n.itemId,i=n.id,a=e.comments[r+o].findIndex((function(e){return e.id===i}));e.comments[r+o][a].isMention=0})),b));var O;function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function N(e,t,n){return t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=(0,r.Lq)({isLoading:!1,accounts:[]},(N(O={},w.a.CONNECTED_ACCOUNT_LOAD_DOING,(function(e){e.isLoading=!0})),N(O,w.a.CONNECTED_ACCOUNT_LOAD_RECEIVED,(function(e,t){e.isLoading=!1,e.accounts=t.payload.accounts||[]})),N(O,w.a.CONNECTED_ACCOUNT_SUCCESS,(function(e,t){e.accounts.unshift(t.payload.account)})),N(O,w.a.CONNECTED_ACCOUNT_DELETED,(function(e,t){var n=e.accounts.findIndex((function(e){return e.id===t.payload.accountID}));e.accounts.splice(n,1)})),O));var A;function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t,n){return t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=(0,r.Lq)({isLoading:!1,destinations:[],screenshotsMap:{},videosMap:{}},(P(A={},w.a.DESTINATIONS_LOAD_DOING,(function(e){e.isLoading=!0})),P(A,w.a.DESTINATIONS_LOAD_RECEIVED,(function(e,t){e.isLoading=!1,e.destinations=t.payload.destinations||[]})),P(A,w.a.DESTINATION_CREATED,(function(e,t){var n=t.payload.destination,r=n.id,o=e.destinations.findIndex((function(e){return e.id===r}));o<0?e.destinations.unshift(n):e.destinations.splice(o,1,n)})),P(A,w.a.DESTINATION_DELETED,(function(e,t){var n=t.payload.destination.id,r=e.destinations.findIndex((function(e){return e.id===n}));e.destinations.splice(r,1)})),P(A,w.a.DESTINATION_PRIVACY_CHANGED,(function(e,t){var n=t.payload.destination.id,r=e.destinations.findIndex((function(e){return e.id===n}));e.destinations[r]=t.payload.destination})),P(A,w.a.DESTINATION_LOAD_SCREENSHOTS_RECEIVED,(function(e,t){var n,r,o=t.payload,i=o.destinationID,a=o.screenshots,c=o.currentPage,s=o.total,l=o.limit,u=(null===(n=e.screenshotsMap[i])||void 0===n||null===(r=n.screenshot)||void 0===r?void 0:r.screenshots)||[],d=a.concat(u);e.screenshotsMap=P({},i,{currentPage:c,total:s,limit:l,screenshots:d})})),P(A,w.a.DESTINATION_LOAD_VIDEOS_RECEIVED,(function(e,t){var n,r,o=t.payload,i=o.destinationID,a=o.videos,c=o.currentPage,s=o.total,l=o.limit,u=(null===(n=e.videosMap[i])||void 0===n||null===(r=n.video)||void 0===r?void 0:r.videos)||[],d=a.concat(u);e.videosMap=P({},i,{currentPage:c,total:s,limit:l,videos:d})})),A));var T=n(13264);function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const R=(0,r.Lq)([],(function(e){return e.addCase(T.WH,(function(e,t){var n=t.payload;e.push(n)})).addCase(T.qT,(function(e,t){var n=t.payload,r=n.id,o=e.find((function(e){return e.id===r}));o&&Object.assign(o,n)})).addCase(T.H4,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n}));r>=0&&(clearTimeout(e[r].retryTimer),e.splice(r,1))})).addCase(T.tH,(function(e){var t,n=L(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.retryTimer;clearTimeout(r)}}catch(e){n.e(e)}finally{n.f()}e.length=0}))}));var M;function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function F(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=(0,r.Lq)({folders:{},starredFolderIDList:[],isLoading:!1,folderIDList:{},loaded:!1,isGeneratingShareUrl:!1,myItemSort:""},(V(M={},w.a.FOLDER_LOAD,(function(e,t){var n=t.payload,r=n.folders,o=n.favoriteFolders,i=n.sort,a={},c=G({},e.folders),s=function(e){a[e]=[],r[e].forEach((function(t){a[e].push(t.folderID),c[t.folderID]=t}))};for(var l in r)s(l);return G(G({},e),{},{isLoading:!1,starredFolderIDList:o,folders:c,folderIDList:a,loaded:!0,myItemSort:i})})),V(M,w.a.FOLDER_RECEIVED,(function(e,t){var n=t.payload.folders,r=G({},e.folders);return n.forEach((function(e){r[e.folderID]=G({name:e.title||e.name,id:e.folderID,itemType:"folder"},e)})),G(G({},e),{},{folders:r})})),V(M,w.a.FOLDER_LOADING,(function(e){return G(G({},e),{},{isLoading:!0})})),V(M,w.a.FOLDER_CREATE,(function(e,t){var n=t.payload;n=G(G({},n),{},{id:n.folderID,title:n.name,itemType:"folder"});var r=e.folderIDList;r[n.parentID]||(r[n.parentID]=[]),r[n.parentID].unshift(n.folderID),e.folders=G(G({},e.folders),{},V({},n.folderID,n))})),V(M,w.a.FOLDER_MOVE,(function(e,t){var n=t.payload,r=n.folderID,o=n.folders,i=e.folders,a=e.folderIDList;o.forEach((function(t){var n=t.parentID?t.parentID:e.folders[t.id].parentID;a[n]=a[n].filter((function(e){return e!==t.id})),a[r]||(a[r]=[]),a[r].unshift(t.id),i[e.folders[t.id].folderID].parentID=r}))})),V(M,w.a.FOLDER_RENAME,(function(e,t){var n,r,o=t.payload,i=o.folderID,a=o.name;Object.assign(null!==(r=(n=e.folders)[i])&&void 0!==r?r:n[i]={},{title:a,name:a})})),V(M,w.a.FOLDER_EDIT_DESC,(function(e,t){var n=t.payload,r=n.folderID,o=n.desc;e.folders[r].description=o})),V(M,w.a.FOLDER_GETTING_SHARE_LINK,(function(e){e.isGeneratingShareUrl=!0})),V(M,w.a.FOLDER_GET_SHARE_LINK,(function(e,t){var n=t.payload,r=n.folderID,o=n.shareKey;e.folders[r].shareKey=o,e.isGeneratingShareUrl=!1})),V(M,w.a.FOLDER_REVOKE_SHARE_LINK,(function(e,t){var n=t.payload;e.folders[n].shareKey=""})),V(M,w.a.FOLDER_DELETE,(function(e,t){var n=t.payload.folders,r=G({},e.folderIDList),o=F(e.starredFolderIDList);function i(t){var n=e.folderIDList[t];n&&n.forEach(i),o=o.filter((function(e){return e!==t}))}return n.forEach((function(t){var n=t.parentID?t.parentID:e.folders[t.id].parentID;r[n]&&(r[n]=r[n].filter((function(e){return e!==t.id})))})),n.forEach((function(e){i(e.id)})),G(G({},e),{},{folderIDList:r,starredFolderIDList:o})})),V(M,w.a.STAR_FOLDER_UPDATE,(function(e,t){var n=t.payload;e.starredFolderIDList=n.split(",")})),V(M,w.a.STAR_FOLDER_REMOVE,(function(e,t){var n=t.payload;e.starredFolderIDList=e.starredFolderIDList.filter((function(e){return e!==n}))})),V(M,w.a.STAR_FOLDER_DELETE,(function(e,t){t.payload.folders.forEach((function t(n){var r=e.folderIDList[n];r&&r.forEach(t),e.starredFolderIDList=e.starredFolderIDList.filter((function(e){return e!==n}))}))})),V(M,w.a.FOLDER_CHANGE_SORT,(function(e,t){var n=t.payload,r=n.folderID,o=n.sort;if("0"===r)e.myItemSort=o;else{var i=e.folders[r];i&&(i.sort=o)}})),M));var W;function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function K(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t=function(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={images:{},sort:u.Z.get("image_sort")||"create",scrollTop:0,page:0,activeImages:{isLoading:!1,isSubPageLoading:!1,subPage:0,isEnd:!1,imageIDList:[],totalCount:0,lastTimestamp:"",pageSize:0,page:0},inactiveImages:{isLoading:!1,imageIDList:[],totalCount:0,pageSize:0,page:0}};const $=(0,r.Lq)(X,(J(W={},w.a.IMAGE_LIST_LOAD,(function(e,t){var n=t.payload,r=n.images,o=n.page,i=n.total;if(null==r)return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isSubPageLoading:!1,imageIDList:null,isLoading:!1,page:o})});var a=r.map((function(e){return e.id})),c=q({},e.images);r.forEach((function(e){c[e.id]={isLoading:!1,info:e}}));var s="create"===e.sort?r[r.length-1].createdSec:r[r.length-1].updatedSec;return q(q({},e),{},{images:c,scrollTop:0,page:o,activeImages:q(q({},e.activeImages),{},{imageIDList:a,lastTimestamp:s,isSubPageLoading:!1,page:o,isEnd:!1,subPage:0,isLoading:!1,totalCount:i})})})),J(W,w.a.IMAGE_LIST_LOAD_MORE,(function(e,t){var n=t.payload.images;if(null===n)return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isSubPageLoading:!1,isEnd:!0})});var r=n.map((function(e){return e.id})),o=q({},e.images);n.forEach((function(e){o[e.id]={isLoading:!1,info:e}}));var i="create"===e.sort?n[n.length-1].createdSec:n[n.length-1].updatedSec;return q(q({},e),{},{images:o,activeImages:q(q({},e.activeImages),{},{imageIDList:[].concat(K(e.activeImages.imageIDList),K(r)),lastTimestamp:i,isSubPageLoading:!1,subPage:e.activeImages.subPage+1})})})),J(W,w.a.IMAGE_LIST_LOADING,(function(e){return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isLoading:!0})})})),J(W,w.a.IMAGE_LIST_SUB_LOADING,(function(e){return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isSubPageLoading:!0})})})),J(W,w.a.IMAGE_SCROLL_UPDATE,(function(e,t){var n=t.payload;return q(q({},e),{},{scrollTop:n})})),J(W,w.a.IMAGE_RECEIVED,(function(e,t){var n=t.payload.images,r=q({},e.images);return n.forEach((function(e){r[e.id]={isLoading:!1,info:e}})),q(q({},e),{},{images:r})})),J(W,w.a.IMAGE_DELETE,(function(e,t){var n=t.payload,r=q({},e.images),o=e.activeImages.imageIDList.slice(),i=n.map((function(e){return e.id}));return o=o.filter((function(e){return-1===i.indexOf(e)})),n.forEach((function(e){delete r[e.id]})),q(q({},e),{},{images:r,activeImages:q(q({},e.activeImages),{},{imageIDList:o,totalCount:e.activeImages.totalCount-n.length})})})),J(W,w.a.IMAGE_ADD,(function(e,t){var n=t.payload.images,r=e.images;if(n.forEach((function(e){r[e.id]={isLoading:!1,info:q({},e)}})),1===e.activeImages.page)if(e.inactiveImages.imageIDList.length){var o=e.activeImages.imageIDList||[],i=e.inactiveImages.imageIDList||[],a=[],c=[];n.forEach((function(e){a.unshift(e.id),c.unshift(o.pop())})),e.activeImages.imageIDList=[].concat(a,K(o)),e.inactiveImages.imageIDList=[].concat(c,K(i)),e.activeImages.totalCount=e.totalCount+n.length}else{var s=e.activeImages.imageIDList||[];n.forEach((function(e){s.unshift(e.id)})),e.activeImages.imageIDList=[].concat([],K(s)),e.activeImages.totalCount=e.activeImages.totalCount+n.length}})),J(W,w.a.IMAGE_MOVE,(function(e,t){var n=t.payload,r=n.folderID,o=n.images,i=n.folderName,a=q({},e.images);return o.forEach((function(e){a[e.id]=q(q({},a[e.id]),{},{info:q(q({},a[e.id].info),{},{folderID:r,folderName:i})})})),q(q({},e),{},{images:a})})),J(W,w.a.IMAGE_CHANGE_SORT,(function(e,t){var n=t.payload;return q(q({},e),{},{sort:n})})),J(W,w.a.IMAGE_RENAME,(function(e,t){var n=t.payload,r=n.id,o=n.name;return q(q({},e),{},{images:q(q({},e.images),{},J({},r,q(q({},e.images[r]),{},{info:q(q({},e.images[r].info),{},{title:o})})))})})),J(W,w.a.IMAGE_SHARE_SETTING,(function(e,t){var n=t.payload,r=n.id,o=n.showSourceUrl;return q(q({},e),{},{images:q(q({},e.images),{},J({},r,q(q({},e.images[r]),{},{info:q(q({},e.images[r].info),{},{showSourceURL:o})})))})})),J(W,w.a.IMAGE_INFO_LOAD,(function(e,t){var n=t.payload,r=n.id,o=n.image;return q(q({},e),{},{images:q(q({},e.images),{},J({},r,q(q({},e.images[r]),{},{isLoading:!1,info:o||{},loaded:!0})))})})),J(W,w.a.IMAGE_INFO_LOADING,(function(e,t){var n=t.payload;return q(q({},e),{},{images:q(q({},e.images),{},J({},n,q(q({},e.images[n]),{},{isLoading:!0})))})})),J(W,w.a.IMAGE_PAGE_UPDATE,(function(e){return q(q({},e),{},{page:-1})})),J(W,w.a.IMAGE_GENERATE_SHARE_LINK_LOADING,(function(e,t){var n=e.images[t.payload.id];return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},n),{},{isGenerateShareLinkLoading:!0})))})})),J(W,w.a.IMAGE_GENERATE_SHARE_LINK_FAILED,(function(e,t){var n=e.images[t.payload.id];return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},n),{},{isGenerateShareLinkLoading:!1})))})})),J(W,w.a.IMAGE_GENERATE_SHARE_LINK,(function(e,t){var n=e.images[t.payload.id];return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},n),{},{isGenerateShareLinkLoading:!1,info:q(q({},n.info),{},{shareURI:t.payload.shareURI,shareKey:t.payload.shareKey})})))})})),J(W,w.a.IMAGE_REVOKE_SHARE_LINK,(function(e,t){return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},e.images[t.payload.id]),{},{isGenerateShareLinkLoading:!1,info:q(q({},e.images[t.payload.id].info),{},{shareURI:""})})))})})),J(W,w.a.IMAGE_LIST_RESTORE,(function(e){return q(q({},e),{},{page:-1,activeImages:q(q({},e.activeImages),{},{page:-1})})})),J(W,w.a.IMAGE_MOVE_TO_CHANNEL,(function(e,t){t.payload.forEach((function(t){e.images[t.id]&&(e.images[t.id].info=t)}))})),J(W,w.a.IMAGE_ANNOTATED,(function(e,t){var n=t.payload;e.images[n]&&(e.images[n].info.userName="")})),J(W,w.a.ITEM_LOADED_RESET,(function(e){for(var t in e.images)e.images[t].loaded&&(e.images[t].loaded=!1)})),W));var ee;function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ce=(0,r.Lq)({isLoading:!1,isSubPageLoading:!1,isScrollLoading:!1,itemIDList:[],page:0,sort:"",scrollTop:0,total:0,lastTimestamp:"",subPage:1,folderID:0,showPageCount:0,initialLoaded:!1,isEnd:!1,isShowItemView:!1,currentViewItem:{itemType:"",id:""},isShared:!1},(ae(ee={},w.a.ITEM_LIST_LOAD,(function(e,t){var n=t.payload,r=n.items,o=n.page,i=n.folderID,a=n.total,c=n.isShared,s=n.sort;if(null===r)return ie(ie({},e),{},{itemIDList:null,isLoading:!1,folderID:i,total:0,sort:s,page:o,subPage:0,isSubPageLoading:!1,scrollTop:0,isEnd:!1,isShared:c});var l=r.map((function(e){return{itemType:e.itemType||e.ItemType,id:e.id}})),u="create"===s?r[r.length-1].createdSec:r[r.length-1].updatedSec;return ie(ie({},e),{},{itemIDList:l,isLoading:!1,page:o,folderID:i,subPage:1,scrollTop:0,sort:s,isEnd:!1,total:a,isScrollLoading:!1,lastTimestamp:u,showPageCount:e.showPageCount+1,initialLoaded:!0,isShared:c})})),ae(ee,w.a.ITEM_LIST_LOAD_MORE,(function(e,t){var n=t.payload.items;if(null===n||null===e.itemIDList)return ie(ie({},e),{},{isSubPageLoading:!1,isEnd:!0});var r=n.map((function(e){return{itemType:e.itemType||e.ItemType,id:e.id}})),o="create"===e.sort?n[n.length-1].createdSec:n[n.length-1].updatedSec;return ie(ie({},e),{},{lastTimestamp:o,itemIDList:[].concat(ne(e.itemIDList),ne(r)),isSubPageLoading:!1,subPage:e.subPage+1,isEnd:n.length<20})})),ae(ee,w.a.ITEM_LIST_LOADING,(function(e){return ie(ie({},e),{},{isLoading:!0})})),ae(ee,w.a.ITEM_SUB_LOADING,(function(e){return ie(ie({},e),{},{isSubPageLoading:!0})})),ae(ee,w.a.ITEM_SHOW_PAGE_COUNT_RESTORE,(function(e){return ie(ie({},e),{},{showPageCount:1})})),ae(ee,w.a.ITEM_SHOW_PAGE_COUNT_ADD,(function(e){return ie(ie({},e),{},{showPageCount:e.showPageCount+1})})),ae(ee,w.a.ITEM_VIEW_SHOW,(function(e){return ie(ie({},e),{},{isShowItemView:!0})})),ae(ee,w.a.ITEM_VIEW_HIDE,(function(e){return ie(ie({},e),{},{isShowItemView:!1})})),ae(ee,w.a.ITEM_MOVE,(function(e,t){var n=t.payload.items,r=e.itemIDList;if(null===r)return ie({},e);var o=r.slice(),i=n.map((function(e){return e.id}));return o=r.filter((function(e){return-1===i.indexOf(e.id)})),ie(ie({},e),{},{itemIDList:o})})),ae(ee,w.a.ITEM_DELETE,(function(e,t){var n=t.payload.items,r=e.itemIDList;if(null===r)return ie({},e);var o=n.map((function(e){return e.id}));return r=r.filter((function(e){return-1===o.indexOf(e.id)})),ie(ie({},e),{},{itemIDList:r})})),ae(ee,w.a.ITEM_CHANGE_SORT,(function(e,t){var n=t.payload;return ie(ie({},e),{},{sort:n})})),ae(ee,w.a.ITEM_UPDATE_SCROLL,(function(e,t){var n=t.payload;return ie(ie({},e),{},{scrollTop:n})})),ae(ee,w.a.ITEM_ADD,(function(e,t){var n=t.payload,r=n.folderID,o=n.items;if(String(r)===e.folderID){var i=o.map((function(e){return{itemType:e.itemType||e.ItemType,id:e.id}})),a=null==e.itemIDList?[]:e.itemIDList.slice();return ie(ie({},e),{},{itemIDList:[].concat(ne(i),ne(a))})}return ie({},e)})),ae(ee,w.a.ITEM_LIST_RESTORE,(function(e){return ie(ie({},e),{},{page:0})})),ee));var se=n(45826);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===le(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me={selectedItems:[],selectedTrashItems:[],meta:void 0};const he=(0,r.Lq)(me,(function(e){return e.addCase(se.ah,(function(e,t){var n=t.payload,r=n.info,o=n.meta;e.selectedItems.push(de(de({},r),{},{folderID:r.parentID||r.folderID})),e.meta=o})).addCase(se.Qd,(function(e,t){var n=t.payload.info;e.selectedItems=e.selectedItems.filter((function(e){var t=e.id;return e.itemType!==n.itemType||t!==n.id}))})).addCase(se.oT,(function(e,t){var n=t.payload.id;e.selectedTrashItems.push({id:n})})).addCase(se.Pj,(function(e,t){var n=t.payload.id;e.selectedTrashItems=e.selectedTrashItems.filter((function(e){return e.id!==n}))})).addCase(se.jh,(function(e){e.selectedItems.length=0,e.selectedTrashItems.length=0,e.meta=void 0}))}));var pe;function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ye(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ve(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=(0,r.Lq)({users:{},notifications:[],isLoading:!1},(ye(pe={},w.a.NOTIFICATION_LOADING,(function(e){e.isLoading=!0})),ye(pe,w.a.NOTIFICATION_LOAD,(function(e,t){var n=t.payload,r=n.notifications,o=n.users;e.notifications=r,e.users=o,e.isLoading=!1})),ye(pe,w.a.NOTIFICATION_MARK_AS_READ,(function(e,t){var n=t.payload;e.notifications.forEach((function(t,r){t.id===n&&(e.notifications[r].status="read")}))})),ye(pe,w.a.NOTIFICATION_ALL_MARK_AS_READ,(function(e){e.notifications.forEach((function(t,n){e.notifications[n].status="read"}))})),pe));function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===be(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Se=(0,r.Lq)({isLoading:!0,plans:{}},xe({},w.a.PLANS_LOAD_RECEICED,(function(e,t){return je(je({},e),{},{isLoading:!1,plans:t.payload.data})})));var Ie;function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ee(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Oe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pe=(0,r.Lq)({isLoading:!1,items:[],isMetaLoaded:!1,page:1,itemIDList:[],folderIDList:[],isItemLoading:!1,query:"",scrollTop:0},(Ce(Ie={},w.a.SEARCH_LOAD,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{items:n||[],isLoading:!1,isMetaLoaded:!0})})),Ce(Ie,w.a.SEARCH_LOADING,(function(e,t){return Ae(Ae({},e),{},{isLoading:!0})})),Ce(Ie,w.a.SEARCH_ITEM_LOAD,(function(e,t){var n=t.payload,r=n.items,o=n.folders,i=n.query,a=o.map((function(e){return e.folderID})),c=r.map((function(e){return{id:e.id,itemType:e.itemType}}));return Ae(Ae({},e),{},{query:i,folderIDList:a,itemIDList:c,isItemLoading:!1})})),Ce(Ie,w.a.SEARCH_ITEM_LOADING,(function(e,t){return Ae(Ae({},e),{},{isItemLoading:!0})})),Ce(Ie,w.a.SEARCH_PAGE_CHANGE,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{page:n})})),Ce(Ie,w.a.SEARCH_SCROLL_UPDATE,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{scrollTop:n})})),Ce(Ie,w.a.SEARCH_QUERY_UPDATE,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{query:n})})),Ce(Ie,w.a.SEARCH_ITEM_DELETE,(function(e,t){var n=t.payload,r=e.folderIDList,o=e.itemIDList,i=[],a=[];return n.forEach((function(e){"folder"===e.itemType?i.push(e.id):a.push(e.id)})),r=r.filter((function(e){return-1===i.indexOf(e)})),o=o.filter((function(e){return-1===a.indexOf(e.id)})),Ae(Ae({},e),{},{folderIDList:r,itemIDList:o})})),Ce(Ie,w.a.SEARCH_META_DELETE,(function(e,t){var n=t.payload.map((function(e){return e.id+e.itemType})),r=e.items.filter((function(e){return-1===n.indexOf(e.id+e.itemType)}));return Ae(Ae({},e),{},{items:r})})),Ce(Ie,w.a.SEARCH_META_ADD,(function(e,t){var n=t.payload.map((function(e){return{id:e.id,title:e.title,createdSec:e.createdSec,itemType:e.itemType}}));return Ae(Ae({},e),{},{items:[].concat(Ee(n),Ee(e.items))})})),Ce(Ie,w.a.SEARCH_META_RENAME,(function(e,t){var n=t.payload,r=n.id,o=n.itemType,i=n.name;e.items.forEach((function(e){e.id===r&&e.itemType===o&&(e.title=i)}))})),Ie));var ke,Te=n(67618);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Le(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ze=(0,r.Lq)({isLoading:!1,isFolderLoading:!1,isSubPageLoading:!1,isScrollLoading:!1,page:0,subPage:0,scrollTop:0,total:0,lastTimestamp:"",folderList:[],sharedIDList:[],sharedItems:{},showPageCount:0,initialLoaded:!1,isEnd:!1,newCommentList:[],newCommentTotal:0,currentDisplayPage:0},(Me(ke={},w.a.SHARED_FOLDER_LOADING,(function(e){e.isFolderLoading=!0})),Me(ke,w.a.SHARED_FOLDER_LIST_LOAD,(function(e,t){var n=t.payload.folders;e.isFolderLoading=!1,e.folderList=n})),Me(ke,w.a.SHARED_LIST_LOADING,(function(e){e.isLoading=!0})),Me(ke,w.a.SHARED_LIST_LOAD,(function(e,t){var n=t.payload,r=n.items,o=n.total,i=n.page,a=n.currentDisplayPage;if(e.isLoading=!1,e.page=i,e.currentDisplayPage=a,e.total=o,null===r)e.sharedIDList=[];else{var c=r.map((function(e){return{itemType:e.itemType,id:e.id}})),s={};r.forEach((function(e){s[e.itemType+e.id]=e})),e.sharedIDList=c,e.sharedItems=s,e.lastTimestamp=r[r.length-1].updatedSec,e.showPageCount=e.showPageCount+1,e.initialLoaded=!0,e.isEnd=!1,e.subPage=0}})),Me(ke,w.a.SHARED_SUB_LOADING,(function(e){e.isSubPageLoading=!0})),Me(ke,w.a.SHARED_LIST_LOAD_MORE,(function(e,t){var n=t.payload;if(e.isSubPageLoading=!1,null===n||null==e.sharedIDList)e.isEnd=!0;else{var r=n.map((function(e){return{itemType:e.itemType,id:e.id}})),o={};n.forEach((function(e){o[e.itemType+e.id]=e})),n.length<20&&(e.isEnd=!0),e.sharedItems=Re(Re({},e.sharedItems),o),e.sharedIDList=e.sharedIDList.concat(r),e.subPage+=1}})),Me(ke,w.a.SHARED_NOTI_LOAD,(function(e,t){var n=t.payload;e.newCommentList=n,e.sharedIDList=e.sharedIDList.filter((function(e){return!(0,Te.wD)(e,n)})),n.forEach((function(t){e.sharedItems[t.itemType+t.id]=t}));for(var r=n.length-1;r>=0;r--)e.sharedIDList.unshift({itemType:n[r].itemType,id:n[r].id})})),Me(ke,w.a.SHARED_NEW_COMMENTS_VIEWED,(function(e,t){var n=t.payload.itemType;e.newCommentList=e.newCommentList.filter((function(e){e.itemType!==n&&(e.id,e.id)}))})),Me(ke,w.a.SHARED_LIST_ADD,(function(e,t){var n=t.payload;e.sharedIDList.unshift({itemType:n.itemType,id:n.id}),e.sharedItems[n.itemType+n.id]=n})),Me(ke,w.a.SHARED_LIST_DELETE,(function(e,t){var n=t.payload;e.sharedIDList=e.sharedIDList.filter((function(e){var t=n.findIndex((function(t){return t.itemType===e.itemType&&t.id===e.id}));return-1===t})),e.newCommentList=e.newCommentList.filter((function(e){var t=n.findIndex((function(t){return t.itemType===e.itemType&&t.id===e.id}));return-1===t}))})),Me(ke,w.a.SHARED_LIST_RESTORE,(function(e){e.page=0})),Me(ke,w.a.SHARED_TITLE_EDIT,(function(e,t){var n=t.payload,r=n.id,o=n.itemType,i=n.name;e.sharedItems[o+r]&&(e.sharedItems[o+r].title=i)})),Me(ke,w.a.SHARED_UPDATE_SCROLL,(function(e,t){e.scrollTop=t.payload})),ke));var Fe;function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ue(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Be=(0,r.Lq)({isMemberLoading:!1,info:{},members:[],joinStat:{doing:!0,success:!0,message:""}},(Ve(Fe={},w.a.TEAM_INFO_LOAD_RECEIVED,(function(e,t){return Ge(Ge({},e),{},{info:t.payload.info||{}})})),Ve(Fe,w.a.TEAM_MEMBER_LOAD_DOING,(function(e,t){return Ge(Ge({},e),{},{isMemberLoading:!0})})),Ve(Fe,w.a.TEAM_MEMBER_LOAD_RECEIVED,(function(e,t){return Ge(Ge({},e),{},{isMemberLoading:!1,members:t.payload.members||[]})})),Ve(Fe,w.a.TEAM_MEMBER_REMOVED,(function(e,t){var n=t.payload.userID,r=e.members.findIndex((function(e){return e.userID===n})),o=e.members.slice(0);return o.splice(r,1),Ge(Ge({},e),{},{members:o})})),Ve(Fe,w.a.TEAM_JOIN_DONE,(function(e,t){return Ge(Ge({},e),{},{info:t.payload.info||e.info,joinStat:{doing:!1,success:t.payload.success,message:t.payload.message}})})),Fe));var We;function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ze(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qe=(0,r.Lq)({isLoading:!1,trashItems:{},isScrollLoading:!1,itemIDList:[],page:1,subPage:0,initialLoaded:!1,isEnd:!1},(Qe(We={},w.a.TRASH_LOAD,(function(e,t){var n=t.payload.items;if(null===n)return Ye(Ye({},e),{},{isLoading:!1,itemIDList:null});var r=n.map((function(e){return e.id})),o={};return n.forEach((function(e){o[e.id]=e})),Ye(Ye({},e),{},{isLoading:!1,trashItems:o,itemIDList:r})})),Qe(We,w.a.TRASH_PAGE_CHANGE,(function(e,t){var n=t.payload;e.page=n})),Qe(We,w.a.TRASH_LOADING,(function(e,t){return Ye(Ye({},e),{},{isLoading:!0})})),Qe(We,w.a.TRASH_RESTORE,(function(e,t){var n=t.payload,r=e.itemIDList.filter((function(e){return-1===n.indexOf(e)}));return Ye(Ye({},e),{},{itemIDList:r})})),Qe(We,w.a.TRASH_DELETE,(function(e,t){var n=t.payload,r=e.itemIDList.filter((function(e){return-1===n.indexOf(e)}));return Ye(Ye({},e),{},{itemIDList:r})})),Qe(We,w.a.TRASH_EMPTY,(function(e,t){return Ye(Ye({},e),{},{itemIDList:[],trashItems:{}})})),We));var Je=n(71922),Xe={itemDetailVisible:!1,isItemBrowsing:!1,itemList:[],currentItemType:"",currentItemID:"",currentShareKey:"",showRecordPanel:!1,workspaceID:"",channelID:"",folderID:"",channelFolderID:"",isSpaceOwner:!1,isRecording:!1,currentItemIndex:NaN};const $e=(0,r.Lq)(Xe,(function(e){return e.addCase(Je.v9,(function(e,t){var n=t.payload,r=n.currentItem,o=n.itemList,i=r.itemType,a=r.id,c=o.findIndex((function(e){return e.itemType===i&&e.id===a}));e.currentItemIndex=c<0?0:c,e.itemDetailVisible=!0,e.itemList=o})).addCase(Je.G2,(function(e){e.currentItemIndex<e.itemList.length-1&&(e.currentItemIndex+=1)})).addCase(Je.mE,(function(e){e.currentItemIndex>0&&(e.currentItemIndex-=1)})).addCase(Je.td,(function(e){e.itemDetailVisible=!1,e.currentItemType="",e.currentItemID="",e.isItemBrowsing=!1,e.itemList=[]})).addCase(Je.vf,(function(e){e.isItemBrowsing=!1})).addCase(Je.i0,(function(e,t){var n=t.payload,r=n.status,o=n.channelID,i=n.workspaceID,a=n.channelFolderID,c=n.folderID,s=n.isSpaceOwner;e.showRecordPanel=r,e.isRecording||Object.assign(e,{channelID:o||"",workspaceID:i||"",folderID:c||"",channelFolderID:a||"",isSpaceOwner:s||!1})})).addCase(Je.uz,(function(e,t){var n=t.payload.isRecording;e.isRecording=n}))}));var et=n(55087),tt={isLoading:!1,isLoadingPermission:!1,info:{},premium:{},permissions:{},counts:{},passwordSet:!0,isLoaded:!1,hasSaveToCloudAccount:void 0,showGuide:!1,imageTotalAllCreated:0,videoTotalAllCreated:0};const nt=(0,r.Lq)(tt,(function(e){return e.addCase(et.Tc,(function(e,t){e.isLoading=!1,e.isLoaded=!0,Object.assign(e,t.payload.data)})).addCase(et.jX,(function(e){e.isLoading=!0})).addCase(et.GZ,(function(e){var t=e.info.avatarURL;if(t)if(t.includes("?t=")){var n=t.match(/(.*)\?t=/)[1];e.info.avatarURL=n+"?t="+(new Date).getTime()}else e.info.avatarURL=t+"?t="+(new Date).getTime();else e.info.avatarURL="/web/user/avatar/"+Number(e.info.uid)%100+"/"+e.info.uid+"?t="+(new Date).getTime()})).addCase(et.JF,(function(e){e.permissions.showChromeFiveStar=!1})).addCase(et.vS,(function(e){e.isLoadingPermission=!0})).addCase(et.cu,(function(e,t){var n=t.payload,r=n.permissions,o=n.counts;e.permissions=r,e.counts=o})).addCase(et.J5,(function(e,t){var n=t.payload;e.showGuide=n}))}));var rt=n(62983),ot=Object.keys(rt.Rg),it=Object.keys(rt.C2);const at=(0,r.Lq)({loaded:!1,steps:{},popups:{}},(function(e){return e.addCase(rt.T_,(function(e,t){var n=t.payload;for(var r in n.steps)ot.includes(r)&&(e.steps[r]=n.steps[r]);for(var o in n.popups)it.includes(o)&&(e.popups[o]=n.popups[o]);e.loaded=!0})).addCase(rt.AR,(function(e,t){var n=t.payload;e.steps[n]=!0})).addCase(rt.F7,(function(e,t){var n=t.payload;e.popups[n]=!0}))}));var ct=n(35646);var st={isLoading:!1,theme:{1:"dark",0:"light",2:"auto"}[u.Z.get("screenshot_personal_user_theme")||"0"]};const lt=(0,r.Lq)(st,(function(e){return e.addCase(ct.u,(function(e,t){e.theme=t.payload}))}));var ut;function dt(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ht(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ht(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt={videos:{},sort:u.Z.get("video_sort")||"create",scrollTop:0,page:0,activeVideos:{isLoading:!1,videoIDList:[],isSubPageLoading:!1,subPage:0,isEnd:!1,totalCount:0,pageSize:0,page:0},inactiveVideos:{isLoading:!1,videoIDList:[],totalCount:0,pageSize:0,page:0}};const bt=(0,r.Lq)(gt,(yt(ut={},w.a.VIDEO_LOADING_ANNOTATIONS,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isAnnsActionLoading:!0})))})})),yt(ut,w.a.VIDEO_LOADED_ANNOTATIONS,(function(e,t){var n=t.payload.actions;return"object"==ht(n)&&n.actions&&(n=n.actions),"string"==typeof n&&(n=JSON.parse(n)),Array.isArray(n)?vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isAnnsActionLoading:!1,actionVersion:t.payload.version,baseVersion:t.payload.baseVersion,annActions:n})))}):vt({},e)})),yt(ut,w.a.VIDEO_RECEIVED,(function(e,t){var n=t.payload.videos,r=vt({},e.videos);return n.forEach((function(e){r[e.id]={isLoading:!1,info:e}})),vt(vt({},e),{},{videos:r})})),yt(ut,w.a.VIDEO_MOVE,(function(e,t){var n=t.payload,r=n.folderID,o=n.videos,i=n.folderName,a=vt({},e.videos);return o.forEach((function(e){a[e.id]=vt(vt({},a[e.id]),{},{info:vt(vt({},a[e.id].info),{},{folderID:r,folderName:i})})})),vt(vt({},e),{},{videos:a})})),yt(ut,w.a.VIDEO_RENAME,(function(e,t){var n=t.payload,r=n.id,o=n.name,i=e.videos;return i[r].title=o,vt(vt({},e),{},{videos:i})})),yt(ut,w.a.VIDEO_INFO_LOADING,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isLoading:!0})))})})),yt(ut,w.a.VIDEO_SCROLL_UPDATE,(function(e,t){var n=t.payload;return vt(vt({},e),{},{scrollTop:n})})),yt(ut,w.a.VIDEO_LOAD_INFO,(function(e,t){var n=t.payload,r=n.data;return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},n.id,vt(vt({},e.videos[n.id]),{},{isLoading:!1,loaded:!0,error:n.error?n.error:null,info:r.video?vt(vt({planName:r.planName},r.video),{},{visitRestrict:r.visitRestrict,restrictCanClose:r.restrictCanClose,expireRestrictEndTime:r.expireRestrictEndTime,isChannelMember:r.isChannelMember,channelItemId:r.channelItemId}):{}})))})})),yt(ut,w.a.VIDEO_UPDATE_INFO,(function(e,t){var n=t.payload,r=e.videos[n.id];(null==r?void 0:r.info)&&Object.assign(r.info,n.info)})),yt(ut,w.a.VIDEO_LOAD_ACTIVE_LIST,(function(e,t){var n=t.payload,r=n.videos,o=n.total,i=n.page;if(null==r)return vt(vt({},e),{},{activeVideos:vt(vt({},e.activeVideos),{},{videoIDList:null,isLoading:!1})});var a=[],c=vt({},e.videos);r.forEach((function(e){a.push(e.id),c[e.id]={isLoading:!1,info:e}}));var s="create"===e.sort?r[r.length-1].createdSec:r[r.length-1].updatedSec;return vt(vt({},e),{},{videos:c,page:i,activeVideos:vt(vt({},e.activeVideos),{},{isLoading:!1,isEnd:!1,subPage:0,videoIDList:a,totalCount:o,lastTimestamp:s,page:i})})})),yt(ut,w.a.VIDEO_LIST_LOAD_MORE,(function(e,t){var n=t.payload.videos;if(null===n)return vt(vt({},e),{},{activeVideos:vt(vt({},e.activeVideos),{},{isSubPageLoading:!1,isEnd:!0})});var r=n.map((function(e){return e.id})),o=vt({},e.videos);n.forEach((function(e){o[e.id]={isLoading:!1,info:e}}));var i="create"===e.sort?n[n.length-1].createdSec:n[n.length-1].updatedSec;return vt(vt({},e),{},{videos:o,activeVideos:vt(vt({},e.activeVideos),{},{videoIDList:[].concat(dt(e.activeVideos.videoIDList),dt(r)),lastTimestamp:i,isSubPageLoading:!1,subPage:e.activeVideos.subPage+1})})})),yt(ut,w.a.VIDEO_LIST_SUB_LOADING,(function(e){return vt(vt({},e),{},{activeVideos:vt(vt({},e.activeVideos),{},{isSubPageLoading:!0})})})),yt(ut,w.a.VIDEO_ACTIVE_LIST_LOADING,(function(e){return vt(vt({},e),{},{activeVideos:vt(vt({},e.activeVideos),{},{isLoading:!0})})})),yt(ut,w.a.VIDEO_LOAD_INACTIVE_LIST,(function(e,t){var n=t.payload.data,r=n.videos,o=n.total,i=n.page,a=n.pageSize,c=[],s=vt({},e.videos);return r.forEach((function(e){c.push(e.id),s[e.id]={isLoading:!1,info:e}})),vt(vt({},e),{},{videos:s,page:i,scrollTop:0,inactiveVideos:{isLoading:!1,videoIDList:c,totalCount:o,page:i,pageSize:a}})})),yt(ut,w.a.VIDEO_INACTIVE_LIST_LOADING,(function(e){return vt(vt({},e),{},{inactiveVideos:vt(vt({},e.inactiveVideos),{},{isLoading:!0})})})),yt(ut,w.a.VIDEO_DELETE_MULTIPLE,(function(e,t){var n=t.payload,r=e.videos,o=e.activeVideos.videoIDList,i=e.inactiveVideos.videoIDList;n.forEach((function(t){var n=e.videos[t.id].info;if(n.canVisit)if((0,Te.Jp)(o,n.id),i.length>0){var a=i[0];o.push(a),i.splice(0,1),e.inactiveVideos.totalCount=e.inactiveVideos.totalCount-1;var c=r[a];c.info.canVisit=!0,r[a]=c}else e.activeVideos.totalCount=e.activeVideos.totalCount-1;else(0,Te.Jp)(i,n.id),e.inactiveVideos.totalCount=e.inactiveVideos.totalCount-1;delete r[n.id]}))})),yt(ut,w.a.VIDEO_DELETED,(function(e,t){var n,r=t.payload,o=e.videos,i=e.activeVideos,a=e.inactiveVideos;if(o[r].info.canVisit){var c=e.activeVideos.videoIDList.slice(0).filter((function(e){return e!==r})),s=i.totalCount-1,l=e.inactiveVideos.videoIDList.slice(0),u=e.inactiveVideos.totalCount;if(l.length>0){var d=l[0];c.push(d),s+=1,l.splice(0,1),u-=1;var f=o[d];f.info.canVisit=!0,o[d]=f}n=vt(vt({},e),{},{videos:o,activeVideos:vt(vt({},i),{},{videoIDList:c,totalCount:s}),inactiveVideos:vt(vt({},a),{},{videoIDList:l,totalCount:u})})}else n=vt(vt({},e),{},{inactiveVideos:vt(vt({},a),{},{videoIDList:a.videoIDList.filter((function(e){return e!==r})),totalCount:a.totalCount-1})});return delete o[r],n})),yt(ut,w.a.VIDEO_GENERATE_SHARE_LINK_LOADING,(function(e,t){var n=e.videos[t.payload.id];return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},n),{},{isGenerateShareLinkLoading:!0})))})})),yt(ut,w.a.VIDEO_GENERATE_SHARE_LINK_FAILED,(function(e,t){var n=e.videos[t.payload.id];return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},n),{},{isGenerateShareLinkLoading:!1})))})})),yt(ut,w.a.VIDEO_GENERATE_SHARE_LINK,(function(e,t){var n=e.videos[t.payload.id];return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,{isGenerateShareLinkLoading:!1,info:vt(vt({},n.info),{},{shareURI:t.payload.shareURI,shareKey:t.payload.shareKey})}))})})),yt(ut,w.a.VIDEO_REVOKE_SHARE_LINK,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isGenerateShareLinkLoading:!1,info:vt(vt({},e.videos[t.payload.id].info),{},{shareURI:""})})))})})),yt(ut,w.a.VIDEO_EDIT_TITLE_LOADING,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isEditTitleLoading:!0})))})})),yt(ut,w.a.VIDEO_EDIT_TITLE,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isEditTitleLoading:!1,isOpenEditTitle:!1,info:vt(vt({},e.videos[t.payload.id].info),{},{title:t.payload.title})})))})})),yt(ut,w.a.VIDEO_OPEN_EDIT_TITLE,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isOpenEditTitle:!0})))})})),yt(ut,w.a.VIDEO_HIDE_EDIT_TITLE,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,vt(vt({},e.videos[t.payload.id]),{},{isOpenEditTitle:!1})))})})),yt(ut,w.a.VIDEO_CHANGE_SORT,(function(e,t){var n=t.payload;return vt(vt({},e),{},{sort:n})})),yt(ut,w.a.VIDEO_SET_COMPLETE_DONE,(function(e,t){return vt(vt({},e),{},{videos:vt(vt({},e.videos),{},yt({},t.payload.id,{isLoading:!1,info:t.payload.info}))})})),yt(ut,w.a.VIDEO_PAGE_UPDATE,(function(e){return vt(vt({},e),{},{page:-1})})),yt(ut,w.a.VIDEO_LIST_RESTORE,(function(e){return vt(vt({},e),{},{page:-1,activeVideos:vt(vt({},e.activeVideos),{},{page:-1})})})),yt(ut,w.a.VIDEO_MOVE_TO_CHANNEL,(function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ft(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t.payload);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=e.videos[o.id];i&&(i.info=o)}}catch(e){r.e(e)}finally{r.f()}})),yt(ut,w.a.ITEM_LOADED_RESET,(function(e){for(var t in e.videos)e.videos[t].loaded&&(e.videos[t].loaded=!1)})),ut));function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}var jt;function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t=function(e){var t=function(e,t){if("object"!==wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Nt=(0,r.Lq)({limitation:{image:0,video:0},workspaces:[],currentWorkspaceID:"",myWorkspaceIDList:[],myWorkspaceHash:{},workspaceAllChannelIDList:[],workspaceAllMembers:[],channelHash:{},isCreating:!1,isCreatingChannel:!1,isLoading:!1,isLoadingAllMembers:!1,loaded:!1,memberLoadedID:"",isChannelLoading:!1},(It(jt={},w.a.WORKSPACE_CREATE,(function(e){e.isCreating=!1})),It(jt,w.a.WORKSPACE_CREATING,(function(e){e.isCreating=!0})),It(jt,w.a.WORKSPACE_LOAD,(function(e,t){t.payload.limitation&&(e.limitation=t.payload.limitation);var n=t.payload.workspaces,r={},o={};e.myWorkspaceIDList=n.map((function(e){return e.id}));var i,a=Ot(n);try{for(a.s();!(i=a.n()).done;){var c,s=i.value,l=Ot(s.channels);try{for(l.s();!(c=l.n()).done;){var u=c.value;o[u.id]=u}}catch(e){l.e(e)}finally{l.f()}r[s.id]=Object.assign(s,{channels:s.channels.map((function(e){return e.id}))})}}catch(e){a.e(e)}finally{a.f()}e.myWorkspaceHash=r,e.channelHash=St(St({},e.channelHash),o),e.isLoading=!1,e.loaded=!0})),It(jt,w.a.WORKSPACE_CHANNEL_LOADING,(function(e){e.isChannelLoading=!0})),It(jt,w.a.WORKSPACE_CHANNEL_LOAD,(function(e,t){var n=t.payload,r=Object.fromEntries(n.map((function(e){return[e.id,e]})));e.workspaceAllChannelIDList=n.map((function(e){return e.id})),Object.assign(e.channelHash,r),e.isChannelLoading=!1})),It(jt,w.a.WORKSPACE_LOADING,(function(e){e.isLoading=!0})),It(jt,w.a.CHANNEL_CREATE,(function(e,t){var n=t.payload,r=n.workspaceID,o=n.channel;e.isCreatingChannel=!1,e.channelHash[o.id]=o,e.myWorkspaceHash[r].channels.push(o.id),e.currentWorkspaceID===r&&e.workspaceAllChannelIDList.push(o.id)})),It(jt,w.a.CHANNEL_CREATING,(function(e){e.isCreatingChannel=!0})),It(jt,w.a.CHANNEL_META_EDIT,(function(e,t){var n=t.payload,r=n.channelID,o=n.type,i=n.value,a=e.channelHash[r];a&&("name"===o?a.name=i:"desc"===o&&(a.description=i))})),It(jt,w.a.WORKSPACE_MEMBER_LOAD,(function(e,t){var n=t.payload,r=n.members,o=n.workspaceID;e.workspaceAllMembers=r,e.isLoadingAllMembers=!1,e.memberLoadedID=o})),It(jt,w.a.WORKSPACE_MEMBER_LOADING,(function(e){e.isLoadingAllMembers=!0})),It(jt,w.a.WORKSPACE_META_EDIT,(function(e,t){var n=t.payload,r=n.workspaceID,o=n.type,i=n.value,a=e.myWorkspaceHash[r];"name"===o?a.name=i:"desc"===o&&(a.description=i)})),It(jt,w.a.CHANNEL_JOIN,(function(e,t){var n=t.payload;e.channelHash[n].isMember=!0,e.channelHash[n].userCount+=1})),It(jt,w.a.WORKSPACE_ENTER,(function(e,t){e.currentWorkspaceID=t.payload})),It(jt,w.a.WORKSPACE_CHANGE_ROLE,(function(e,t){var n=t.payload,r=n.memberID,o=n.role,i=e.workspaceAllMembers.findIndex((function(e){return e.userID===r}));e.workspaceAllMembers[i].role=o})),It(jt,w.a.CHANNEL_LEAVE,(function(e,t){var n=t.payload.channelID;e.channelHash[n].isMember=!1,e.channelHash[n].userCount-=1})),It(jt,w.a.WORKSPACE_LEAVE,(function(e,t){var n=t.payload;e.myWorkspaceIDList=e.myWorkspaceIDList.filter((function(e){return e!==n}))})),It(jt,w.a.WORKSPACE_MEMBER_REMOVE,(function(e,t){var n=t.payload;e.workspaceAllMembers=e.workspaceAllMembers.filter((function(e){return e.userID!==n}))})),It(jt,w.a.WORKSPACE_INFO_LOAD,(function(e,t){var n=t.payload;e.myWorkspaceHash[n.id]=n;for(var r=0;r<n.channels.length;r++)e.channelHash[n.channels[r].id]=n.channels[r];n.channels=n.channels.map((function(e){return e.id}))})),jt));function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}var At;function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Dt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const _t=(0,r.Lq)({users:{},changelogs:[],isLoading:!1,count:0,limit:0,page:0},(kt(At={},w.a.CHANGELOG_LOADING,(function(e){e.isLoading=!0})),kt(At,w.a.CHANGELOG_RESET,(function(e){e.changelogs=[],e.page=0,e.count=0})),kt(At,w.a.CHANGELOG_LOAD,(function(e,t){var n,r=t.payload,o=r.activityLog,i=r.userMap,a=r.count,c=r.limit,s=r.page;s<=1?e.changelogs=o||[]:(n=e.changelogs).push.apply(n,Tt(o||[]));e.users=Pt(Pt({},e.users),i),e.isLoading=!1,e.count=a,e.limit=c,e.page=s})),At)),Rt=(0,c.UY)({user:nt,destination:k,connectedAccount:D,team:Be,plan:Se,video:bt,item:ce,folder:B,image:$,multipleSelect:he,trash:qe,search:Pe,comment:I,shared:Ze,userSetting:lt,workspace:Nt,channel:g,notification:ge,ui:$e,downloadList:R,userGuide:at,changelog:_t});n(56097);var Mt=n(53962),Zt=n(67294),Ft=n(96974),Ut=n(94958),Ht=n(51447),Gt=n(30817),Vt=n(71853),Bt=n(90205),Wt=(n(85624),n(71577)),zt=(n(15285),n(71257)),Kt=(n(79133),n(32787)),Yt=(n(50626),n(48086)),Qt=n(4976),qt=n(94184),Jt=n.n(qt),Xt=n(47481),$t=n(85893),en=[{index:1,desc:"Create workspace"},{index:2,desc:"Invite members"},{index:3,desc:"Finish"}];const tn=function(e){var t=e.currentStep;return(0,$t.jsxs)("div",{className:"create-workspace-steps",children:[(0,$t.jsx)("div",{className:"line"}),en.map((function(e){return(0,$t.jsxs)("div",{className:(n=e.index,Jt()("steps-item",{current:t===n,finish:t>n})),children:[(0,$t.jsx)("div",{className:"circle",children:t>e.index?(0,$t.jsx)("div",{className:"finish-icon",children:(0,$t.jsx)(Xt.m9,{})}):e.index}),(0,$t.jsx)("div",{className:"desc",children:e.desc})]},e.index);var n}))]})};function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const on=function(e){var t=e.currentWorkspace,n=e.finishCreateChannel,r=nn((0,Zt.useState)(!1),2),o=r[0],i=r[1];return(0,$t.jsxs)("div",{className:"create-workspace-name",children:[(0,$t.jsx)(tn,{currentStep:1}),(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("div",{className:"step-title",children:"What do your team plan to work on?"}),(0,$t.jsx)("div",{className:"step-title-desc",children:"It could be a project, party, campaign or anything."}),(0,$t.jsx)("div",{className:"step-form",children:(0,$t.jsxs)(zt.Z,{onFinish:function(e){var r=e.channelName,o=e.channelDesc;r&&(i(!0),(0,Qt.mih)(t.id,r,o).then((function(e){i(!1),n(e.channel)})).catch((function(e){Yt.ZP.error(e)})))},children:[(0,$t.jsx)("div",{className:"label",children:"Name"}),(0,$t.jsx)(zt.Z.Item,{name:"channelName",children:(0,$t.jsx)(Kt.Z,{size:"large",autoComplete:"off"})}),(0,$t.jsx)("div",{className:"label",children:"Description"}),(0,$t.jsx)(zt.Z.Item,{name:"channelDesc",children:(0,$t.jsx)(Kt.Z.TextArea,{autoSize:{minRows:4}})}),(0,$t.jsx)(zt.Z.Item,{children:(0,$t.jsx)(Wt.Z,{type:"primary",size:"large",loading:o,block:!0,htmlType:"submit",children:"Next"})})]})})]})]})};var an=n(54353);const cn=function(e){var t=e.currentWorkspace,n=e.currentChannel,r=e.goToPayment,o=e.plans;return(0,$t.jsxs)("div",{className:"workspace-finish",children:[(0,$t.jsx)(tn,{currentStep:3}),(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("div",{className:"step-title",children:"Choose your workspace plan"}),(0,$t.jsxs)("div",{className:"plan-panel",children:[(0,$t.jsxs)("div",{className:"plan-item",children:[(0,$t.jsx)("div",{className:"plan-title",children:"Workspace lite"}),(0,$t.jsx)("div",{className:"plan-desc",children:"For teams with a small number of members"}),(0,$t.jsxs)("div",{className:"plan-content",children:[(0,$t.jsx)("div",{className:"plan-name",children:"Free"}),(0,$t.jsxs)("ul",{className:"plan-list",children:[(0,$t.jsxs)("li",{children:[(0,$t.jsx)(Xt.m9,{}),"20 videos"]}),(0,$t.jsxs)("li",{children:[(0,$t.jsx)(Xt.m9,{}),"50 images"]}),(0,$t.jsxs)("li",{children:[(0,$t.jsx)(Xt.m9,{}),"5 members"]})]})]}),(0,$t.jsx)("div",{className:"button-area",children:(0,$t.jsx)(Wt.Z,{block:!0,type:"primary",ghost:!0,onClick:function(){window.location.href="/workspace/"+t.id+"/"+n.id},children:"Choose plan"})})]}),(0,$t.jsxs)("div",{className:"plan-item",children:[(0,$t.jsx)("div",{className:"plan-title",children:"Workspace premium"}),(0,$t.jsx)("div",{className:"plan-desc",children:"Applicable to teams with more members and more items"}),(0,$t.jsxs)("div",{className:"plan-content",children:[(0,$t.jsxs)("div",{className:"plan-name",children:["$",o.workspace_plan.Price/12," ",(0,$t.jsx)("span",{children:"/member/month"})]}),(0,$t.jsxs)("ul",{className:"plan-list",children:[(0,$t.jsxs)("li",{children:[(0,$t.jsx)(Xt.m9,{}),"Unlimited videos"]}),(0,$t.jsxs)("li",{children:[(0,$t.jsx)(Xt.m9,{}),"Unlimited images"]}),(0,$t.jsxs)("li",{children:[(0,$t.jsx)(Xt.m9,{}),"Unlimited members"]})]}),"Plus, every member will get",(0,$t.jsx)(an.Z,{})]}),(0,$t.jsx)("div",{className:"button-area",children:(0,$t.jsx)(Wt.Z,{block:!0,ghost:!0,type:"primary",onClick:r,children:"Choose plan"})})]})]})]})]})};const sn=function(e){var t=e.changeStep,n=e.canCreateLite,r=e.plans;return(0,$t.jsxs)("div",{className:"create-workspace-intro",children:[(0,$t.jsx)("div",{className:"logo"}),(0,$t.jsx)("div",{className:"main",children:(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsxs)("div",{className:"text",children:[n?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"title",children:"Create a Workspace"}),(0,$t.jsx)("p",{children:"Collaborating with your team in a workspace, you can communicate and share visual content with colleagues."}),(0,$t.jsxs)("ul",{children:[(0,$t.jsx)("li",{children:"Collaborate with teammates"}),(0,$t.jsx)("li",{children:"Seamless synchronization across different platforms"}),(0,$t.jsx)("li",{children:"A powerful visual repository for your team"})]})]}):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"title",children:"Create a Workspace Premium"}),(0,$t.jsxs)("p",{children:["You have exceeded your limit of creating Workspace Lite. A user can only have ",(0,$t.jsx)("b",{children:"one Workspace Lite"}),". Create a Workspace Premium instead."]}),(0,$t.jsxs)("div",{className:"price",children:["$",r.workspace_plan.Price/12,(0,$t.jsx)("span",{children:"/member/month"})]}),(0,$t.jsxs)("ul",{children:[(0,$t.jsx)("li",{children:"Unlimited videos in Workspace"}),(0,$t.jsx)("li",{children:"Unlimited images in Workspace"}),(0,$t.jsx)("li",{children:"Unlimited members in Workspace"})]})]}),(0,$t.jsxs)(Wt.Z,{type:"primary",size:"large",onClick:function(){t("name")},children:["Create Workspace ",!n&&"Premium"]})]}),(0,$t.jsx)("div",{className:"pic"})]})})]})};var ln=n(36450);const un=function(e){var t=e.currentWorkspace,n=e.currentChannel,r=e.finishInvite;return(0,$t.jsxs)("div",{className:"create-workspace-invite",children:[(0,$t.jsx)(tn,{currentStep:2}),(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("div",{className:"step-title",children:'Who do you collaborate with in "'.concat(n.name,'"?')}),(0,$t.jsx)("div",{className:"step-title-desc",children:"Members can modify their permissions after entering the workspace"}),(0,$t.jsx)("div",{className:"step-form invite-form",children:(0,$t.jsx)(ln.Z,{channel:n,workspaceID:t.id,afterInvite:r})}),(0,$t.jsx)("div",{className:"skip-btn",children:(0,$t.jsx)("span",{onClick:r,children:"Skip"})})]})]})};function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const mn=function(e){var t=e.finishCreateWorkspace,n=e.canCreateLite,r=dn((0,Zt.useState)(!1),2),o=r[0],i=r[1];return(0,$t.jsxs)("div",{className:"create-workspace-name",children:[(0,$t.jsx)(tn,{currentStep:1}),(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("div",{className:"step-title",children:"What is the name of your workspace?"}),(0,$t.jsx)("div",{className:"step-title-desc",children:"Name your workspace something your team will recognize"}),(0,$t.jsx)("div",{className:"step-form",children:(0,$t.jsxs)(zt.Z,{onFinish:function(e){var r=e.workspaceName;r&&(i(!0),(0,Qt.MBc)(r,n?"lite":"premium").then((function(e){i(!1),t(e.workspace)})).catch((function(e){i(!1),Yt.ZP.error(e)})))},children:[(0,$t.jsx)(zt.Z.Item,{name:"workspaceName",children:(0,$t.jsx)(Kt.Z,{size:"large",autoComplete:"off"})}),(0,$t.jsx)(zt.Z.Item,{children:(0,$t.jsx)(Wt.Z,{type:"primary",size:"large",block:!0,htmlType:"submit",loading:o,children:"Next"})})]})})]})]})};function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vn={loadWorkspaces:Ht.Pf,loadUserInfo:et.Lk,loadPlans:Ut.Z};const yn=(0,i.$j)((function(e){return{userInfo:e.user.info,workspaceHash:e.workspace.myWorkspaceHash,workspaceIDList:e.workspace.myWorkspaceIDList,isCreating:e.workspace.isCreating,isWorkspaceLoading:e.workspace.isLoading,isUserLoading:e.user.isLoading,plans:e.plan.plans}}),vn)((function(e){var t=e.isCreating,n=e.workspaceIDList,r=e.workspaceHash,o=e.userInfo,i=e.loadUserInfo,a=e.loadWorkspaces,c=e.isUserLoading,s=e.isWorkspaceLoading,l=e.loadPlans,u=e.plans,d=hn((0,Zt.useState)("intro"),2),f=d[0],m=d[1],h=hn((0,Zt.useState)(),2),p=h[0],v=h[1],y=hn((0,Zt.useState)(),2),g=y[0],b=y[1],w=hn((0,Zt.useState)(!1),2),j=w[0],x=w[1],S=(0,Gt.Z)(),I="true"===S.get("premium");function O(){if(I)return!1;for(var e=0;e<n.length;e++){var t=r[n[e]];if("lite"===t.plan&&t.ownerUID===o.uid)return!1}return!0}function E(e){m(e)}function N(){x(!0)}function D(e){v(e),m("channel")}function A(e){b(e),O()?m("invite"):x(!0)}function C(){O()?m("finish"):window.location.href="/workspace/"+p.id+"/"+g.id}S.get("promotionCode"),(0,Zt.useEffect)((function(){a(),i(),l()}),[]);var P=O();return(0,$t.jsx)("div",{className:"create-workspace-page",children:s||c||!u.workspace_plan?(0,$t.jsx)("div",{className:"loading-area",children:(0,$t.jsx)(Vt.Z,{})}):(0,$t.jsxs)($t.Fragment,{children:[function(){switch(f){case"intro":return(0,$t.jsx)(sn,{canCreateLite:O(),changeStep:E,plans:u});case"name":return(0,$t.jsx)(mn,{canCreateLite:O(),isCreating:t,finishCreateWorkspace:D});case"channel":return(0,$t.jsx)(on,{canCreateLite:O(),currentWorkspace:p,finishCreateChannel:A});case"invite":return(0,$t.jsx)(un,{currentWorkspace:p,currentChannel:g,finishInvite:C});case"finish":return(0,$t.jsx)(cn,{currentWorkspace:p,currentChannel:g,goToPayment:N,plans:u})}}(),(0,$t.jsx)(Bt.Z,{visible:j,workspace:p,from:P?"lite_upgrade":"create",afterPay:function(){O()?window.location.href="/workspace/"+p.id+"/"+g.id:(x(!1),m("invite"),i(!0))}})]})})}));var gn=n(92159),bn=(n(47386),n(48889)),wn=(n(93506),n(54458)),jn=(n(91324),n(45777)),xn=(n(28897),n(85986)),Sn=(n(90),n(16114)),In=(n(48315),n(28682)),On=n(78338),En=n(31795),Nn=n.n(En),Dn=n(54748),An=n(65936),Cn=n(543);const Pn=n.p+"images/0862d19d3c4283d41874.gif",kn=n.p+"images/2abf6b66610dd46d4406.gif",Tn=n.p+"images/885722605a96aeda5144.mp4",Ln=n.p+"images/83527950aacdc3e8415b.mp4";var _n=n(3721),Rn=n.n(_n),Mn=n(62344),Zn=n(62579),Fn=n(21862),Un=(n(28763),n(34041)),Hn=n(14981);function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bn=null,Wn=null,zn=null,Kn=null,Yn=null,Qn=null;function qn(e){var t=Gn((0,Zt.useState)(!1),2),n=t[0],r=t[1],o=Gn((0,Zt.useState)(""),2),i=o[0],a=o[1],c=Gn((0,Zt.useState)([]),2),s=c[0],l=c[1],u=Gn((0,Zt.useState)(!1),2),d=u[0],f=u[1],m=e.recordType,h=e.showRecordModel,p=e.recordStatus,v=e.setupAction,y=e.updateCellUI,g=e.updateAudioStatus,b=e.updateAudioStream;(0,Zt.useEffect)((function(){localStorage["record_mic_"+m]||(localStorage["record_mic_"+m]=!0),r("true"==localStorage["record_mic_"+m]),h&&w("")}),[m,h]),(0,Zt.useEffect)((function(){"normal"!==p?I():O()}),[p]),(0,Zt.useEffect)((function(){d&&w()}),[y]),(0,Zt.useEffect)((function(){return function(){I()}}),[]);var w=function(e,t){"normal"===p&&(0,Hn.D)((function(n){var r=n,o=(0,Hn.P)(r.audioInputDevices);if(l(o),a(e&&e.length>0?e:o.length>0?o[0].deviceId:""),0===o.length&&r.audioInputDevices.length>0?(f(!0),g("audio_setup",!0)):(f(!1),g("audio_setup",!1)),t)t(!0);else{var i=localStorage.getItem("mic-deviceId");"true"==localStorage["record_mic_"+m]&&o.length>0?((!i||i.length<=0)&&(i=o[0].deviceId,localStorage["mic-deviceId"]=i),j()):E()}}))},j=function(){if("true"===localStorage["record_mic_"+m]){var e=!0;Yn&&Yn.active&&(Yn.getTracks().forEach((function(t){t.getSettings().deviceId===localStorage["mic-deviceId"]&&(e=!1)})),!e)||(E(),navigator.mediaDevices.getUserMedia({audio:{deviceId:localStorage["mic-deviceId"]}}).then((function(e){(Yn=e).getTracks().forEach((function(e){"audio"==e.kind&&(localStorage["mic-deviceId"]=e.getSettings().deviceId,a(localStorage["mic-deviceId"]))})),b&&b(Yn),O()})).catch((function(e){e&&"Permission denied by system"===e.message?(f(!0),g("audio_setup",!0)):Yt.ZP.error("Invalid microphone, please choose another one.",10)})))}else E()},x=function e(){var t=document.getElementById("volume-canvas");if(t&&Wn){var n=t.getContext("2d");n&&(n.clearRect(0,0,6,18),Wn.checkClipping()?n.fillStyle="red":n.fillStyle="#47d892",n.fillRect(0,0,6,18*Wn.volume*5),Bn=window.requestAnimationFrame(e))}},S=function(e){if(Wn){for(var t,n=e.inputBuffer.getChannelData(0),r=n.length,o=0,i=0;i<r;i++)t=n[i],Math.abs(t)>=Wn.clipLevel&&(Wn.clipping=!0,Wn.lastClip=window.performance.now()),o+=t*t;var a=Math.sqrt(o/r);Wn.volume=Math.max(a,Wn.volume*Wn.averaging)}},I=function(){Bn&&window.cancelAnimationFrame(Bn),Wn&&(Kn.disconnect(Wn),Wn.disconnect(zn.destination)),zn&&zn.close(),Wn=null,Kn=null,zn=null},O=function(){if(Yn&&!Wn){if(!zn){var e=window.AudioContext||window.webkitAudioContext;zn=new e}Kn=zn.createMediaStreamSource(Yn),Wn=function(e,t,n,r){var o=e.createScriptProcessor(512);return o.onaudioprocess=S,o.clipping=!1,o.lastClip=0,o.volume=0,o.clipLevel=t||.98,o.averaging=n||.95,o.clipLag=r||750,o.connect(e.destination),o.checkClipping=function(){return!!o.clipping&&(o.lastClip+o.clipLag<window.performance.now()&&(o.clipping=!1),o.clipping)},o.shutdown=function(){o.disconnect(),o.onaudioprocess=null},o}(zn),Kn.connect(Wn),x()}},E=function(){I(),N()},N=function(){Yn&&(Yn.getTracks().forEach((function(e){e.stop()})),Yn.stop(),Yn=null,b&&b(null))},D=function(){var e,t;e={audio:!0},t=function(e){g&&(e?e&&g("showGuide",!e):g("showGuide",!e,"setup2")),e&&"true"===localStorage["record_mic_"+m]&&j()},navigator.mediaDevices.getUserMedia(e).then((function(e){var n="";e.getTracks().forEach((function(e){"audio"==e.kind&&(n=e.getSettings().deviceId,localStorage["mic-deviceId"]=n),"Firefox"!=Nn().name&&e.stop()})),"Firefox"!=Nn().name&&e.stop(),w(n,t)}),(function(e){e&&"Permission denied"===e.message&&(f(!0),g("audio_setup",!0)),t?t(!1):E()}))};return(0,$t.jsxs)("div",{className:"record-setting-item field-mic",children:[(0,$t.jsxs)("div",{className:"option-part",children:[(0,$t.jsx)(Xt.ZO,{className:"record-option-item-icon"}),(0,$t.jsxs)("span",{className:"record-option-title",children:["Record Mic Sound",(0,$t.jsx)("canvas",{orientation:"vertical",id:"volume-canvas",className:"volume-canvas ".concat(n&&!d?"show-inline":""),width:"4",height:"18"})]}),(0,$t.jsx)("div",{className:"action",children:d?(0,$t.jsx)($t.Fragment,{children:(0,$t.jsx)("div",{className:"setup-mic-btn",onClick:v,children:"Grant Access"})}):(0,$t.jsxs)("label",{className:"toggle-checkbox",children:[(0,$t.jsx)("input",{type:"checkbox",className:"record-option-checkbox",id:"record-mic",onChange:function(e){r(e.target.checked),localStorage["record_mic_"+m]=e.target.checked,e.target.checked?D():E()},checked:n,"data-type":"mic"}),(0,$t.jsx)("span",{className:"switch"}),(0,$t.jsx)("span",{className:"toggle"})]})})]}),(0,$t.jsx)("div",{className:"option-part source-part ".concat(n&&!d?"show":""),id:"mic-source-part",children:s.length>0?(0,$t.jsx)("div",{className:"option-select device-select",children:(0,$t.jsx)(Un.Z,{name:"mic-source",id:"mic-source",className:"option-select-button",size:"small",value:i,onChange:function(e){e&&e.length>0&&(localStorage["mic-deviceId"]=e,a(e),j())},"data-source":"mic",children:s.map((function(e){return(0,$t.jsx)(Un.Z.Option,{title:e.label,value:e.deviceId,children:e.label},e.deviceId)}))})}):"No Microphone detected"})]})}function Jn(e){var t=Gn((0,Zt.useState)(""),2),n=t[0],r=t[1],o=Gn((0,Zt.useState)([]),2),i=o[0],a=o[1],c=e.recordType,s=e.resolution,l=e.setupAction,u=e.recordStatus,d=e.updateCellUI,f=e.showRecordModel,m=e.updateCameraStatus,h=e.updateCameraStream,p=Gn((0,Zt.useState)(!1),2),v=p[0],y=p[1],g=Gn((0,Zt.useState)(!1),2),b=g[0],w=g[1],j=(0,Zt.useRef)(c);j.current=c;var x=(0,Zt.useRef)(u);x.current=u,(0,Zt.useEffect)((function(){localStorage.record_cam_screen||(localStorage.record_cam_screen=!1),localStorage.record_cam_camera||(localStorage.record_cam_camera=!0),m("camera_status","true"==localStorage["record_cam_"+c]);var e="true"==localStorage["record_cam_"+c];y(e)}),[c]),(0,Zt.useEffect)((function(){return function(){Qn=null}}),[]),(0,Zt.useEffect)((function(){b&&O(localStorage.getItem("cam-deviceId"),(function(e,t){e&&t&&C(t)}))}),[d]),(0,Zt.useEffect)((function(){O(localStorage["cam-deviceId"])}),[c,f]);var S,I,O=function(e,t){"normal"===u&&(0,Hn.D)((function(n){var o=n,i=(0,Hn.P)(o.videoInputDevices);a(i);var s=function(e,t){if(t&&t.length>0){var n=!1;return t.forEach((function(t){t.deviceId==e&&(n=!0)})),n?e:t[0].deviceId}return""}(e,i);if(r(s),0===i.length&&o.videoInputDevices.length?(w(!0),m("camera_setup",!0)):(w(!1),m("camera_setup",!1)),t)t(!0,s);else{var u=localStorage.getItem("cam-deviceId");i.length>0&&!s&&(!u||u.length<=0)&&localStorage.setItem("cam-deviceId",s),i.length>0&&"true"==localStorage["record_cam_"+c]||"camera"===c?s?C(s):l():D()}}))},E=function(e){y(e.target.checked),m("camera_status",e.target.checked),"screen"===c&&(localStorage["record_cam_"+c]=e.target.checked),e.target.checked?C(localStorage["cam-deviceId"]):D()},N=function(e){e&&e.length>0&&(localStorage["cam-deviceId"]=e,r(e),C(e,localStorage["mic-deviceId"]))},D=function(){var e=null;(e=document.querySelector("#main-video"))&&e.srcObject&&(Qn==e.srcObject&&(Qn=null),e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject.stop(),e.srcObject=null),A(Qn),m("camera_status",!1),h&&h(null)},A=function(e){e&&(e.getTracks().forEach((function(e){e.stop()})),e.stop(),e=null)},C=function(e){var t=s.maxWidth,n=s.maxHeight,o=!0;if(Qn&&Qn.active){if(Qn.getTracks().forEach((function(t){t.getSettings().deviceId===e?o=!1:t.stop()})),!o)return;Qn.stop()}else Qn=null;navigator.mediaDevices.getUserMedia({video:{deviceId:e,echoCancellation:!1,aspectRatio:1.777,width:{max:t*window.devicePixelRatio},height:{max:n*window.devicePixelRatio},maxFrameRate:30}}).then((function(e){Qn=e,!0,"screen"===j.current&&"true"==localStorage.record_cam_screen||"camera"===j.current?(Qn.getTracks().forEach((function(e){"video"==e.kind&&(localStorage["cam-deviceId"]=e.getSettings().deviceId,r(localStorage["cam-deviceId"]))})),h&&h(Qn),m("camera_status",!0),function(e){var t=document.querySelector("#main-video");t&&(t.srcObject=e,t.onloadedmetadata=function(){t.play()},t.ondurationchange=function(){})}(e),0==i.length&&O(localStorage["cam-deviceId"],(function(){})),Qn.oninactive=function(e){"normal"===x.current&&(O(localStorage["cam-deviceId"],(function(){})),"screen"===j.current&&m("camera_status",!1))}):A(Qn),P()})).catch((function(e){e&&"Permission denied"===e.message?(w(!0),m("camera_setup",!0),!0,m("showGuide",!0,"setup2")):e&&"Permission denied by system"===e.message?(w(!0),m("camera_setup",!0)):Yt.ZP.error("Invalid camera, please choose another one.",10),D()}))},P=function(){m("showGuide",!1),w(!1),m("camera_setup",!1)};return S="camera"!==c&&("Chrome"===Nn().name||"Safari"===Nn().name||Nn().name.indexOf("Edge")>=0),I="camera"==c||("Chrome"===Nn().name||"Safari"===Nn().name||Nn().name.indexOf("Edge")>=0)&&v,(0,$t.jsxs)("div",{className:"record-setting-item record-option-camera camera-rel-setting",children:[(0,$t.jsxs)("div",{className:"option-part",children:[(0,$t.jsx)(Xt.xm,{className:"record-option-item-icon"}),(0,$t.jsxs)("span",{className:"record-option-title camera-rel-title",children:["camera"===c?"":"Embed"," Camera"]}),S||b?(0,$t.jsx)("div",{className:"action",children:b?(0,$t.jsx)($t.Fragment,{children:(0,$t.jsx)("div",{className:"setup-mic-btn",onClick:l,children:"Grant Access"})}):(0,$t.jsxs)("label",{className:"toggle-checkbox",children:[(0,$t.jsx)("input",{type:"checkbox",className:"record-option-checkbox",id:"record-cam",onChange:E,checked:v,"data-type":"cam"}),(0,$t.jsx)("span",{className:"switch"}),(0,$t.jsx)("span",{className:"toggle"})]})}):""]}),(0,$t.jsx)("div",{className:"option-part source-part ".concat(I&&!b?"show":""),id:"cam-source-part",children:i.length>0?(0,$t.jsx)("div",{className:"option-select device-select",children:(0,$t.jsx)(Un.Z,{name:"cam-source",id:"cam-source",className:"option-select-button",size:"small",value:n,onChange:N,"data-source":"cam",children:i.map((function(e){return(0,$t.jsx)(Un.Z.Option,{title:e.label,value:e.deviceId,children:e.label},e.deviceId)}))})}):"No Camera detected"})]})}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var er="",tr={720:"HD 720p",1080:"FHD 1080p","4k":"4k"},nr=null,rr=null,or=null,ir=null,ar=null,cr=null,sr=null,lr=null,ur=null,dr=null,fr=null,mr=!0,hr=!0,pr=null,vr=!1,yr=function(e){e.preventDefault(),e.returnValue="Your recording is not completed, are you sure you want to leave? "};var gr={loadUserInfo:et.Lk,updateRecordPanel:Je.i0,updateIsRecording:Je.uz,restoreChannelItemList:d.A3,restoreItemList:An.LD,restoreVideoList:Cn.U2};const br=(0,i.$j)((function(e){return vr=!vr,{user:e.user,userInfo:e.user.info,workspaceID:e.ui?e.ui.workspaceID:"",channelID:e.ui?e.ui.channelID:"",folderID:e.ui?e.ui.folderID:"",channelFolderID:e.ui?e.ui.channelFolderID:"",currentPlan:e.user.premium&&e.user.premium.currentPlan,total:e.user.counts?e.user.counts.videoTotalLimitation:0,showTotal:e.user.counts?e.user.counts.video:0,videoLimitation:e.user.counts?e.user.counts.videoLimitation:20,showRecordPanel:!!e.ui&&e.ui.showRecordPanel,isSpaceOwner:!!e.ui&&e.ui.isSpaceOwner,updateContent:vr}}),gr)((function(e){var t=Xn((0,Zt.useState)(!1),2),n=t[0],r=t[1],o=Xn((0,Zt.useState)("normal"),2),i=o[0],a=o[1],c=Xn((0,Zt.useState)("screen"),2),s=c[0],l=c[1],u=Xn((0,Zt.useState)(3),2),d=u[0],f=u[1],m=Xn((0,Zt.useState)("1080"),2),h=m[0],p=m[1],v=Xn((0,Zt.useState)(""),2),y=v[0],g=v[1],b=Xn((0,Zt.useState)("00:00"),2),w=b[0],j=b[1],x=Xn((0,Zt.useState)(3),2),S=x[0],I=x[1],O=Xn((0,Zt.useState)(!1),2),E=O[0],N=O[1],D=Xn((0,Zt.useState)(!1),2),A=D[0],C=D[1],P=Xn((0,Zt.useState)(!1),2),k=P[0],T=P[1],L=Xn((0,Zt.useState)(5),2),_=L[0],R=L[1],M=Xn((0,Zt.useState)(!1),2),Z=M[0],F=M[1],U=Xn((0,Zt.useState)(""),2),H=U[0],G=U[1],V=Xn((0,Zt.useState)(!1),2),B=V[0],W=V[1],z=Xn((0,Zt.useState)(!1),2),K=z[0],Y=z[1],Q=Xn((0,Zt.useState)(!1),2),q=Q[0],J=Q[1],X=Xn((0,Zt.useState)(!0),2),$=X[0],ee=X[1],te=Xn((0,Zt.useState)(!0),2),ne=te[0],re=te[1],oe=Xn((0,Zt.useState)(!1),2),ie=oe[0],ae=oe[1],ce=Xn((0,Zt.useState)(0),2),se=ce[0],le=ce[1],ue=Xn((0,Zt.useState)(0),2),de=ue[0],fe=ue[1],me=Xn((0,Zt.useState)(!1),2),he=me[0],pe=me[1],ve=Xn((0,Zt.useState)(!1),2),ye=ve[0],ge=ve[1],be=Xn((0,Zt.useState)(!1),2),we=be[0],je=be[1],xe=(0,Zt.useRef)(),Se=(0,Zt.useRef)(B);Se.current=B;var Ie=(0,Zt.useRef)(i);Ie.current=i;var Oe,Ee,Ne,De,Ae=e.updateRecordPanel,Ce=e.updateIsRecording,Pe=(0,Ft.s0)(),ke=function(){var e,t;return"1080"===h?(e=1920,t=1080):"720"===h?(e=1280,t=720):(e=3840,t=2160),{maxWidth:e,maxHeight:t}},Le=ke(),_e=Le.maxWidth,Re=Le.maxHeight;(0,Zt.useEffect)((function(){if(0===se&&0===de&&localStorage.tranX&&localStorage.tranY){var e=Et(localStorage.tranY),t=Nt(localStorage.tranX);le(t),fe(e)}return window.addEventListener("online",Me),document.addEventListener("visibilitychange",Ze),function(){}}),[]),(0,Zt.useEffect)((function(){Ue()&&Fe()}),[e.updateContent]);var Me=function(){ur&&ur.recoverConnect()},Ze=function(){"visible"===document.visibilityState&&Me()},Fe=function(){er=document.cookie.replace(/(?:(?:^|.*;\s*)screenshot_personal_uid=([^;]*).*$)|^.*$/,"$1"),y.length<=0&&er&&er.length>0&&!we?(je(!0),(0,Qt.kA_)().then((function(e){g(e.token),je(!1)})).catch((function(e){je(!1)}))):er&&er.length>0&&y.length>0&&je(!1)};(0,Zt.useEffect)((function(){e.showRecordPanel&&Fe()}),[e.showRecordPanel]);var Ue=function(){var e=window.location.pathname;return!(!e||!(e.startsWith("/my_items")||e.startsWith("/all_videos")||e.startsWith("/folder")||e.startsWith("/workspace")))};(0,Zt.useEffect)((function(){localStorage.record_countdown&&"undefined"!=localStorage.record_countdown&&"null"!=localStorage.record_countdown||(localStorage.record_countdown=3),f(parseInt(localStorage.record_countdown)),localStorage.max_resolution&&"undefined"!=localStorage.max_resolution||(window.screen.width*window.devicePixelRatio>3e3?localStorage.max_resolution="1080":localStorage.max_resolution="720"),p(localStorage.max_resolution)}),[s]);var He=1,Ge=function(e){e=!e||e.length<=0?0:Math.round(e),localStorage.record_countdown=e,f(e)},Ve=function(e,t){ur?(e||(R(ur.uploadRate()),a("uploading")),_<100&&!e?ar=setInterval((function(){var e;ur?(e=ur.uploadRate(),R(e),e&&e>=100&&(ar&&clearInterval(ar),t&&t())):(ar&&clearInterval(ar),t&&t())}),300):t&&t()):t&&t()},Be=function(e){localStorage.record_type=e.target.value,l(e.target.value),"screen"===e.target.value&&"Firefox"===Nn().name&&(sr&&(sr.getTracks().forEach((function(e){e.stop()})),sr.stop(),sr=null),r(!1))},We=function(e){localStorage.max_resolution=e,p(e);var t=ke();_e=t.maxWidth,Re=t.maxHeight},ze=function(){"paused"!==i&&(ur&&ur.pauseIt(),dr&&dr.pauseRecording(),a("paused"),cr=(new Date).getTime(),ir&&clearInterval(ir))},Ke=function(){lr&&(lr.getTracks().forEach((function(e){e.stop()})),lr.stop(),lr=null),function(){ht();var e=document.querySelector("#main-video");e&&(e.srcObject&&(sr==e.srcObject&&(sr=null),e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject.stop(),e.srcObject=null),e.pause(),e.srcObject=null)}(),yt(sr),nr&&(nr.getTracks().forEach((function(e){e.stop()})),nr.stop(),nr=null),pr&&(pr.close(),pr=null),e.loadUserInfo(!0)},Ye=function(e,t){Ke();var n=function(){try{ur.cancel(),ur.needReconnect=!1,ur.sentQueue=[],ur.willSendQueue=[],ur.close(1e3)}catch(e){}};dr?dr.stopRecording((function(){e?(n(),Ve(!0,(function(){ut(),ur=null,dr=null}))):ur&&(ur.complete(),Ve(!1,(function(){})))})):(ut(),ur&&(e&&n(),ur=null)),ir&&clearInterval(ir),rr=null,or=null,cr=null,T(!1),localStorage.video_need_complete=""};window.addEventListener("message",(function(e){"http://localhost:8080"!==e.origin&&"https://awesomescreenshot.com"!==e.origin&&"https://www.awesomescreenshot.com"!==e.origin||"pauseRecord"===e.data&&ze()}),!1);var Qe,qe=function(e){Ye(1==e)},Je=function(t){ur&&(ur.active=!1),t.serverError=function(t){qe(!1),t&&(t.indexOf("upgrade")>=0||"Professional Plan Required!"===t)?e.workspaceID&&e.workspaceID.length>0?ae(!0):(ee(!1),J(!0)):Yt.ZP.error(t,10)},t.connectError=function(){Yt.ZP.error("Network error! Please try again later!",10),T(!0),ze()},t.onComplete=function(){ar&&clearInterval(ar),ut(),ur&&(e.workspaceID?Pe("/video/"+ur.videoID,{state:{lastPath:"/workspace/"+e.workspaceID+"/"+e.channelID+(e.channelFolderID&&"0"!==e.channelFolderID?"/"+e.channelFolderID:"")}}):e.folderID&&e.folderID.length>0?Pe("/video/"+ur.videoID,{state:{lastPath:"0"!==e.folderID?"/folder/"+e.folderID:"/my_items/"}}):Pe("/video/"+ur.videoID,{state:{lastPath:"/all_videos/"}})),ur=null,dr=null,e.workspaceID?e.restoreChannelItemList():(e.restoreItemList(),e.restoreVideoList())},t.client="web_recorder",t.token=y,t.videoCodec="Safari"==Nn().name?"h264":"vp8",t.uid=er,t.version="1.0.1",t.videoName="AwesomeScreenshot-"+(new Date).toLocaleString("en-US").replace(/\s/g,""),t.workspaceID=e.workspaceID,t.channelID=e.channelID,t.folderID=e.folderID,t.channelFolderID=e.channelFolderID,(ur=new Mn.$(t)).connect()},Xe=function(){y.length<=0?!(er=document.cookie.replace(/(?:(?:^|.*;\s*)screenshot_personal_uid=([^;]*).*$)|^.*$/,"$1"))||er&&er.length<=0?Y(!0):Fe():(window.addEventListener("beforeunload",yr,!1),at({recordType:s,countdown:parseInt(localStorage.record_countdown),saveLocation:!1,resolution:localStorage.max_resolution,isRecordCam:n,camDeviceId:localStorage["cam-deviceId"],micDeviceId:localStorage["mic-deviceId"],isRecordTabSound:!1}))},$e=0,et=function(e,t){if(document.querySelector("#aws-page-countdown"))t&&t(!1);else if(st(),e<=0)t&&t(!0);else{N(!0);var n=e;I(n),j(n),n--,$e=setInterval((function(){if(I(n),n<=0)return $e&&clearInterval($e),$e=null,j("0:00"),N(!1),void(t&&t(!0));j(n),n--}),1e3)}},tt=function(e){e.preventDefault(),"uploading"!==i&&Ye(!1)},nt=function(t){t.preventDefault(),"uploading"!==i&&(re(e.showRecordPanel),C(!0),Ae({status:!0,channelID:e.channelID,workspaceID:e.workspaceID}))},rt=function(e){e.preventDefault(),"recording"===i?ze():"paused"===i&&(ur&&"connected"!==ur.status&&ur.resumeIt(),dr&&dr.resumeRecording(),ur&&(ur.isPaused=!1),st(),or=or+(new Date).getTime()-cr,T(!1),ir=setInterval(ct,100))},ot=function(){C(!1),ne||Ae({status:ne,channelID:e.channelID,workspaceID:e.workspaceID})},it=function(){C(!1),Ae({status:!1,channelID:e.channelID,workspaceID:e.workspaceID}),a("normal"),Ce({isRecording:!1}),window.removeEventListener("beforeunload",yr,!1),qe(!0)},at=function(e){if(pt(),a("preparing"),Ce({isRecording:!0}),"camera"==s)sr&&sr.active?Je({recordType:s,onopen:function(){et(e.countdown,(function(){setTimeout((function(){lt(e,sr)}),50)}))},onFailed:qe}):(dt(),St("showGuide",!0,"setup2"));else{var t={video:{cursor:"always",width:{max:_e},height:{max:Re},autoGainControl:!1,maxFrameRate:30,displaySurface:"monitor"},audio:!0};navigator.mediaDevices.getDisplayMedia(t).then((function(t){lr=t,Je({recordType:s,onopen:function(){et(e.countdown,(function(){setTimeout((function(){lt(e,lr)}),50)}))},onFailed:qe})})).catch((function(e){"NotAllowedError"!==e.name&&Yt.ZP.error(e.message,10),dt(),"Permission denied by system"===e.message&&(F(!0),/Mac OS/.test(navigator.userAgent)?G("setup_mac"):G("setup_win")),ht()}))}},ct=function(){var t,n,r=(new Date).getTime()-rr;or&&(r-=or),(t=r)>=(n=72e5*He)&&t<=n+100&&(window.open("/notification-recorder.html","Notification","chrome=yes,alwaysLowered=yes,alwaysRaised=yes,centerscreen=yes,width=300,height=320"),He++);var o=(0,Te.nH)(Math.round(r/1e3));j(o),(r>216e5||r>3e5&&(y.length<=0||!e.user||!e.user.premium||!e.user.premium.currentPlan||e.total>e.videoLimitation&&e.user.premium.currentPlan&&(""===e.user.premium.currentPlan.PlanName||"free"===e.user.premium.currentPlan.PlanName||"basic"===e.user.premium.currentPlan.PlanName)))&&Ye(!1)},st=function(){a("recording"),Ce({isRecording:!0})},lt=function(e,t){st(),rr=(new Date).getTime(),ir=setInterval(ct,100),ft(t)},ut=function(){dt(),Ae({status:!1,channelID:e.channelID,workspaceID:e.workspaceID})},dt=function(){a("normal"),Ce({isRecording:!1}),window.removeEventListener("beforeunload",yr,!1)},ft=function(e){if(e&&e.active){var t={type:"video",disableLogs:!1,getNativeBlob:!0,timeSlice:500,ondataavailable:function(e){ur.send(e)}},n=t.videoCodec;t.videoCodec||(n="Safari"==Nn().name?"h264":"vp8"),n&&(t.mimeType="video/webm; codecs="+n.toLowerCase());var r=new MediaStream;if(nr)t.mimeType+=",opus",mt([nr,e]).getAudioTracks().forEach((function(e){r.addTrack(e)}));else e.getAudioTracks().forEach((function(e){r.addTrack(e)}));e.getVideoTracks().forEach((function(e){r.addTrack(e)})),dr=new(Rn())(r,t);try{dr.startRecording()}catch(e){}r.onended=function(e){qe(!1)},r.getVideoTracks()[0].onended=function(){r.stop(),r&&r.onended&&r.onended()}}else qe(!0)},mt=function(e){var t=window.AudioContext||window.webkitAudioContext;pr=new t;var n=[],r=pr.createGain();r.connect(pr.destination),r.gain.value=0;var o=0;if(e.forEach((function(e){if(e.getAudioTracks().length){o++;var t=pr.createMediaStreamSource(e);t.connect(r),n.push(t)}})),o){var i=pr.createMediaStreamDestination();return n.forEach((function(e){e.connect(i)})),i.stream}},ht=function(){var e=document.querySelector("#main-video");e||(e=fr),"screen"==s&&(document.exitPictureInPicture?document.exitPictureInPicture().catch((function(){})):e&&e.webkitSetPresentationMode&&e.webkitSetPresentationMode("inline")),e&&n&&"normal"===i&&sr&&(e.srcObject=sr)},pt=function(){var e=document.querySelector("#main-video");e&&"screen"===s&&sr&&(e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSupportsPresentationMode?e.webkitSupportsPresentationMode("picture-in-picture"):e.requestPictureInPicture&&e.requestPictureInPicture(),e.addEventListener("leavepictureinpicture",(function(e){e.target&&e.target.srcObject&&"recording"===Ie.current&&yt(e.target.srcObject)})))},vt=function(t){Ae({status:t,channelID:e.channelID,workspaceID:e.workspaceID}),t||"normal"!==i||Ke()},yt=function(e){e&&(e===sr&&W(!1),e.getTracks().forEach((function(e){e.stop()})),e.stop(),e=null)},gt=function(e){(e.preventDefault(),"screen"===s)&&(B?(W(!1),ht(),yt(sr)):(W(!0),navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){!function(e){if(Se.current){sr=e;var t=document.querySelector("#main-video");t||(t=document.createElement("video"),fr=t),t&&"screen"===s&&e&&(t.srcObject=e,t.onloadedmetadata=function(){t.play(),t.webkitSupportsPresentationMode&&"function"==typeof t.webkitSupportsPresentationMode?t.webkitSupportsPresentationMode("picture-in-picture"):t.requestPictureInPicture&&t.requestPictureInPicture().then((function(){}),(function(e){}))},t.addEventListener("leavepictureinpicture",(function(e){e.target&&e.target.srcObject&&yt(e.target.srcObject)})))}else W(!1),yt(e)}(e),St("showGuide",!1)}),(function(e){W(!1),e&&"Permission denied"===e.message&&St("showGuide",!0,"setup2")}))))},bt=function(){Ae({status:!1}),"normal"===i&&Ke(),Pe("/pricing?from=video-alert")},wt=(0,$t.jsxs)(In.Z,{onClick:function(t){var n=t.key;if(n){if("720"!==n){if(y.length<=0||!e.user||!e.user.premium||!e.user.premium.currentPlan)return void Y(!0);if(e.user.premium.currentPlan&&e.total>e.videoLimitation&&(""===e.user.premium.currentPlan.PlanName||"free"===e.user.premium.currentPlan.PlanName||"basic"===e.user.premium.currentPlan.PlanName))return qe(!1),ee(!0),void J(!0)}We(n)}},selectedKeys:h,children:[(0,$t.jsx)(In.Z.Item,{className:"resolution-select-item",children:(0,$t.jsx)("span",{children:tr[720]})},"720"),(0,$t.jsx)(In.Z.Item,{className:"resolution-select-item",children:(0,$t.jsx)("span",{className:"pro-icon",children:tr[1080]})},"1080"),(0,$t.jsx)(In.Z.Item,{className:"resolution-select-item",children:(0,$t.jsx)("span",{className:"pro-icon",children:tr["4k"]})},"4k")]}),jt=function(e){nr=e},xt=function(e,t,n){"showGuide"===e?(F(t),G("setup2"===n?"setup2":"setup1")):"audio_setup"===e&&(mr=t)},St=function(e,t,n){"camera_status"==e?r(t):"showGuide"===e?(F(t),G("setup2"===n?"setup2":"setup1")):"camera_setup"===e&&(hr=t)},It=function(e){sr=e,"screen"===s&&W(!!sr)},Ot=function(e){e.preventDefault(),Ne>=0&&De>=0&&(Oe=parseInt(e.pageX-Ne)+parseInt(se),Ee=parseInt(e.pageY-De)+parseInt(de),Ee=Et(Ee),Oe=Nt(Oe),xe.current.style.transform="translate("+Oe+"px,"+Ee+"px)")},Et=function(e){return Number.isNaN(e)?0:(e<0?e=0:e>window.innerHeight-60&&(e=window.innerHeight-60),e)},Nt=function(e){if(Number.isNaN(e))return 0;var t=window.innerWidth/2-("uploading"===i?134:210),n=t+("uploading"===i?40:50);return e>t?e=t:e+n<0&&(e=0-n),e},Dt=function e(t){t.preventDefault(),pe(!1),Ne>0&&De>0&&void 0!==Oe&&void 0!==Ee&&(fe(Et(Ee)),le(Nt(Oe)),localStorage.tranX=parseInt(Nt(Oe)),localStorage.tranY=parseInt(Et(Ee)),Ne=-1,De=-1,Oe=void 0,Ee=void 0),document.documentElement.removeEventListener("mousemove",Ot,!1),document.documentElement.removeEventListener("mouseup",e,!1)},At=function(e){e.stopPropagation()},Ct=function(){var e=!1,t=900,n={video:!0,audio:!0};hr&&!mr?n={video:!0}:mr&&!hr&&(n={audio:!0},t=400),setTimeout((function(){e||(e=!0,St("showGuide",!0,"setup1"))}),t),navigator.mediaDevices.getUserMedia(n).then((function(t){e=!0;var n="",r="";t.getTracks().forEach((function(e){"audio"==e.kind?(n=e.getSettings().deviceId,localStorage["mic-deviceId"]=n):"video"==e.kind&&(r=e.getSettings().deviceId,localStorage["cam-deviceId"]=r),"Firefox"!=Nn().name&&e.stop()})),"Firefox"!=Nn().name&&t.stop(),St("showGuide",!1),ge(!ye)}),(function(t){e=!0,"Permission denied by system"===t.message?(F(!0),/Mac OS/.test(navigator.userAgent)?G("setup_mac"):G("setup_win")):St("showGuide",!0,"setup2"),ge(!ye)}))};return(0,$t.jsxs)($t.Fragment,{children:[e.showRecordPanel||"normal"===i?(0,$t.jsx)($t.Fragment,{}):(0,$t.jsxs)("div",{ref:xe,className:"recorder-miniview "+i+(he?" drag":""),style:{transform:"translate("+se+"px,"+de+"px)"},children:[(0,$t.jsx)("div",{className:"drag-item",onMouseDown:function(e){e.preventDefault(),Ne=e.pageX,De=e.pageY,Oe=void 0,Ee=void 0,pe(!0),document.documentElement.addEventListener("mousemove",Ot,!1),document.documentElement.addEventListener("mouseup",Dt,!1)},children:(0,$t.jsx)(Xt.Vn,{className:"icon"})}),"recording"===i||"paused"===i?(0,$t.jsxs)("div",{className:"mini-content "+i,children:[(0,$t.jsx)(jn.Z,{title:"Discard",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"action-item",onClick:nt,children:(0,$t.jsx)(Xt.GR,{className:"icon"})})}),"screen"===s?(0,$t.jsx)(jn.Z,{title:B?"Close Camera":"Embed Camera",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"action-item",onClick:gt,children:B?(0,$t.jsx)(Xt.aY,{className:"icon"}):(0,$t.jsx)(Xt.pG,{className:"icon"})})}):(0,$t.jsx)($t.Fragment,{}),(0,$t.jsxs)("div",{className:"action-records",children:[(0,$t.jsx)(jn.Z,{title:"recording"===i?"Pause":"Resume",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"icon-pause",onClick:rt,children:"recording"===i?(0,$t.jsx)(Xt.HC,{className:"icon"}):(0,$t.jsx)(Xt.a6,{className:"icon"})})}),(0,$t.jsx)(jn.Z,{title:"Stop",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsxs)("div",{className:"icon-stop",onClick:tt,children:[(0,$t.jsx)(Xt.vp,{className:"icon"}),(0,$t.jsxs)("div",{className:"record-time",children:[" ",w]})]})})]}),(0,$t.jsx)(jn.Z,{title:"MaxSize",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"resize",onClick:function(){return vt(!0)},children:(0,$t.jsx)(Xt.tj,{className:"icon"})})})]}):"uploading"===i?(0,$t.jsxs)("div",{className:"mini-content",children:[(0,$t.jsx)(wn.Z,{className:"progress",strokeWidth:6,trailColor:"rgba(191, 213, 251, 0.3)",strokeColor:"#5794FF",style:{color:"#ffff"},type:"circle",percent:_,width:40}),(0,$t.jsx)("div",{className:"tips",children:"uploading"}),(0,$t.jsx)("div",{className:" resize",onClick:function(){return vt(!0)},children:(0,$t.jsx)(Xt.tj,{className:"icon"})})]}):void 0]}),(0,$t.jsx)(bn.Z,{visible:e.showRecordPanel,onCancel:function(){return vt(!1)},footer:null,bodyStyle:{padding:10},maskClosable:!1,closable:"normal"===i,closeIcon:(0,$t.jsx)(Xt.Tw,{style:{fontSize:"12px"}}),destroyOnClose:!0,height:500,width:"auto",centered:!0,children:(0,$t.jsxs)("div",{className:"recorder-content "+s+" "+i,children:[(0,$t.jsx)("div",{className:"video-content model-item "+("camera"===s||n&&"normal"===i?"show":""),children:(0,$t.jsx)("video",{id:"main-video",autoPlay:!0})}),(0,$t.jsx)("div",{className:"siderbar-area model-item "+i+" "+s,children:(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"normal-view layout-view",children:[(0,$t.jsxs)("div",{className:"record-type-container ".concat(s+"-display"),children:[(0,$t.jsx)("div",{className:"record-type-item desktop",children:(0,$t.jsxs)("label",{htmlFor:"record-type-desktop",className:"record-type-label",children:[(0,$t.jsx)("input",{type:"radio",name:"record-type",onChange:Be,id:"record-type-desktop",value:"screen"}),(0,$t.jsx)("div",{children:(0,$t.jsx)(Xt.tN,{})}),"Desktop"]})}),(0,$t.jsx)("div",{className:"record-type-item camera",children:(0,$t.jsxs)("label",{htmlFor:"record-type-camera",className:"record-type-label",children:[(0,$t.jsx)("input",{type:"radio",name:"record-type",onChange:Be,id:"record-type-camera",value:"camera"}),(0,$t.jsx)("div",{children:(0,$t.jsx)(Xt.V_,{})}),"Camera Only"]})})]}),(0,$t.jsxs)("div",{className:"record-menu",children:[(0,$t.jsxs)("div",{className:"record-settings",children:[(0,$t.jsx)(qn,{recordType:s,recordStatus:i,showRecordModel:e.showRecordPanel,updateAudioStream:jt,updateAudioStatus:xt,setupAction:Ct,updateCellUI:ye}),"camera"===s||"Firefox"!=Nn().name?(0,$t.jsx)(Jn,{recordType:s,showRecordModel:e.showRecordPanel,recordStatus:i,updateCameraStream:It,updateCameraStatus:St,resolution:ke(),setupAction:Ct,updateCellUI:ye}):"",(0,$t.jsxs)("div",{className:"record-setting-item field-resolution",children:[(0,$t.jsx)(Xt.HH,{className:"record-option-item-icon"}),(0,$t.jsx)("span",{className:"record-option-title",children:"Max Resolution"}),(0,$t.jsx)("div",{className:"action",children:(0,$t.jsx)("div",{className:"option-select",children:(0,$t.jsx)(Sn.Z,{overlay:wt,trigger:["click"],placement:"bottomRight",children:(0,$t.jsxs)(Wt.Z,{className:"option-select-button",size:"small",children:[tr[h],(0,$t.jsx)("span",{className:"option-select-arrow",unselectable:"on","aria-hidden":"true",style:{userSelect:"none"},children:(0,$t.jsx)("span",{role:"img","aria-label":"down",className:"anticon anticon-down ant-select-suffix",children:(0,$t.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,$t.jsx)("path",{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"})})})})]})})})})]}),(0,$t.jsxs)("div",{className:"record-setting-item field-countdown",children:[(0,$t.jsx)(On.Z,{className:"record-option-item-icon"}),(0,$t.jsx)("span",{className:"record-option-title",children:"Countdown"}),(0,$t.jsxs)("div",{className:"action",children:[(0,$t.jsx)(xn.Z,{id:"countdown-input",className:"record-option-number",type:"number",size:"small",min:0,max:10,onChange:Ge,value:d}),"s"]})]})]}),e.currentPlan&&("professional"===e.currentPlan.PlanName||"team"===e.currentPlan.PlanName||e.total>=e.videoLimitation)?"":(0,$t.jsxs)("div",{className:"premium-alert-container",children:[(0,$t.jsx)("div",{className:"premium-alert-txt",children:e.total<=e.videoLimitation&&(""===e.currentPlan.PlanName||"free"===e.currentPlan.PlanName||"basic"===e.currentPlan.PlanName)?(0,$t.jsxs)("div",{className:"try",children:["Enjoy all premium features for first 20 videos.",(0,$t.jsx)("a",{className:"upgrade",onClick:bt,children:"Upgrade"})," ","to unlock unlimited videos."]}):"Your free trial of Professional video features has ended. Now your recording can be up to 5 minutes."}),(0,$t.jsx)("div",{className:"premium-alert-sep"}),(0,$t.jsx)("div",{className:"premium-alert-link",children:e.total<=e.videoLimitation&&(""===e.currentPlan.PlanName||"free"===e.currentPlan.PlanName||"basic"===e.currentPlan.PlanName)?e.showTotal+"/"+e.videoLimitation:(0,$t.jsx)("div",{to:"/pricing?from=web-recorder-tip",onClick:bt,children:"Upgrade"})})]}),(0,$t.jsx)(Wt.Z,{onClick:Xe,loading:we,className:"record-start-btn ".concat(we||"camera"===s&&!n?"disabled":""),id:"record-start",children:"Start Recording"})]})]}),(0,$t.jsxs)("div",{className:"preparing-view layout-view "+s,children:[(0,$t.jsxs)("div",{className:"loading",children:[(0,$t.jsx)("div",{className:"double-bounce1"}),(0,$t.jsx)("div",{className:"double-bounce2"})]}),(0,$t.jsx)("div",{className:"prepare-tip",children:"Preparing for recording ..."})]}),(0,$t.jsxs)("div",{className:"recording-view layout-view "+s,children:[(0,$t.jsxs)("div",{className:"recording-header",children:[(0,$t.jsx)("div",{className:"recording-tips",children:"uploading"===i?"Uploading":"paused"===i?"Paused":"Recording"}),(0,$t.jsx)(jn.Z,{title:"MinSize",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"recording-action-btn",onClick:function(){return vt(!1)},children:(0,$t.jsx)(Xt.Mj,{})})})]}),(0,$t.jsx)("div",{className:"blue-area",style:{display:"uploading"===i?"none":"block"},children:(0,$t.jsx)("div",{className:"time",children:w})}),(0,$t.jsx)("div",{className:"upload-process",style:{display:"uploading"===i?"block":"none"},children:(0,$t.jsx)(wn.Z,{className:"progress",strokeWidth:6,trailColor:"rgba(191, 213, 251, 0.3)",strokeColor:"#5794FF",type:"circle",percent:_,width:60})}),(0,$t.jsxs)("div",{className:"popup",style:{display:A?"block":"none"},children:[(0,$t.jsx)("h3",{children:"Warning"}),(0,$t.jsx)("p",{children:"Discarded recording will be permanently deleted. Are you sure you want to discard this recording?"}),(0,$t.jsxs)("div",{className:"btn-area",children:[(0,$t.jsx)("div",{className:"popup-btn",onClick:ot,id:"discard-cancel",children:"No"}),(0,$t.jsx)("div",{className:"popup-btn discard-btn",onClick:it,id:"discard-confirm",children:"Yes, discard"})]})]}),k?(0,$t.jsx)("div",{className:"recording-error",children:"Recording paused due to network error. Check your network and click resume to continue recording after your network is back to normal; or click Stop to save what has been recorded and then report the issue to us."}):"",(0,$t.jsxs)("div",{className:"recording-action ".concat("uploading"===i?"disabled":""," ").concat("paused"===i?"paused":""),children:[(0,$t.jsx)(jn.Z,{title:"Discard",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"recording-action-btn icon",onClick:nt,id:"record-discard",children:(0,$t.jsx)(Xt.GR,{})})}),"screen"===s?(0,$t.jsx)(jn.Z,{title:B?"Close Camera":"Embed Camera",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"recording-action-btn icon",onClick:gt,children:B?(0,$t.jsx)(Xt.aY,{className:"icon"}):(0,$t.jsx)(Xt.pG,{className:"icon"})})}):(0,$t.jsx)($t.Fragment,{}),(0,$t.jsxs)("div",{className:"record-actions",children:[(0,$t.jsx)(jn.Z,{title:"recording"===i?"Pause":"Resume",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"recording-action-btn icon-pause icon",onClick:rt,id:"record-pause",children:"recording"===i?(0,$t.jsx)(Xt.HC,{className:"icon"}):(0,$t.jsx)(Xt.a6,{className:"icon"})})}),(0,$t.jsx)(jn.Z,{title:"Stop",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,$t.jsxs)("div",{className:"recording-action-btn stop",onClick:tt,id:"record-stop",children:[(0,$t.jsx)(Xt.vp,{className:"icon-stop"}),"STOP"]})})]})]})]}),(0,$t.jsx)("div",{className:"uploading-view layout-view"})]})})]})}),E?(0,$t.jsx)("div",{className:"fullscreen-wrapper",children:(0,$t.jsxs)("div",{className:"content center",children:[(0,$t.jsx)("div",{className:"sec",children:S}),(0,$t.jsx)("div",{className:"tip",children:"Ready to record"})]})}):"",Z?(0,$t.jsx)("div",{className:"fullscreen-wrapper",onClick:function(){F(!1)},children:(Qe=H,"setup1"===Qe?(0,$t.jsx)("div",{className:"content topleft",children:(0,$t.jsx)("div",{className:"arrow"})}):"setup2"===Qe?(0,$t.jsxs)("div",{className:"block-guide",onClick:At,children:[(0,$t.jsxs)("div",{className:"title-field",children:[(0,$t.jsx)("span",{children:"Camera and microphone blocked"}),(0,$t.jsx)(Xt.Tw,{style:{fontSize:"12px"},onClick:function(){F(!1)}})]}),(0,$t.jsxs)("div",{className:"des",children:["Please click"," ",(0,$t.jsx)("div",{children:(0,$t.jsx)(Xt.mB,{})})," ","Icon, find the microphone and camera, and turn on the switch."]}),(0,$t.jsx)("video",{src:/Edg/.test(window.navigator.userAgent)?Ln:Tn,autoPlay:!0,loop:!0,muted:!0})]}):"setup_mac"===Qe?(0,$t.jsxs)("div",{className:"block-guide",onClick:At,children:[(0,$t.jsxs)("div",{className:"title-field",children:[(0,$t.jsx)("span",{children:"Recording failed to start"}),(0,$t.jsx)(Xt.Tw,{style:{fontSize:"12px"},onClick:function(){F(!1)}})]}),(0,$t.jsx)("p",{children:"Please follow steps below to enable access so that you can continue recording."}),(0,$t.jsxs)("ol",{children:[(0,$t.jsxs)("li",{children:["Choose ",(0,$t.jsx)("span",{className:"bold",children:"Apple menu"})," >",(0,$t.jsx)("span",{className:"bold",children:" System Preferences"}),", click",(0,$t.jsx)("span",{className:"bold",children:"Security & Privacy"}),", then click  ",(0,$t.jsx)("span",{className:"bold",children:"Privacy"})]}),(0,$t.jsxs)("li",{children:["Select ",(0,$t.jsx)("span",{className:"bold",children:"Screen Recording"}),"(must), ",(0,$t.jsx)("span",{className:"bold",children:" Microphone"}),"  or",(0,$t.jsx)("span",{className:"bold",children:" Camera"})]}),(0,$t.jsx)("li",{children:"Select the checkbox next to the browser"}),(0,$t.jsx)("li",{children:"Restart your browser and retry"})]}),(0,$t.jsx)("img",{src:Pn})]}):"setup_win"===Qe?(0,$t.jsxs)("div",{className:"block-guide",onClick:At,children:[(0,$t.jsxs)("div",{className:"title-field",children:[(0,$t.jsx)("span",{children:"Recording failed to start"}),(0,$t.jsx)(Xt.Tw,{style:{fontSize:"12px"},onClick:function(){F(!1)}})]}),(0,$t.jsx)("p",{children:"Please follow steps below to enable access so that you can continue recording."}),(0,$t.jsxs)("ol",{children:[(0,$t.jsxs)("li",{children:["Go to ",(0,$t.jsx)("span",{className:"bold",children:"Start"})," > ",(0,$t.jsx)("span",{className:"bold",children:"Settings"})," > ",(0,$t.jsx)("span",{className:"bold",children:"Privacy"})," > ",(0,$t.jsx)("span",{className:"bold",children:"Camera"})," or  ",(0,$t.jsx)("span",{className:"bold",children:"Microphone"})]}),(0,$t.jsxs)("li",{children:["Turn on ",(0,$t.jsx)("span",{className:"bold",children:"Allow apps to access your camera or microphone"}),"."]}),(0,$t.jsxs)("li",{children:["Turn on ",(0,$t.jsx)("span",{className:"bold",children:"Allow desktop apps to access your camera or microphone"})]}),(0,$t.jsx)("li",{children:"Restart your browser and retry"})]}),(0,$t.jsx)("img",{src:kn,alt:""})]}):void 0)}):"",(0,$t.jsx)(Zn.Z,{visible:K,onCancel:function(){Y(!1)},type:"web",onSignInFinish:function(){var t=er.length<=0;Y(!1),t&&((er=document.cookie.replace(/(?:(?:^|.*;\s*)screenshot_personal_uid=([^;]*).*$)|^.*$/,"$1"))&&er.length>0?(e.loadUserInfo(),(0,Qt.kA_)().then((function(e){g(e.token)}))):Y(!0))}}),(0,$t.jsx)(Dn.Z,{visible:q,onCancel:function(){J(!1),We("720")},type:$?"recordResolution":"uploadVideo"}),(0,$t.jsx)(Fn.Z,{visible:ie,onCancel:function(){ae(!1)},isOwner:e.isChannelOwner,workspaceID:e.workspaceID,type:"itemAdd",channelID:e.channelID})]})}));const wr=function(){var e=(0,Gt.Z)().get("extra"),t=null,n=null,r=null;return e&&(t=JSON.parse(atob(decodeURIComponent(e))),r=t.token,n=t.uid),[!(!n||!r),function(e){(0,Qt.fvm)(n,r).then((function(t){1===t.data.code?window.location.reload():null==e||e()}))},n]};n(62703);var jr=n(273),xr=n(42762),Sr=n(24421),Ir=n(17563),Or=n(1852),Er=n.n(Or),Nr=n(28235);var Dr=n(79993),Ar=n(99096),Cr=n(63173),Pr=n(58010);function kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Lr=function(){var e=kr((0,Zt.useState)(!1),2),t=e[0],n=e[1];return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(jn.Z,{title:"Send feedback",children:(0,$t.jsx)("div",{className:"header-feedback-btn",onClick:function(){return n(!0)},children:(0,$t.jsx)(Xt.Ak,{})})}),(0,$t.jsx)(Pr.r,{visible:t,onCancel:function(){return n(!1)}})]})};var _r=n(32250);function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Mr(){Mr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:j(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,i)&&(p=y);var g=h.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==Rr(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Zr(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var Fr=(0,r.PH)(w.a.NOTIFICATION_LOADING),Ur=(0,r.PH)(w.a.NOTIFICATION_LOAD);var Hr=(0,r.PH)(w.a.NOTIFICATION_MARK_AS_READ);var Gr=(0,r.PH)(w.a.NOTIFICATION_ALL_MARK_AS_READ);n(25562);var Vr=n(12028),Br=n(38640),Wr=n(56931);const zr=function(e){var t=e.notification,n=e.onMarkAsRead,r=e.closeDropdown,o=e.onMultipleMarkAsRead,i=JSON.parse(t.data),a=t.users,c=a[t.actorID],s=(0,Ft.s0)();function l(e){e&&(/http/.test(e)?window.open(e):s(e),"itemAddComment"===t.type?o(i.itemType,i.itemID):n(t.id),r())}var u=Jt()("notification-item",{new:"unread"===t.status});return(0,$t.jsxs)(Br.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},layout:"position",transition:{duration:.2},className:u,children:[(0,$t.jsx)("div",{className:"avatar-area",children:"referralAccepted"===t.type?(0,$t.jsx)("div",{className:"icon refer-icon",children:(0,$t.jsx)(Wr.Z,{})}):(0,$t.jsx)($t.Fragment,{children:c&&"teamTransfer"!==t.type?(0,$t.jsx)(Ar.Z,{username:c.fullName,size:40,avatarUrl:c.avatarURL}):(0,$t.jsx)("div",{className:"icon workspace-icon",children:(0,$t.jsx)(Xt.MC,{})})})}),(0,$t.jsxs)("div",{className:"content-area",children:[function(){switch(t.type){case"workspaceItemAdded":return i.imagesCount||i.videosCount?(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," added"," ",(e=i.imagesCount,n=i.videosCount,r="",o="",e&&(r=e>1?e+" images":"1 image"),n&&(o=n>1?n+" videos":"1 vidoe"),r&&o?r+" and "+o:!r&&o?o:r&&!o?r:void 0)," to"," ",(0,$t.jsx)("span",{className:"link",onClick:function(){l("/workspace/"+t.channel.workspaceID+"/"+t.channel.id)},children:t.channel&&t.channel.name})]}):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," added a image to"," ",(0,$t.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]}),(0,$t.jsxs)("div",{className:"item",children:["video"===i.itemType?(0,$t.jsx)(Xt.dG,{className:"video"}):(0,$t.jsx)(Xt.K,{className:"image"}),(0,$t.jsx)("span",{className:"item-link",onClick:function(){l("/"+i.itemType+"/"+i.itemID)},children:i.itemTitle})]})]});case"workspaceChannelDeleted":return(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:"content",children:["Channel ",(0,$t.jsx)("span",{className:"highlight",children:i.channelName})," has been deleted."]})});case"workspaceChannelMemberQuit":return i.actorID===i.quitUserID?(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," has left"," ",(0,$t.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]}):(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," has removed"," ",(0,$t.jsx)("span",{className:"name",children:a[i.quitUserID].fullName})," from"," ",(0,$t.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]});case"workspaceChannelMemberJoin":return(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," has joined"," ",(0,$t.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]});case"workspaceMemberJoin":return(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," has joined"," ",(0,$t.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})]});case"workspaceMemberQuit":return i.actorID===i.quitUserID?(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," has left"," ",(0,$t.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})]}):(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," has removed"," ",(0,$t.jsx)("span",{className:"name",children:a[i.quitUserID].fullName})," from"," ",(0,$t.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})]});case"workspaceChannelNameChanged":return(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"highlight",children:i.oldName})," has been renamed to"," ",(0,$t.jsx)("span",{className:"link",onClick:function(){l("/workspace/"+i.workspaceID+"/"+i.channelID)},children:i.newName})]});case"workspaceNameChanged":return(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"highlight",children:i.oldName})," has been renamed to ",(0,$t.jsx)("span",{className:"highlight",children:i.newName})]});case"itemAddComment":return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName}),i.isMentioned?" mentioned you on ":" comment on your ",i.itemType," ",(0,$t.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]}),(0,$t.jsxs)("div",{className:"comment-inner-item",onClick:function(){l("/"+i.itemType+"/"+i.itemID+(i.shareKey?"?key="+i.shareKey:""))},children:[(0,$t.jsxs)("div",{className:"comment-item-item",children:["video"===i.itemType?(0,$t.jsx)(Xt.dG,{className:"video"}):(0,$t.jsx)(Xt.K,{className:"image"}),(0,$t.jsx)("span",{className:"item-title",children:i.itemTitle})]}),(0,$t.jsx)("div",{className:"comment-item-content",dangerouslySetInnerHTML:{__html:i.content}})]})]});case"workspaceChannelItemReturn":return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"content",children:["Your ","video"===i.itemType?"video":"image"," has been returned to your ",(0,$t.jsx)("span",{className:"name",children:"My Items"})]}),(0,$t.jsxs)("div",{className:"item",children:["video"===i.itemType?(0,$t.jsx)(Xt.dG,{className:"video"}):(0,$t.jsx)(Xt.K,{className:"image"}),(0,$t.jsx)("span",{className:"item-link",onClick:function(){l("/"+i.itemType+"/"+i.itemID)},children:i.title})]})]});case"workspaceChannelTransferOwner":return(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," has transferred the ownership of"," ",(0,$t.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})," ","to you"]})});case"workspaceMemberKicked":return(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," removed you from"," ",(0,$t.jsx)("span",{className:"highlight",children:i.workspaceName}),"."]})});case"workspaceChannelKicked":return(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," removed you from"," ",(0,$t.jsx)("span",{className:"highlight",children:i.channelName}),"."]})});case"workspacePayFailedForMember":return(0,$t.jsx)($t.Fragment,{children:i.actorID===t.workspace.ownerUID+""||0===i.actorID?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"content",children:"Check/update your payment information to allow pending members to join your workspace and access all premium features."}),(0,$t.jsx)("div",{className:"go-to-upgrade",children:(0,$t.jsx)(Wt.Z,{type:"primary",ghost:!0,onClick:function(){l("/workspace/setting/"+t.workspaceID+"?tab=billing")},children:"Go to Billing & Plans"})})]}):(0,$t.jsx)($t.Fragment,{children:(0,$t.jsx)("div",{className:"content",children:"You could not access all workspace premium features due to the failed payment. Remind your owner to update payment information."})})});case"workspacePayFailed":return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"content",children:i.content?(0,$t.jsx)($t.Fragment,{children:i.content}):(0,$t.jsxs)($t.Fragment,{children:["The lasted payment for"," ",(0,$t.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})," ","failed. Please check/update your payment information."]})}),(0,$t.jsx)("div",{className:"go-to-upgrade",children:(0,$t.jsx)(Wt.Z,{type:"primary",ghost:!0,onClick:function(){l(i.link||"/workspace/setting/"+t.workspaceID+"?tab=billing")},children:i.buttonText?i.buttonText:"Go to Billing & Plans"})})]});case"personalPayFailed":return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"content",children:i.content}),i.link&&(0,$t.jsx)("div",{className:"go-to-upgrade",children:(0,$t.jsx)(Wt.Z,{type:"primary",ghost:!0,onClick:function(){l(i.link)},children:i.buttonText?i.buttonText:"Go to Billing & Plans"})})]});case"workspacePayForMember":return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," tried to join"," ",(0,$t.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name}),". Workspace Lite is limited to a maximum of 5 members. Upgrade to invite more members."]}),(0,$t.jsx)("div",{className:"go-to-upgrade",children:(0,$t.jsx)(Wt.Z,{type:"primary",ghost:!0,onClick:function(){l("/workspace/setting/"+t.workspaceID+"?tab=billing")},children:"Go to upgrade"})})]});case"workspacePayForItem":return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{className:"name",children:c.fullName})," tried to add a new item to"," ",(0,$t.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name}),". Workspace has reached item limit. Upgrade to unlock more premium features."]}),(0,$t.jsx)("div",{className:"go-to-upgrade",children:(0,$t.jsx)(Wt.Z,{type:"primary",ghost:!0,onClick:function(){l("/workspace/setting/"+t.workspaceID+"?tab=billing")},children:"Go to upgrade"})})]});case"teamTransfer":return(0,$t.jsx)($t.Fragment,{children:(0,$t.jsx)("div",{className:"content",children:"Your team has transferred to workspace."})});case"referralAccepted":return(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:"content",children:["Your friend ",(0,$t.jsx)("span",{className:"name",children:c.fullName})," has joined Awesome Screenshot via your invitation."]})});case"personalPayCancelAppleSub":return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("b",{children:"Please cancel your in-app purchase on the App Store to prevent a dual subscription."})," ","It seems like you recently joined a Workspace while subscribing to a Basic/Professional plan on Apple App Store."]}),(0,$t.jsx)("div",{className:"go-to-upgrade",children:(0,$t.jsx)(Wt.Z,{type:"primary",ghost:!0,onClick:function(){l("https://apps.apple.com/account/subscriptions")},children:"Go to App store"})})]})}var e,n,r,o}(),(0,$t.jsx)("div",{className:"time",children:(0,Te.Hu)(t.createdSec)})]}),(0,$t.jsx)("div",{className:"action-area",children:"unread"===t.status&&(0,$t.jsx)(jn.Z,{title:"Mark as read",placement:"left",children:(0,$t.jsx)("div",{className:"action-btn",onClick:function(){n(t.id)},children:(0,$t.jsx)(Xt.m9,{})})})})]})};var Kr=n(4251);function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Yr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yr(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eo={markNotificationAsRead:function(e){return function(t){t(Hr(e)),Qt.Goc(e).then((function(){}))}},markAllNotificationAsRead:function(){return function(e){e(Gr()),Qt.Qrl()}}};const to=(0,i.$j)((function(e){return{notifications:e.notification.notifications,users:e.notification.users,isLoading:e.notification.isLoading,workspaceHash:e.workspace.myWorkspaceHash,channelHash:e.workspace.channelHash}}),eo)((function(e){var t=e.markAllNotificationAsRead,n=e.markNotificationAsRead,r=e.notifications,o=e.users,i=e.channelHash,a=e.workspaceHash,c=e.isLoading,s=e.closeDropdown,l=Xr((0,Zt.useState)(!1),2),u=l[0],d=l[1],f=r.filter((function(e){return"unread"===e.status})),m=u?r:f;function h(e,t){r.filter((function(n){return"itemAddComment"===n.type&&"unread"===n.status&&JSON.parse(n.data).itemType===e&&JSON.parse(n.data).itemID===t})).map((function(e){return e.id})).forEach((function(e){n(e)}))}return(0,$t.jsx)("div",{className:"notification-panel",children:c?(0,$t.jsx)(Vt.Z,{}):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"top-area",children:[(0,$t.jsx)("div",{className:"noti-title",children:"Notifications"}),(0,$t.jsxs)("div",{className:"read-switch",children:[(0,$t.jsx)("span",{className:"text",children:"Show read"})," ",(0,$t.jsx)(Vr.Z,{checked:u,onChange:function(e){d(e)},size:"small"})]})]}),(0,$t.jsx)("div",{className:"notification-container",children:m.length>0?(0,$t.jsx)("div",{className:"section",children:u?(0,$t.jsx)("div",{children:(0,$t.jsx)(Kr.M,{initial:!1,children:r.map((function(e){return(0,$t.jsx)(zr,{notification:qr(qr({},e),{},{channel:i[e.channelID],workspace:a[e.workspaceID],users:o}),onMarkAsRead:n,onMultipleMarkAsRead:h,closeDropdown:s},e.id)}))})}):(0,$t.jsx)(Kr.M,{initial:!1,children:f.map((function(e){return(0,$t.jsx)(zr,{notification:qr(qr({},e),{},{channel:i[e.channelID],workspace:a[e.workspaceID],users:o}),onMarkAsRead:n,onMultipleMarkAsRead:h,closeDropdown:s},e.id)}))})}):(0,$t.jsxs)("div",{className:"empty",children:[(0,$t.jsx)(Xt.tL,{}),(0,$t.jsx)("div",{className:"info",children:u?"No notification yet":"No unread notifications"})]})}),f.length>0&&(0,$t.jsx)("div",{className:"mark-all-btn",onClick:t,children:(0,$t.jsx)("a",{children:"Mark all as read"})})]})})}));function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oo={loadNotification:function(e,t){return function(){var n,r=(n=Mr().mark((function n(r){return Mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e||r(Fr()),n.abrupt("return",Qt.J1C().then((function(e){e&&(e.workspaces&&r((0,Ht.aA)(e)),r(Ur(e)),null==t||t())})));case 2:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Zr(i,r,o,a,c,"next",e)}function c(e){Zr(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()}};const io=(0,i.$j)((function(e){return{notifications:e.notification.notifications}}),oo)((function(e){var t=e.loadNotification,n=e.notifications,r=(0,Zt.useRef)(null),o=no((0,Zt.useState)(!1),2),i=o[0],a=o[1],c=no((0,Zt.useState)(!1),2),s=c[0],l=c[1];(0,Zt.useEffect)((function(){return window.notificationTimer=function e(){return t(!0),setTimeout((function(){window.notificationTimer=e()}),6e4)}(),function(){window.notificationTimer&&(clearTimeout(window.notificationTimer),window.notificationTimer=null)}}),[]);var u=n.filter((function(e){return"unread"===e.status})),d=(0,_r.D)(u.length);(0,Zt.useEffect)((function(){u.length>0&&u.length>d&&l(!0)}),[u.length]);var f=(0,Zt.useCallback)((function(){a(!1)}),[]);return(0,$t.jsx)("div",{ref:r,children:(0,$t.jsx)(Sn.Z,{visible:i,onVisibleChange:a,overlay:(0,$t.jsx)(to,{closeDropdown:f}),getPopupContainer:function(){return r.current},trigger:["click"],destroyPopupOnHide:!0,children:(0,$t.jsxs)("div",{className:"header-notification-btn",children:[(0,$t.jsx)("div",{className:s?"icon-wrapper active":"icon-wrapper",onAnimationEnd:function(){return l(!1)},children:(0,$t.jsx)(Xt.sh,{})}),u.length>0&&(0,$t.jsx)("div",{className:"num-badge",children:u.length>99?"99+":u.length})]})})})}));const ao=function(){var e=(0,Ft.s0)();return(0,$t.jsx)("div",{className:"header-reward-btn",children:(0,$t.jsx)("div",{className:"header-reward-btn-inner",onClick:function(){e("/invite")},children:(0,$t.jsx)(Wr.Z,{})})})};var co=n(76570),so=n(27484),lo=n.n(so),uo=n(36724),fo=n(11728),mo=n(8748),ho=n(10978);function po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yo={loadSearchData:ho.C8,loadSearchItems:ho.$3};const go=(0,i.$j)((function(e){return{allItems:e.search.items,isMetaLoaded:e.search.isMetaLoaded,isMetaLoading:e.search.isLoading}}),yo)((function(e){var t=e.allItems,n=e.isMetaLoaded,r=e.loadSearchData,o=e.loadSearchItems,i=e.isMetaLoading,a=(0,Ft.UO)(),c=po((0,Zt.useState)([]),2),s=c[0],l=c[1],u=po((0,Zt.useState)((function(){return a.query?decodeURIComponent(a.query):""})),2),d=u[0],f=u[1],m=po((0,Zt.useState)(-1),2),h=m[0],p=m[1],v=po((0,Zt.useState)(!1),2),y=v[0],g=v[1],b=(0,Zt.useRef)(null),w=(0,Zt.useRef)(null),j=(0,Ft.TH)(),x=(0,Ft.s0)();(0,Zt.useEffect)((function(){var e;return n||a.query||(e=setTimeout((function(){r()}),1e3)),function(){return clearTimeout(e)}}),[]),(0,Zt.useEffect)((function(){f(a.query?decodeURIComponent(a.query):"")}),[a.query]),(0,Zt.useEffect)((function(){S(d)}),[d,t]);var S=function(e){if(p(-1),e){var n=new uo.Z(t,{keys:["title","fullname"],useExtendedSearch:!0}).search("'"+e).map((function(e){return e.item}));l(n)}else l([])},I=function(){var e=s[h];if(e){var t,n="/".concat(e.itemType,"/").concat(e.id);e.shareKey&&("folder"===e.itemType?n="s"+n+"/"+e.shareKey:n+="?key="+e.shareKey),x(n,{state:{inApp:!0}}),null===(t=w.current)||void 0===t||t.blur(),f("")}else{var r;null===(r=w.current)||void 0===r||r.blur();var o=encodeURIComponent(d);x("/search/".concat(o))}},O=function(e){switch(e){case"video":return(0,$t.jsx)(Xt.dG,{});case"folder":return(0,$t.jsx)(Xt.RO,{});case"image":return(0,$t.jsx)(Xt.K,{})}},E=(0,Zt.memo)((function(e){var t=e.index,n=e.style,r=s[t],o=Jt()("list-item",{hover:h===t,shared:r.fullname});return(0,$t.jsx)("div",{style:n,children:(0,$t.jsxs)("div",{className:o,onMouseEnter:function(){return p(t)},onMouseLeave:function(){return p(-1)},onMouseDown:I,children:[(0,$t.jsx)("div",{className:"icon ".concat(r.itemType),children:O(r.itemType)}),(0,$t.jsxs)("div",{className:"title-area",children:[(0,$t.jsx)("span",{className:"title",dangerouslySetInnerHTML:{__html:(0,Te.CH)(d,r.title)},title:r.title}),r.fullname&&(0,$t.jsx)("div",{className:"author-name",dangerouslySetInnerHTML:{__html:(0,Te.CH)(d,r.fullname)}})]}),(0,$t.jsx)("span",{className:"time",children:lo().unix(r.createdSec).format("ll")})]})})}),mo.wy);E.displayName="Row";var N={height:s.length>0?54*s.length+1+"px":"auto"},D=54*s.length>344;return(0,$t.jsxs)("div",{className:"header-search",children:[(0,$t.jsx)(co.Z,{}),(0,$t.jsx)(Kt.Z,{bordered:!1,placeholder:"Search",onKeyDown:function(e){var t,n,r=0;switch(e.key){case"ArrowDown":e.preventDefault(),r=h+1>s.length-1?0:h+1,p(r),null===(t=b.current)||void 0===t||t.scrollToItem(r);break;case"ArrowUp":e.preventDefault(),r=h-1<0?s.length-1:h-1,p(r),null===(n=b.current)||void 0===n||n.scrollToItem(r);break;case"Enter":if(e.preventDefault(),!d)return;decodeURIComponent(j.pathname)==="/search/"+d?o(d):I()}},onChange:function(e){var t=e.target.value;f(t)},value:d,onFocus:function(){return g(!0)},onBlur:function(){g(!1),p(-1)},ref:w}),(0,$t.jsx)(Kr.M,{children:d&&y&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Br.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2,delay:.1},className:"close-btn",onMouseDown:function(){f("")},children:(0,$t.jsx)(Xt.Tw,{})}),(0,$t.jsx)(Br.E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.2},className:"result-list ".concat(D?"scrollable":""),style:N,children:i?(0,$t.jsx)(Vt.Z,{}):(0,$t.jsx)($t.Fragment,{children:s.length>0?(0,$t.jsx)(fo.Z,{children:function(e){var t=e.height,n=e.width;return(0,$t.jsx)(mo.t7,{className:"list",height:t,itemCount:s.length,itemSize:54,width:n,ref:b,children:E})}}):(0,$t.jsxs)("div",{className:"no-result",children:['No matches found for "',(0,$t.jsx)("b",{children:d}),'"']})})})]})})]})}));function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jo={loadUserInfo:et.Lk};const xo=(0,i.$j)((function(e){return{user:e.user}}),jo)((function(e){var t,n=bo((0,Zt.useState)(!0),2),r=n[0],o=n[1],i=bo((0,Zt.useState)("true"!==localStorage.show_new_workspace),2),c=(i[0],i[1],bo((0,Zt.useState)(!1),2)),s=c[0],l=c[1],u=(0,Ft.s0)(),d=(0,Nr.IN)(),f=((0,Or.useMediaQuery)({query:"(max-width: 1068px)"}),(0,Gt.Z)());(0,Zt.useEffect)((function(){e.loadUserInfo();var t=setTimeout((function(){(0,Te.LB)()||!Dr.Z.isChrome()||Dr.Z.isMobile()||o(!1)}),1e3);return function(){return clearTimeout(t)}}),[]),(0,Zt.useEffect)((function(){l(!1)}),[d]);var m,h,p,v=e.user,y="item"===e.type,g=d.pathname,b=g.startsWith("/settings")&&(null===(t=d.state)||void 0===t?void 0:t.inApp),w=g.endsWith("/recorder"),j=(/video\//.test(g)||/image\//.test(g)||b||w||/veditor\//.test(g))&&!f.get("key")||d.state&&d.state.inApp,x=!f.get("key"),S=v.premium.currentPlan?"professional"===(m=v.premium.currentPlan.PlanName)||"team"===m?"Pro":(0,Te.fm)(m):"",I=v.premium.currentPlan?function(e){var t;return"professional"===e||"team"===e?null!==(t=v.premium.currentPlan)&&void 0!==t&&t.IsWorkspace?"Workspace Premium":"Pro":(0,Te.fm)(e)}(v.premium.currentPlan.PlanName):"",O=v.info.fullName?(0,$t.jsx)(In.Z,{children:(0,$t.jsxs)(In.Z.ItemGroup,{title:(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"user-info",children:[(0,$t.jsx)(Ar.Z,{username:v.info.fullName,avatarUrl:v.info.avatarURL,size:"36",plan:S,bordered:!0}),(0,$t.jsxs)("div",{className:"info",children:[(0,$t.jsxs)("div",{className:"name",children:[(0,$t.jsx)(Cr.Z,{text:v.info.fullName,width:"200px"}),(0,$t.jsx)("div",{className:"plan-badge ".concat(S),children:I})]}),(0,$t.jsx)("div",{className:"email",children:v.info.mail})]})]}),"Pro"!==S&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Sr.Z,{className:"inner-divider"}),(0,$t.jsxs)("div",{className:"progress",children:[(0,$t.jsxs)("div",{className:"progress-inner",children:["Free"===S&&(0,$t.jsxs)("div",{className:"progress-item",children:[(0,$t.jsx)("div",{className:"type-icon",children:(0,$t.jsx)(Xt.K,{})}),(0,$t.jsxs)("div",{className:"item-progress",children:[(0,$t.jsxs)("div",{className:"type-info",children:[(0,$t.jsx)("div",{className:"type-name",children:"Images"}),(0,$t.jsxs)("div",{className:"type-num",children:[v.counts.image,"/",v.counts.imageLimitation]})]}),(0,$t.jsx)("div",{className:"progress-bar",children:(0,$t.jsx)(wn.Z,{percent:v.counts.image/v.counts.imageLimitation*100,strokeWidth:6,showInfo:!1})})]})]}),(0,$t.jsxs)("div",{className:"progress-item",children:[(0,$t.jsx)("div",{className:"type-icon",children:(0,$t.jsx)(Xt.dG,{})}),(0,$t.jsxs)("div",{className:"item-progress",children:[(0,$t.jsxs)("div",{className:"type-info",children:[(0,$t.jsx)("div",{className:"type-name",children:"Videos"}),(0,$t.jsxs)("div",{className:"type-num",children:[v.counts.video,"/",v.counts.videoLimitation]})]}),(0,$t.jsx)("div",{className:"progress-bar",children:(0,$t.jsx)(wn.Z,{percent:v.counts.video/v.counts.videoLimitation*100,strokeWidth:6,showInfo:!1})})]})]})]}),(0,$t.jsx)(Wt.Z,{type:"primary",block:!0,onClick:function(){u("/pricing?from=web_user_menu")},icon:(0,$t.jsx)(Xt.CE,{}),children:"Upgrade"})]})]})]}),children:[(0,$t.jsx)(In.Z.Divider,{}),(0,$t.jsx)(In.Z.Item,{children:(0,$t.jsx)(a.rU,{to:"/settings/profile",state:{inApp:!0},children:"Settings"})},"setting"),(0,$t.jsx)(In.Z.Item,{children:(0,$t.jsxs)(a.rU,{to:"/settings/appearance",children:["Appearance",(0,$t.jsx)("div",{className:"badge",children:"New"})]})},"appearence"),(0,$t.jsx)(In.Z.Item,{children:(0,$t.jsx)("a",{href:"https://support.awesomescreenshot.com/hc/en-us",target:"_blank",rel:"noreferrer",children:"Help center"})},"help"),(0,$t.jsx)(In.Z.Item,{children:(0,$t.jsx)("a",{href:"https://blog.awesomescreenshot.com",target:"_blank",rel:"noreferrer",children:"Blog"})},"blog"),(0,$t.jsx)(In.Z.Divider,{}),(0,$t.jsx)(In.Z.Item,{children:(0,$t.jsx)("a",{href:"/web/user/logout",children:"Log out"})},"logout")]})}):null,E=Jt()("header",{"has-back-btn":j});return(0,$t.jsxs)("div",{className:E,children:[x&&!j&&(0,$t.jsxs)(Er(),{maxWidth:768,children:[(0,$t.jsx)("div",{className:"drawer-btn",children:(0,$t.jsx)(xr.Z,{onClick:function(){l(!0)}})}),(0,$t.jsx)(jr.Z,{placement:"left",closable:!1,className:"nav-drawer",onClose:function(){l(!1)},visible:s,children:(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("ul",{className:"sidebar-nav",children:[(0,$t.jsx)("li",{children:(0,$t.jsxs)(a.OL,{exact:!0,to:"/my_items",children:[(0,$t.jsx)(Xt.M,{}),"My Items"]})}),(0,$t.jsx)("li",{children:(0,$t.jsxs)(a.OL,{exact:!0,to:"/shared_with_me",children:[(0,$t.jsx)(Xt.M,{}),"Shared with me"]})}),(0,$t.jsx)("li",{children:(0,$t.jsxs)(a.OL,{to:"/all_videos",children:[(0,$t.jsx)(Xt.dG,{}),"All Videos"]})}),(0,$t.jsx)("li",{children:(0,$t.jsxs)(a.OL,{to:"/all_images",children:[(0,$t.jsx)(Xt.K,{}),"All Images"]})}),(0,$t.jsx)("li",{children:(0,$t.jsxs)(a.OL,{to:"/trash",children:[(0,$t.jsx)(Xt.XH,{}),"Trash"]})})]})})})]}),(0,$t.jsx)("div",{className:"logo-area",children:j?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"back-btn",onClick:function(){d.state?d.state.inApp?u(-1):d.state.lastPath&&u(d.state.lastPath):u("/my_items")},children:(0,$t.jsx)(Xt.e0,{})}),(0,$t.jsx)("div",{className:"logo",children:(0,$t.jsx)("img",{src:"",alt:""})})]}):(0,$t.jsx)("a",{className:"logo",href:"/",children:(0,$t.jsx)("img",{src:"",alt:""})})}),(y||j&&!w)&&(0,$t.jsxs)(Er(),{minWidth:768,children:[(0,$t.jsx)("div",{className:"sep"}),(0,$t.jsx)("div",{className:"search-area",children:(0,$t.jsx)(go,{})})]}),(0,$t.jsxs)("div",{className:"header-action",children:[(h=Ir.parse(d.search),p=!(r||v.info.uid||void 0===h.key||!Dr.Z.isChrome()||Dr.Z.isMobile()),setTimeout((function(){p&&gtag&&gtag("event","install button show in header",{event_category:"install extension"})}),1e3),p?(0,$t.jsx)(Wt.Z,{type:"primary",className:"install-button",onClick:function(){return(0,Te.nV)("video-shared-header-click")},children:"Get AwesomeScreenshot for free!"}):""),v.info.fullName?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Sn.Z,{overlay:O,placement:"bottomRight",overlayClassName:"user-menu",trigger:["click"],children:(0,$t.jsx)("div",{className:"user-avatar-area",children:(0,$t.jsx)(Ar.Z,{size:"32",username:v.info?v.info.fullName:"",avatarUrl:v.info?v.info.avatarURL:"",block:!0,plan:S})})}),(0,$t.jsxs)(Er(),{minWidth:768,children:[(0,$t.jsx)(ao,{}),(0,$t.jsx)(io,{}),(0,$t.jsx)(Lr,{}),!1]})]}):""]}),v.info.fullName?(0,$t.jsxs)("ul",{className:"header-nav",children:[!y&&(0,$t.jsx)("li",{children:(0,$t.jsx)(a.OL,{className:function(e){return e.isActive?"active":""},to:"/my_items",children:"My Items"})}),(0,$t.jsx)("li",{children:(0,$t.jsx)(a.OL,{className:function(e){return e.isActive?"active":""},to:"/pricing?from=topNav",children:"Pricing"})})]}):"",!1]})}));function So(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Oo=function(e){var t=So(wr(),3),n=t[0],r=t[1],o=t[2],i=u.Z.get("screenshot_personal_uid");return e.private?i?n&&o!==i?(r((function(){window.location.href="/signin"})),""):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(xo,{type:"default"}),(0,$t.jsx)(Ft.j3,{})]}):(n?r((function(){window.location.href="/signin"})):window.location.href="/signin",""):n&&i!==o?(r((function(){window.location.href="/signin"})),""):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(xo,{type:"default"}),(0,$t.jsx)(Ft.j3,{})]})};n(92546);var Eo=n(97183),No=n(57119),Do=n(87802),Ao={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function Co(e,t,n){if(!e||!t)return{display:"none"};var r=t.x,o=t.y,i=r+(n.x-e.x),a=o+(n.y-e.y);return{transform:"translate(".concat(i,"px, ").concat(a,"px)")}}const Po=function(){var e=(0,Do.f)((function(e){return{item:e.getItem(),initialClientOffset:e.getInitialClientOffset(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),t=e.isDragging,n=e.item,r=e.initialClientOffset,o=e.initialOffset,i=e.currentOffset;if(!t||!n.data||!n.data.length)return null;var a=function(e){if("channel"===e.from){var t=e.data.map((function(e){return"folder"===e.itemType?e:e.info})),n=t.filter((function(e){return"image"===e.itemType})),r=t.filter((function(e){return"video"===e.itemType})),o=t.filter((function(e){return"folder"===e.itemType}));return{images:n,videos:r,folders:o,items:t}}var i=e.data||[],a=i.filter((function(e){return"image"===e.itemType})),c=i.filter((function(e){return"video"===e.itemType})),s=i.filter((function(e){return"folder"===e.itemType}));return{images:a,videos:c,folders:s,items:i}}(n),c=Jt()("custom-drag-layer-block",{multiple:n.data&&n.data.length>1});return(0,$t.jsx)("div",{className:"custom-drag-layer",style:Ao,children:(0,$t.jsx)("div",{className:c,style:Co(o,i,r),children:n.data.length>1?(0,$t.jsxs)($t.Fragment,{children:[!!a.folders.length&&(0,$t.jsxs)("div",{className:"layer-item folder",children:[(0,$t.jsx)("div",{className:"icon",children:(0,$t.jsx)(Xt.RO,{})}),"Folders",(0,$t.jsx)("div",{className:"count",children:a.folders.length})]}),!!a.images.length&&(0,$t.jsxs)("div",{className:"layer-item image",children:[(0,$t.jsx)("div",{className:"icon",children:(0,$t.jsx)(Xt.K,{})}),"Images",(0,$t.jsx)("div",{className:"count",children:a.images.length})]}),!!a.videos.length&&(0,$t.jsxs)("div",{className:"layer-item video",children:[(0,$t.jsx)("div",{className:"icon",children:(0,$t.jsx)(Xt.dG,{})}),"Videos",(0,$t.jsx)("div",{className:"count",children:a.videos.length})]})]}):(0,$t.jsxs)("div",{className:"layer-item ".concat(a.items[0].itemType),children:[(0,$t.jsx)("div",{className:"icon",children:function(e){switch(e){case"video":return(0,$t.jsx)(Xt.dG,{});case"folder":return(0,$t.jsx)(Xt.RO,{});case"image":return(0,$t.jsx)(Xt.K,{})}}(a.items[0].itemType)}),(0,$t.jsx)("span",{className:"title",children:a.items[0].title})]})})})};var ko=n(57940),To=n(61468);var Lo={hideItem:Je.sQ,nextAction:Je.G2,prevAction:Je.mE,resetBrowsing:Je.vf};const _o=(0,i.$j)((function(e){return{visible:e.ui.itemDetailVisible,itemList:e.ui.itemList,currentIndex:e.ui.currentItemIndex}}),Lo)((function(e){var t=e.visible,n=(e.itemType,e.itemID,e.hideItem),r=(e.itemShareKey,e.resetBrowsing),o=e.itemList,i=e.currentIndex,a=e.nextAction,c=e.prevAction,s=Jt()("item-detail-wrapper",{active:t}),l=Jt()("item-detail-wrapper-bg",{active:t}),u=((0,Ft.s0)(),(0,_r.D)(t));function d(e){null==e||e.stopPropagation(),n()}function f(e){null==e||e.stopPropagation(),v||a()}function m(e){null==e||e.stopPropagation(),p||c()}(0,Zt.useEffect)((function(){return function(){r()}}),[]);var h=o[i],p=0===i,v=i===o.length-1;return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:l,onClick:d,children:t&&(0,$t.jsxs)("div",{className:"action-btn-container",children:[p?(0,$t.jsx)("div",{className:"action-btn prev-btn ".concat(p&&"disabled"),onClick:m,children:(0,$t.jsx)(Xt.Dn,{})}):(0,$t.jsx)(jn.Z,{title:"".concat(p?"":"Prev"),mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"action-btn prev-btn ".concat(p&&"disabled"),onClick:m,children:(0,$t.jsx)(Xt.Dn,{})})}),v?(0,$t.jsx)("div",{className:"action-btn next-btn ".concat(v&&"disabled"),onClick:f,children:(0,$t.jsx)(Xt.Dn,{})}):(0,$t.jsx)(jn.Z,{title:"".concat(v?"":"Next"),mouseLeaveDelay:0,children:(0,$t.jsx)("div",{className:"action-btn next-btn ".concat(v&&"disabled"),onClick:f,children:(0,$t.jsx)(Xt.Dn,{})})}),(0,$t.jsx)(jn.Z,{title:"Close",children:(0,$t.jsx)("div",{className:"action-btn close-btn",onClick:d,children:(0,$t.jsx)(Xt.Tw,{})})})]})}),(0,$t.jsx)("div",{className:s,children:t&&(0,$t.jsx)("div",{children:"video"===h.itemType?(0,$t.jsx)(To.default,{id:h.id,history,shareKey:h.shareKey,isModal:!0,hideModal:d,isBrowsing:u},h.id):(0,$t.jsx)(ko.default,{isModal:!0,id:h.id,shareKey:h.shareKey,hideModal:d,isBrowsing:u},h.id)})})]})}));var Ro=n(39883);function Mo(e){var t=e.referData;(0,Zt.useEffect)((function(){t&&(!function(){var e=200,t={origin:{y:.7}};function n(n,r){(0,Ro.Z)(Object.assign({},t,r,{particleCount:Math.floor(e*n),zIndex:3e3}))}n(.25,{spread:26,startVelocity:55}),n(.2,{spread:60}),n(.35,{spread:100,decay:.91,scalar:.8}),n(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),n(.1,{spread:120,startVelocity:45})}(),(0,Te.I1)("Show congrats modal"))}),[]);var n=function(){var e=Nn().name;return"Chrome"===e?/Edg/.test(Nn().ua||"")?"Edge":"Chrome":"Firefox"===e?"Firefox":"Chrome"};return(0,$t.jsx)("div",{className:"congrates-invite-panel",children:t?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)("div",{className:"info",children:[(0,$t.jsx)("div",{className:"icon",children:"🎉"}),(0,$t.jsxs)("div",{className:"text",children:[(0,$t.jsx)("div",{className:"title",children:"Congrats!"}),(0,$t.jsxs)("div",{className:"text-content",children:["You got"," ",(0,$t.jsxs)("b",{children:["both7day"===t.referral.giftType?"one week":"two weeks"," ","of Professional plan"]})," ","via your friend’s referral link!"]}),(0,$t.jsxs)("div",{className:"expire-date",children:["Enjoy it until"," ",lo()(1e3*t.gift.expireSec).format("ll")]})]})]}),(0,$t.jsxs)("div",{className:"extension-box",children:[(0,$t.jsx)("div",{className:"ext-title",children:"Add Awesome Screenshot to Chrome"}),(0,$t.jsxs)("div",{className:"numbers-container",children:[(0,$t.jsxs)("div",{className:"number-item",children:[(0,$t.jsx)("div",{className:"num",children:"10+"}),(0,$t.jsx)("div",{className:"num-desc",children:"10 years in business"})]}),(0,$t.jsxs)("div",{className:"number-item",children:[(0,$t.jsx)("div",{className:"num",children:"3M+"}),(0,$t.jsx)("div",{className:"num-desc",children:"Over 3 million users globally"})]}),(0,$t.jsxs)("div",{className:"number-item",children:[(0,$t.jsx)("div",{className:"num",children:"24K+"}),(0,$t.jsx)("div",{className:"num-desc",children:"24,000+Chrome store reviews"})]})]}),(0,$t.jsxs)("div",{className:"ext-add-btn",children:[(0,$t.jsxs)("div",{className:"add-to-chrome-btn",onClick:function(){var e="",t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2,r=n();e="Chrome"===r?"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj":"Edge"===r?"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo":"Firefox"===r?"https://addons.mozilla.org/en-US/firefox/addon/screenshot-capture-annotate/":"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj",window.open(e,"Install Awesome Screenshot",t),(0,Te.I1)("Click add to chrome btn on congrats modal")},children:[(0,$t.jsx)("div",{className:"browser-icon chrome"}),"Add to ",(0,$t.jsx)("span",{className:"browser-name",children:n()}),(0,$t.jsx)("span",{className:"free-tip",children:"It's free!"})]}),(0,$t.jsxs)("div",{className:"supports",children:["Support:",(0,$t.jsx)("div",{className:"support-browser chrome"}),(0,$t.jsx)("div",{className:"support-browser edge"}),(0,$t.jsx)("div",{className:"support-browser safari"}),(0,$t.jsx)("div",{className:"support-browser firefox"})]})]})]})]}):(0,$t.jsxs)("div",{className:"error-info",children:[(0,$t.jsx)("div",{className:"icon",children:"😆"}),(0,$t.jsx)("p",{children:"Hey~You have already registered on Awesome Screenshot."})]})})}const Zo=function(e){var t=e.visible,n=e.onCancel,r=e.referData;return(0,$t.jsx)(bn.Z,{footer:null,maskClosable:!1,destroyOnClose:!0,className:"active-gift-modal common-modal",closeIcon:(0,$t.jsx)(Xt.Tw,{style:{fontSize:"12px"}}),visible:t,onCancel:n,width:740,children:(0,$t.jsx)(Mo,{referData:r})})};var Fo=n(11011),Uo=n(82452),Ho=n(65880),Go=n(5551);function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||Bo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){if(e){if("string"==typeof e)return Wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wo(e,t):void 0}}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zo(e){var t=e.collapsed,n=(0,Nr.TL)(),r=(0,Uo.L)({accept:Go.JT.ITEM,drop:function(e,t){n((0,Ho.J1)("0",e.data)),(0,Te.I1)("move to folder",{event_category:"folder"})},canDrop:function(e,t){if("channel"===e.from)return!1;var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e.data);try{for(r.s();!(n=r.n()).done;){var o=n.value;if("folder"===o.itemType&&"0"===o.parentID)return!1;if("0"===o.folderID)return!1}}catch(e){r.e(e)}finally{r.f()}return!0},collect:function(e){return{isOver:e.isOver()}}}),o=Vo(r,2),i=o[0].isOver,c=o[1],s=Jt()("my-item-sidebar-link",{"is-over":i}),l=Jt()("my-item-sidebar-link-wrapper",{collapsed:t});return(0,$t.jsx)("div",{className:l,children:(0,$t.jsx)(jn.Z,{title:t?"My items":"",placement:"right",children:(0,$t.jsxs)(a.OL,{className:s,to:"/my_items",ref:c,children:[(0,$t.jsx)(Xt.fK,{}),(0,$t.jsx)("span",{className:"nav-title",children:"My items"})]})})})}const Ko=(0,Zt.memo)(zo);function Yo(e){var t=e.loadSharedItemsNotification,n=e.isShowNotify;(0,Zt.useEffect)((function(){t()}),[]);var r=Jt()("shared-sidebar-link",{notify:n});return(0,$t.jsxs)(a.OL,{className:r,to:"/shared_with_me",children:[(0,$t.jsx)(Xt.$g,{}),(0,$t.jsx)("span",{className:"nav-title",children:"Shared with me"})]})}var Qo={loadSharedItemsNotification:n(33179).uH};const qo=(0,i.$j)((function(e){return{isShowNotify:e.shared.newCommentList.length}}),Qo)((0,Zt.memo)(Yo));var Jo=n(1351),Xo=n(76629);function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ti=function(e){var t=e.collapsed,n=e.toggleCollapse,r=$o((0,Zt.useState)(!1),2),o=r[0],i=r[1];return(0,$t.jsx)(jn.Z,{title:t?"Expand":"Collapse",onVisibleChange:i,placement:"right",visible:o,children:(0,$t.jsx)("div",{className:"collapse-btn",onClick:n,children:t?(0,$t.jsx)(Jo.Z,{}):(0,$t.jsx)(Xo.Z,{})})})};n(67004);var ni=n(19181),ri=(n(41226),n(14277)),oi=n(50308),ii=n.n(oi),ai=n(83417),ci=n(20722);function si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return li(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ui=(0,i.$j)((function(e){return{userInfo:e.user.info}}),{moveToChannel:d.sK,moveIntoChannelFolder:d.wN,loadWorkspaceInfo:Ht.yQ,clearSelectedItem:se.jh});const di=(0,Zt.memo)(ui((function(e){var t=e.workspaceId,n=e.channel,r=e.userInfo,o=e.clearSelectedItem,i=e.moveToChannel,c=e.loadWorkspaceInfo,s=e.moveIntoChannelFolder,l=e.closePopover,u=si((0,ai.Z)(),5),d=u[0],f=u[1],m=u[2],h=u[3],p=u[4],v=(0,Uo.L)({accept:Go.JT.ITEM,drop:function(e){if(o(),"channel"===e.from)return void(0,ci.WZ)(s({workspaceID:t,channelID:n.id},e.data,(function(e){p(e),f(!0)})),{okMsg:"Move successfully.",errMsg:"string"==typeof e?e:"Move failed."}).then((function(){c(e.idParams.workspaceID)})).catch(ii());i({workspaceID:t,channelID:n.id},e.data,(function(e){p(e),f(!0)}))},collect:function(e){return{isOver:!!e.isOver()}},canDrop:function(e){if("channel"===e.from){if(e.data.some((function(e){return"folder"===e.itemType})))return!1;var t=e.idParams;if(t.workspaceID+t.channelID+(t.folderID||"0")===n.workspaceID+n.id+"0")return!1;var o=r.uid;if(e.data.filter((function(e){return"folder"!==e.itemType})).some((function(e){return e.userID!==o})))return!1}return!0}}),y=si(v,2),g=y[0].isOver,b=y[1],w=Jt()("channel-list-item",{"is-over":g});return(0,$t.jsxs)(Br.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},layout:"position",children:[(0,$t.jsxs)(a.OL,{to:"/workspace/".concat(t,"/").concat(n.id),className:w,ref:b,onClick:l,children:[(0,$t.jsx)(Xt.MC,{}),(0,$t.jsx)(Cr.Z,{text:n.name,width:"calc(100% - 32px)"})]}),(0,$t.jsx)(Fn.Z,{visible:d,onCancel:m,isOwner:h,workspaceID:t,type:"itemAdd",channelID:n.id})]},n.id)})));function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const hi=(0,i.$j)((function(e){return{channelHash:e.workspace.channelHash}}))((function(e){var t=e.workspace,n=e.channelHash,r=fi((0,Zt.useState)(!1),2),o=r[0],i=r[1],a=function(){i(!1)},c=t.channels.filter((function(e){var t;return!0===(null===(t=n[e])||void 0===t?void 0:t.isMember)}));return(0,$t.jsx)(ni.Z,{content:(0,$t.jsx)("div",{className:"collapse-channel-list",children:0===t.channels.length?(0,$t.jsx)(ri.Z,{image:ri.Z.PRESENTED_IMAGE_SIMPLE,description:"No channels"}):(0,$t.jsx)($t.Fragment,{children:c.map((function(e){return(0,$t.jsx)(di,{workspaceId:t.id,channel:n[e],closePopover:a},e)}))})}),overlayClassName:"folder-menu-popup",autoAdjustOverflow:!0,visible:o,placement:"rightTop",onVisibleChange:i,destroyTooltipOnHide:!0,children:(0,$t.jsx)("div",{className:"folder-menu",children:(0,$t.jsx)(Ar.Z,{size:"28",username:t.name,type:"square"})})})}));var pi=n(80472);function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const gi=(0,i.$j)((function(e){return{channelHash:e.workspace.channelHash,userInfo:e.user.info}}))((function(e){var t=e.workspace,n=e.channelHash,r=vi((0,Zt.useState)(!1),2),o=r[0],i=r[1],c=t.channels.filter((function(e){var t;return!0===(null===(t=n[e])||void 0===t?void 0:t.isMember)}));return(0,$t.jsxs)("div",{className:"sidebar-workspace-item",children:[(0,$t.jsx)(a.OL,{to:"/workspace/setting/".concat(t.id),children:(0,$t.jsxs)("div",{className:"workspace-name",children:[(0,$t.jsx)(Ar.Z,{username:t.name,type:"square",size:30}),(0,$t.jsx)(Cr.Z,{text:t.name,width:"calc(100% - 40px)"})]})}),(0,$t.jsxs)("div",{className:"channel-list",style:{height:37*(c.length+1)-1+"px"},children:[(0,$t.jsx)(Kr.M,{initial:!1,children:c.map((function(e){return(0,$t.jsx)(di,{workspaceId:t.id,channel:n[e]},e)}))}),(0,$t.jsxs)("div",{className:"add-channel-btn",onClick:function(){return i(!0)},children:[(0,$t.jsx)(Xt.dt,{}),"Create a channel"]})]}),(0,$t.jsx)(pi.Z,{workspaceId:t.id,visible:o,onCancel:function(){i(!1)}})]})}));var bi={loadWorkspaces:Ht.Pf};const wi=(0,i.$j)((function(e){return{myWorkspaceIDList:e.workspace.myWorkspaceIDList,myWorkspaceHash:e.workspace.myWorkspaceHash,isLoading:e.workspace.isLoading}}),bi)((function(e){var t=e.collapsed,n=e.myWorkspaceIDList,r=e.myWorkspaceHash,o=e.isLoading,i=e.loadWorkspaces;return(0,Zt.useEffect)((function(){i()}),[]),(0,$t.jsx)("div",{className:"sidebar-workspace",children:o?(0,$t.jsx)(Vt.Z,{size:"small"}):(0,$t.jsx)($t.Fragment,{children:0!==n.length||t?(0,$t.jsx)($t.Fragment,{children:n.map((function(e){return t?(0,$t.jsx)(hi,{workspace:r[e]},e):(0,$t.jsx)(gi,{workspace:r[e]},e)}))}):(0,$t.jsx)("div",{className:"sidebar-no-workspace",children:"No workspace"})})})}));var ji=n(32195);function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||Si(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){if(e){if("string"==typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ii(e,t):void 0}}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oi(e){var t=e.folder,n=e.moveFolder,r=e.handleUpdateStarredFolders,o=(0,Zt.useRef)(null),i=xi((0,Zt.useState)(),2),c=i[0],s=i[1],l=xi((0,Zt.useState)(""),2),u=l[0],d=l[1],f=(0,Uo.L)({accept:Go.JT.ITEM,drop:function(e){"onlyItem"===u?(n(t.folderID,e.data),(0,Te.I1)("move to folder",{event_category:"folder"})):"onlyFolder"===u&&r(e.data,t,c)},canDrop:function(e){return"workspace"!==e.from&&"channel"!==e.from&&(d(function(e){var t,n=!1,r=!1,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Si(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e.data);try{for(o.s();!(t=o.n()).done;){if("folder"===t.value.itemType?n=!0:r=!0,n&&r)return""}}catch(e){o.e(e)}finally{o.f()}return n?"onlyFolder":"onlyItem"}(e)),!0)},hover:function(e,t){if(o.current){if("channel"===e.from||"workspace"===e.from)return s(void 0);var n=o.current.getBoundingClientRect(),r=(n.bottom-n.top)/2,i=t.getClientOffset().y-n.top;s(i<r?"up":"down")}},collect:function(e){return{canDrop:!0,isOver:!!e.isOver()}}}),m=xi(f,2),h=m[0],p=h.isOver,v=h.canDrop,y=m[1];var g=Jt()("star-folder-list-item",{"is-over":p&&v&&"onlyItem"===u,"hover-up":"up"===c&&p&&"onlyFolder"===u,"hover-down":"down"===c&&p&&"onlyFolder"===u});return(0,$t.jsx)(Br.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},layout:"position",ref:o,children:(0,$t.jsxs)(a.OL,{className:g,to:"/folder/".concat(t.folderID),ref:y,children:[(0,$t.jsx)("div",{className:"icon",children:p&&v&&"onlyItem"===u?(0,$t.jsx)(Xt.Hf,{}):(0,$t.jsx)(Xt.wn,{})}),(0,$t.jsx)("div",{className:"name",children:(0,$t.jsx)(Cr.Z,{text:t.name,width:"calc(100% - 36px)"})})]})})}var Ei={moveFolder:Ho.J1};const Ni=(0,i.$j)(null,Ei)((0,Zt.memo)(Oi));var Di=n(60580),Ai=n(61401);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){Ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ti(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ci(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ci(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Li=function(e){var t=e.folder,n=e.index,r=e.handleRemove;return(0,$t.jsx)(Di._l,{draggableId:t.id,index:n,children:function(e,n){return(0,$t.jsxs)("div",ki(ki(ki({className:"edit-starred-folder-list-item ".concat(n.isDragging?"dragging":"")},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[(0,$t.jsx)(Xt.RO,{}),(0,$t.jsx)(jn.Z,{title:t.name,children:(0,$t.jsx)("span",{className:"name",children:t.name})}),(0,$t.jsx)(jn.Z,{title:"Remove from starred folder",mouseEnterDelay:.5,children:(0,$t.jsx)("div",{className:"remove-btn",onClick:function(){return r(t.id)}})})]}))}})};function _i(e){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){Zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zi(e,t,n){return t=function(e){var t=function(e,t){if("object"!==_i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_i(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fi(e){return function(e){if(Array.isArray(e))return Ui(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ui(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hi={loadFolders:Ho.PW,updateStarredFolders:Ho.oW,removeFromStarredFolders:Ho.kO},Gi=(0,i.$j)((function(e){var t=e.folder;return{isLoading:t.isLoading,loaded:t.loaded,starredFolderIDList:(0,ji.q)(e),folders:t.folders}}),Hi),Vi=Gi((function(e){var t=e.starredFolderIDList,n=e.folders,r=e.updateStarredFolders,o=e.removeFromStarredFolders,i=(0,Zt.useCallback)((function(e){o(e)}),[]);return(0,$t.jsx)(Di.Z5,{onDragEnd:function(e){var n=e.source,o=e.destination,i=e.draggableId,a=n.index,c=o.index,s=Fi(t);s.splice(a,1),s=(0,Te.ZQ)(s,c,[i]),r(s.join(","),!0)},children:(0,$t.jsxs)("div",{className:"edit-starred-folder-panel",children:[(0,$t.jsx)("div",{className:"title",children:"Edit Starred Folders"}),(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("div",{className:"tip",children:"Drag to reset the sequence"}),(0,$t.jsx)(Di.bK,{droppableId:"12",children:function(e){return(0,$t.jsxs)("div",Mi(Mi({className:"folder-container",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return(0,$t.jsx)(Li,{folder:n[e],index:t,handleRemove:i},e)})),e.placeholder]}))}})]})]})})}));const Bi=function(e){return(0,$t.jsx)(Ai.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,$t.jsx)(Vi,{})})};function Wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ki=function(){var e=Wi((0,Zt.useState)(!1),2),t=e[0],n=e[1];return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"starred-folder-edit-btn",onClick:function(){return n(!0)},children:"Edit"}),(0,$t.jsx)(Bi,{visible:t,onCancel:function(){return n(!1)}})]})};function Yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qi={loadFolders:Ho.PW,updateStarredFolders:Ho.oW},Ji=(0,i.$j)((function(e){var t=e.folder;return{isLoading:t.isLoading,loaded:t.loaded,starredFolderIDList:(0,ji.q)(e),folders:t.folders}}),qi);const Xi=Ji((function(e){var t=e.loadFolders,n=e.folders,r=e.starredFolderIDList,o=e.isLoading,i=e.updateStarredFolders,a=Yi((0,Zt.useState)(!1),2),c=a[0],s=a[1],l=(0,Uo.L)({accept:Go.JT.ITEM,drop:function(e){var t=e.data.map((function(e){return e.id})).join(",");i(t)},canDrop:function(e){return e.data.every((function(e){return"folder"===e.itemType}))},collect:function(e){return{isOver:!!e.isOver()&&e.canDrop()}}}),u=Yi(l,2),d=u[0].isOver,f=u[1];(0,Zt.useEffect)((function(){t()}),[]);var m=(0,Zt.useCallback)((function(e,t,n){var o=e.map((function(e){return e.id}));if(-1===r.indexOf(o[0])){var a=r.findIndex((function(e){return e===t.folderID}));a="up"===n?a:a+1;var c=(0,Te.ZQ)(r,a,o);i(c.join(","))}}),[r]),h=Jt()("dropzone",{over:d}),p=Jt()("show-more-btn",{collapse:c});return(0,$t.jsx)("div",{className:"star-folder-list",children:o?(0,$t.jsx)(Vt.Z,{size:"small"}):(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:"star-folder-container",children:[(0,$t.jsxs)("div",{className:"star-folder-title",children:[(0,$t.jsx)(Xt.r7,{}),"Starred folders",r.length>0&&(0,$t.jsx)(Ki,{})]}),0===r.length?(0,$t.jsx)("div",{className:h,ref:f,children:"Drag and drop your favorite folders here"}):(0,$t.jsxs)("div",{className:"folder-list-box",children:[(0,$t.jsxs)(Kr.M,{initial:!1,children:[r.slice(0,5).map((function(e){return(0,$t.jsx)(Ni,{folder:n[e],handleUpdateStarredFolders:m},n[e].folderID)})),c&&r.slice(5,r.length).map((function(e){return(0,$t.jsx)(Ni,{folder:n[e],isShowMore:c,handleUpdateStarredFolders:m},n[e].folderID)}))]}),r.length>5&&(0,$t.jsxs)("div",{className:p,onClick:function(){s(!c)},children:[(0,$t.jsx)(Xt.Dn,{}),c?"Less":"More"]})]})]})})})}));var $i={loadFolders:Ho.PW};const ea=(0,i.$j)((function(e){var t=e.folder;return{isLoading:t.isLoading,loaded:t.loaded,starredFolderIDList:(0,ji.q)(e),folders:t.folders}}),$i)((function(e){var t=e.isLoading,n=e.starredFolderIDList,r=e.folders,o=e.loadFolders,i=e.loaded;(0,Zt.useEffect)((function(){o()}),[]);var c=(0,Zt.memo)((function(t){var o=t.index,i=t.style,c=n.map((function(e){return r[e]}))[o];return(0,$t.jsx)("div",{style:i,children:(0,$t.jsxs)(a.OL,{className:"folder-collapsed-list-item",to:"/folder/".concat(c.folderID),onClick:e.closePopover,title:c.name,children:[(0,$t.jsx)(Xt.RO,{}),c.name]})})}),mo.wy);c.displayName="Row";var s=n.length>0?Math.min(36*n.length+24,280):"auto";return(0,$t.jsx)("div",{className:"folder-collapsed-list ".concat(n&&n.length>7?"scrollable":""),style:{height:s},children:t?(0,$t.jsx)(Vt.Z,{size:"small"}):(0,$t.jsx)($t.Fragment,{children:i&&(0,$t.jsx)($t.Fragment,{children:n&&n.length>0?(0,$t.jsx)(fo.Z,{children:function(e){var t=e.height,r=e.width;return(0,$t.jsx)(mo.t7,{className:"list",height:t,itemCount:n.length,itemSize:36,width:r,children:c})}}):(0,$t.jsx)("div",{className:"empty-tip",children:"No starred folders"})})})})}));function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ra=function(){var e=ta((0,Zt.useState)(!1),2),t=e[0],n=e[1];return(0,$t.jsx)(ni.Z,{content:(0,$t.jsx)(ea,{closePopover:function(){return n(!1)}}),overlayClassName:"folder-menu-popup",autoAdjustOverflow:!0,visible:t,placement:"rightTop",onVisibleChange:n,destroyTooltipOnHide:!0,children:(0,$t.jsx)("div",{className:"folder-menu",children:(0,$t.jsx)(Xt.r7,{})})})};var oa=n(73387);function ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ca={moveToTrash:Ho.B0,deleteSearchItem:ho.lD};const sa=(0,i.$j)(null,ca)((function(e){var t=e.moveToTrash,n=e.deleteSearchItem,r=ia((0,oa.Z)(null,(function(e){t(e.data),n(e.data)})),2),o=r[0],i=r[1],c=Jt()("trash-sidebar-link",{"is-over":o});return(0,$t.jsxs)(a.OL,{className:c,to:"/trash",ref:i,children:[(0,$t.jsx)(Xt.aN,{}),(0,$t.jsx)("span",{className:"nav-title",children:"Trash"})]})}));var la=n(36331),ua=n(94458);var da=n(25592),fa=n(73218),ma=n(15873);function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var va={Pending:["Zipping",(0,$t.jsx)(da.Z,{spin:!0,style:{color:"#4693ff"}},"Zipping")],Failed:["Zip failed",(0,$t.jsx)(fa.Z,{style:{color:"#FF4D4F"}},"Zip failed")],Canceled:["Zip canceled",(0,$t.jsx)(No.Z,{style:{color:"#FF9B2F"}},"Zip canceled")],Succeed:["Download ready",(0,$t.jsx)(ma.Z,{style:{color:"#4BD330"}},"Download ready")]};var ya=(0,i.$j)(null,{onCancel:function(e){return(0,T.H4)(e)}})((function(e){var t=e.status,n=e.fileName,r=e.id,o=e.onCancel,i=ha(va[t],2),a=i[0],c=i[1],s=Jt()("download-list-item",{"is-zipping":"Pending"===t});return(0,$t.jsxs)(Br.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:s,children:[(0,$t.jsx)("span",{className:"file-name",children:n||"File"}),(0,$t.jsx)("span",{className:"status-message",children:a}),(0,$t.jsx)("span",{className:"status-icon",children:c}),(0,$t.jsx)("span",{className:"close-text",onClick:function(){if("Pending"!==t)return o(r);Te.C2.confirm({title:"Cancel download?",content:"Your download is not complete. Would you like to cancel the download?",okText:"Cancel download",cancelText:"Continue download",cancelButtonProps:{type:"default"},okButtonProps:{type:"default",danger:!0}}).then((function(){return o(r)})).catch(ii())},children:"Cancel"})]})}));function ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ba(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wa=(0,i.$j)((function(e){return{list:e.downloadList}}),{onCancelAll:T.tH})((function(e){var t=e.list,n=e.onCancelAll,r=ga((0,Zt.useState)(!1),2),o=r[0],i=r[1],a=0===t.length;a&&o&&i(!1);var c=Jt()("download-list",{collapsed:o,closed:a}),s=(0,Zt.useRef)(null),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.document.documentElement,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,ua.r)(n);return(0,Zt.useEffect)((function(){var n=(0,la.Ql)(t);null!=n&&n.style&&n.style.setProperty(e,r.value)}),[r.value,t,e]),r}("--list-count",s,"0");return(0,Zt.useEffect)((function(){l.value=String(t.length)}),[t.length]),(0,$t.jsxs)("div",{className:c,ref:s,children:[(0,$t.jsxs)("div",{className:"title",children:[(0,$t.jsxs)("span",{children:[(0,$t.jsx)("span",{children:"Preparing download"}),o&&t.length>0&&(0,$t.jsx)("span",{className:"list-length",children:t.length})]}),(0,$t.jsxs)("div",{className:"flex-align",children:[(0,$t.jsx)(Xt.nX,{className:"collapse-icon",onClick:function(){return i((function(e){return!e}))}}),(0,$t.jsx)(Xt.Tw,{className:"close-icon",onClick:function(){Te.C2.confirm({title:"Cancel all downloads?",content:"Your download is not complete. Would you like to cancel all your downloads?",cancelText:"Continue download",okText:"Cancel download",cancelButtonProps:{type:"default"},okButtonProps:{type:"default",danger:!0}}).then(n).catch(ii())}})]})]}),(0,$t.jsx)("div",{className:"content",children:(0,$t.jsx)(Kr.M,{initial:!1,children:t.map((function(e){var t=e.id,n=e.fileName,r=e.status;return(0,$t.jsx)(ya,{fileName:n,id:t,status:r},t)}))})})]})})),ja=n(83539),xa=n(2294),Sa=n(76932),Ia=n(44539);function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ea(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Na={moveToTrash:Ho.B0,deleteSearchItem:ho.lD,restoreItems:ja._x,deleteItems:ja.CV,clearSelectedItem:se.jh,removeChannelFolder:d.ni,deleteChannelItem:d.FO};function Da(e){var t=e.selectedItems,n=e.multiSelectMeta,r=e.selectedTrashItems,o=e.moveToTrash,i=(e.deleteChannelItem,e.deleteSearchItem),a=e.restoreItems,c=e.deleteItems,s=e.clearSelectedItem,l=(e.removeChannelFolder,Oa((0,Zt.useState)(!1),2)),u=l[0],d=l[1],f=Oa((0,Zt.useState)(!1),2),m=f[0],h=f[1],p=(0,Zt.useRef)(null);(0,Sa._6)((function(e){return"Escape"===e.key&&s()}));var v=Jt()("multi-select-action-bar",e.className),y=n&&"channel"===n.from;return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Kr.M,{children:t.length+r.length>0&&(0,$t.jsxs)(Br.E.div,{initial:{y:60},transition:{type:"tween",duration:.2},animate:{y:0,boxShadow:"0px 1px 8px 0px rgba(0, 0, 0, 0.31)"},exit:{y:60},className:v,children:[(0,$t.jsxs)("div",{style:{display:"flex",gap:"10px",width:"100%"},children:[(0,$t.jsxs)("span",{className:"selected-num",children:["Selected ",(0,$t.jsx)("span",{className:"number",children:t.length+r.length})]}),0===r.length&&(0,$t.jsx)("span",{className:"tip",children:"shift + click to start multiple select, esc to deselect"})]}),(0,$t.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,$t.jsxs)("div",{className:"action",children:[t.length>0&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Wt.Z,{onClick:function(){y?((0,Te.fr)(t),p.current.open(t,{from:"channel",idParams:n.idParams}).then((function(){return s()}))):d(!0)},icon:(0,$t.jsx)(Xt.r_,{}),children:"Move"}),!y&&(0,$t.jsx)(Wt.Z,{icon:(0,$t.jsx)(Xt.XH,{}),onClick:function(){Te.C2.confirm({title:"Remove item",content:"Are you sure you want to remove the selected item(s)?",okText:"Move to Trash",okType:"danger",autoFocusButton:null}).then((function(){o(t),i(t)}))},children:"Remove"})]}),r.length>0&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsxs)(Wt.Z,{onClick:function(){a(r,(function(e){1201===e.code&&h(!0)}))},children:[(0,$t.jsx)(Xt.fR,{}),"Restore"]}),(0,$t.jsxs)(Wt.Z,{onClick:function(){bn.Z.confirm({title:"Are you sure you want to permanently delete the selected item(s)?",onOk:function(){c(r)},okText:"Delete",okType:"danger",autoFocusButton:null})},children:[(0,$t.jsx)(Xt.XH,{}),"Delete"]})]})]}),(0,$t.jsx)("div",{className:"close-btn",onClick:function(){return s()},children:(0,$t.jsx)(Xt.Tw,{})})]})]})}),(0,$t.jsx)(Dn.Z,{visible:m,onCancel:function(){return h(!1)},type:"trash-restore"}),(0,$t.jsx)(xa.Z,{visible:u&&t.length+r.length>0,onCancel:function(){return d(!1)},des:"both",items:t}),(0,$t.jsx)(Ia.p,{ref:p})]})}const Aa=(0,i.$j)((function(e){return{selectedItems:e.multipleSelect.selectedItems,selectedTrashItems:e.multipleSelect.selectedTrashItems,multiSelectMeta:e.multipleSelect.meta}}),Na)((0,Zt.memo)(Da));n(81817);var Ca,Pa,ka=n(27279),Ta=n(33789),La={Firefox:"https://addons.mozilla.org/firefox/addon/screenshot-capture-annotate/",Chrome:"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj",Edge:"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo"}["Chrome"===(Pa=Nn().name)?(null!==(Ca=Nn().ua)&&void 0!==Ca?Ca:"").includes("Edg")?"Edge":"Chrome":"Firefox"===Pa?"Firefox":"Chrome"];var _a=n(73458);const Ra=n.p+"images/af67bc4f63fbc23995fa.png";function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Fa=(0,Zt.forwardRef)((function(e,t){var n=(0,Nr.TL)(),r=Ma((0,Zt.useState)(!1),2),o=r[0],i=r[1];return(0,Zt.useImperativeHandle)(t,(function(){return{openModal:function(){return i(!0)}}})),(0,$t.jsxs)(Ai.Z,{width:529,visible:o,onCancel:function(){return i(!1)},children:[(0,$t.jsx)("div",{className:"title",children:"Would you like to close the guide?"}),(0,$t.jsxs)("div",{className:"content",children:[(0,$t.jsx)("span",{style:{fontSize:"14px",lineHeight:"16px",fontWeight:400},children:"You can also access more helpful articles and tutorials on our help center."}),(0,$t.jsx)("div",{style:{border:"2px solid #DAE0E6",height:"350px",width:"100%",borderRadius:"10px",marginTop:"20px",backgroundColor:"#eeeeee",overflow:"hidden"},children:(0,$t.jsx)("img",{src:Ra,alt:"help center",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"right top"}})})]}),(0,$t.jsxs)("div",{className:"btn-area",children:[(0,$t.jsx)(Wt.Z,{onClick:function(){return i(!1)},children:(0,$t.jsx)("b",{children:"Cancel"})}),(0,$t.jsx)(Wt.Z,{type:"primary",onClick:function(){i(!1),n((0,rt.If)()),(0,Te.I1)("Confirm skip guide from user guide panel",{event_category:"userGuide"})},children:(0,$t.jsx)("b",{children:"Got it, close the guide"})})]})]})}));var Ua=n(87452);function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function Ga(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ha(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ha(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ha(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Va(){Va=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new O(o||[]);return r(a,"_invoke",{value:j(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,i)&&(p=y);var g=h.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==Ha(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Ba(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Wa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ba(i,r,o,a,c,"next",e)}function c(e){Ba(i,r,o,a,c,"throw",e)}a(void 0)}))}}function za(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ya(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||Ya(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ya(e,t){if(e){if("string"==typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qa(e,t):void 0}}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qa=ka.Z.Panel,Ja=new Map([[rt.Rg.Download,{title:"Download extension",detail:"Download Awesome Screenshot to create awesome screenshots & videos.",href:"https://chrome.google.com/webstore/detail/awesome-screenshot-and-sc/nlipoenfbbikpbjkfpfillcgkoblgpmj",linkDescription:"Go to download"}],[rt.Rg.Pin,{title:"Pin extension",detail:"Pin Awesome Screenshot for easy access.",href:"#"}],[rt.Rg.Record,{title:"Record a video",detail:"Let’s record an awesome video.",href:"https://www.youtube.com/embed/tPOFSpV5NH8"}],[rt.Rg.Screenshot,{title:"Capture a screenshot",detail:"Let’s capture an awesome screenshot.",href:"https://www.youtube.com/embed/_MUMMd4PQck"}],[rt.Rg.Share,{title:"Share your video/screenshot",detail:"Share your awesome content with your friends or colleagues.",href:"https://www.youtube.com/embed/uZyBAVcaef0"}]]);function Xa(e){var t=e.isComplete,n=e.title;return(0,$t.jsxs)("div",{className:Jt()("step-header",{complete:t}),children:[t?(0,$t.jsx)(Xt.cV,{style:{color:"#6FCA95"}}):(0,$t.jsx)(Xt.n2,{style:{color:"#AAB2C5"}}),(0,$t.jsx)("span",{children:n})]})}var $a=(0,i.$j)((function(e){var t=e.userGuide,n=e.user;return{steps:t.steps,guideLoaded:t.loaded,complete:!n.showGuide,imageCreated:0!==n.counts.imageTotalAllCreated,videoCreated:0!==n.counts.videoTotalAllCreated,userLoaded:n.isLoaded}}),{}),ec=$a((function(e){var t,n=e.steps,r=e.complete,o=e.imageCreated,i=e.videoCreated,a=e.userLoaded,c=e.guideLoaded,s=(0,Nr.TL)(),l=(0,Zt.useRef)(null),u=Ka((0,Zt.useState)(!1),2),d=u[0],f=u[1],m=Ka((0,Zt.useState)(!1),2),h=m[0],p=m[1],v=Ka((0,Zt.useState)(!1),2),y=v[0],g=v[1],b=Ka((0,Zt.useState)(rt.Rg.Record),2),w=b[0],j=b[1],x=Ka((0,Zt.useState)(rt.Rg.Download),2),S=x[0],I=x[1],O=~~(Object.values(n).filter(Boolean).length/Object.keys(rt.Rg).length*100);function E(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=za(Ja);try{for(r.s();!(e=r.n()).done;){var o=Ka(e.value,1),i=o[0];if(!n[i]&&!t.includes(i))return I(i),!1}}catch(e){r.e(e)}finally{r.f()}return!0}function N(e){var t;(0,Te.X8)(e,(Ga(t={},rt.Rg.Download,(function(){!function(){var e,t=1e3;if(window.screenTop<-100||window.screenLeft<-100||window.screenTop>window.screen.height||window.screenLeft>window.screen.width)e="width=".concat(t,",height=").concat(800);else{var n=(window.screen.availHeight-30-800)/2,r=(window.screen.availWidth-10-t)/2;e="width=".concat(t,",height=").concat(800,",screenY=").concat(n,",screenX=").concat(r)}window.open(La,"Install Awesome Screenshot",e)}(),(0,Te.I1)("Click go download",{event_category:"userGuide"}),n.Download||Te.C2.confirm({title:"Installed?",content:"Have you installed Awesome Screenshot extension? ",cancelText:"Not yet",okText:"Yes, I have",rejectOnCancel:!0}).then(Wa(Va().mark((function e(){return Va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Te.I1)("Confirm download from user guide panel",{event_category:"userGuide"}),e.next=3,(0,Te._v)(0);case 3:location.reload();case 4:case"end":return e.stop()}}),e)})))).catch((function(){(0,Te.I1)("Reject download from user guide panel",{event_category:"userGuide"})}))})),Ga(t,rt.Rg.Pin,(function(){n.Download?(g(!0),(0,Te.I1)("Open pin extension popup",{event_category:"userGuide"})):I(rt.Rg.Download)})),Ga(t,rt.Rg.Record,(function(){p(!0),j(rt.Rg.Record),(0,Te.I1)("Open how to record a video from user guide panel",{event_category:"userGuide"})})),Ga(t,rt.Rg.Screenshot,(function(){p(!0),j(rt.Rg.Screenshot),(0,Te.I1)("Open how to capture a screenshot from user guide panel",{event_category:"userGuide"})})),Ga(t,rt.Rg.Share,(function(){p(!0),j(rt.Rg.Share),(0,Te.I1)("Open how to share from user guide panel",{event_category:"userGuide"})})),t))}return(0,Ta.Q)((function(){s((0,rt.aO)())}),a&&!r),(0,Zt.useEffect)((function(){if(a&&!n.Download&&c){var e=setTimeout((function(){(0,Te.LB)()&&(s((0,rt.YA)(rt.Rg.Download)),E([rt.Rg.Download]))}),300);return function(){return clearTimeout(e)}}}),[a,c]),(0,Zt.useEffect)((function(){o&&!n.Screenshot&&a&&c&&s((0,rt.YA)(rt.Rg.Screenshot))}),[o,a,c]),(0,Zt.useEffect)((function(){i&&!n.Record&&a&&c&&s((0,rt.YA)(rt.Rg.Record))}),[i,a,c]),(0,Zt.useEffect)((function(){a&&c&&!r&&(E()&&s((0,rt.YA)(rt.Rg.Download)))}),[a,c]),r?null:(0,$t.jsxs)("div",{className:"user-guide-container",children:[(0,$t.jsxs)("div",{className:"user-guide-header",children:[(0,$t.jsxs)("span",{className:"user-guide-header-title",children:["Get started with ",(0,$t.jsx)("br",{}),"Awesome Screenshot"]}),(0,$t.jsx)("div",{className:"user-guide-header-icon",onClick:function(){return f((function(e){return!e}))},children:d?(0,$t.jsx)(Xt.JJ,{style:{color:"white",fontSize:"20px"}}):(0,$t.jsx)(Xt.WU,{style:{color:"white",fontSize:"20px"}})}),(0,$t.jsx)(wn.Z,{percent:O,strokeWidth:8,trailColor:"rgba(255, 255, 255, 0.2)",strokeColor:"#6FCA95",className:"user-guide-header-progress"})]}),(0,$t.jsx)(Kr.M,{children:!d&&(0,$t.jsxs)(Br.E.div,{className:"user-guide-main",initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{type:"tween"},children:[(0,$t.jsx)(ka.Z,{accordion:!0,activeKey:S,onChange:function(e){return I(e)},expandIconPosition:"end",expandIcon:function(e){var t=e.isActive;return(0,$t.jsx)(Xt.Dn,{rotate:t?0:-90})},children:Array.from(Ja.entries()).map((function(e){var t,r=Ka(e,2),o=r[0],i=r[1];return(0,$t.jsx)(qa,{className:"user-guide-main-step",header:(0,$t.jsx)(Xa,{isComplete:!!n[o],title:i.title}),children:(0,$t.jsxs)("div",{className:"user-guide-main-step-content",children:[(0,$t.jsx)("div",{children:i.detail}),(0,$t.jsx)(Wt.Z,{size:"small",onClick:function(){return N(o)},children:null!==(t=i.linkDescription)&&void 0!==t?t:"Learn more"})]})},o)}))}),(0,$t.jsx)("div",{className:"user-guide-main-close",children:(0,$t.jsx)("span",{onClick:function(){l.current.openModal()},style:{cursor:"pointer"},children:"Got it, close the guide"})})]})}),(0,$t.jsx)(Fa,{ref:l}),h&&(0,$t.jsx)(Ua.L,{onClose:function(){var e;p(!1),(0,Te.X8)(w,(Ga(e={},rt.Rg.Record,(function(){})),Ga(e,rt.Rg.Screenshot,(function(){})),Ga(e,rt.Rg.Share,(function(){})),e))},closeOnModalClick:!0,iframeSrc:(null===(t=Ja.get(w))||void 0===t?void 0:t.href)||""}),y&&(0,$t.jsx)(_a.VM,{onOk:function(){s((0,rt.wH)(rt.C2.Pin)),g(!1)}})]})}));function tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rc=Eo.Z.Sider,oc=Eo.Z.Content;var ic={clearSelectedItem:se.jh};const ac=(0,i.$j)((function(e){return{user:e.user}}),ic)((function(e){var t=tc((0,Zt.useState)("true"===localStorage.collapse_nav),2),n=t[0],r=t[1],o=tc((0,Zt.useState)(!1),2),i=o[0],c=o[1],s=tc((0,Zt.useState)(null),2),l=s[0],u=s[1],d=tc((0,Zt.useState)(!1),2),f=d[0],m=d[1],h=(0,Ft.s0)(),p=(0,Or.useMediaQuery)({query:"(max-width: 768px)"}),v=(0,Or.useMediaQuery)({query:"(max-width: 1460px)"}),y=(0,Ft.TH)(),g=e.user,b=e.clearSelectedItem,w=(0,Gt.Z)().get("referKey");function j(){var e;"team"===(null===(e=g.premium.currentPlan)||void 0===e?void 0:e.PlanName)&&g.premium.currentPlan.OwnerUID===g.premium.currentPlan.UID?m(!0):h("/workspace/create")}(0,Zt.useEffect)((function(){b()}),[y]),(0,Zt.useEffect)((function(){w&&(0,Qt.szH)(w).then((function(e){u(e),c(!0)})).catch((function(){c(!0),(0,Te.I1)("Click refer sign in when registered")}))}),[]),(0,Zt.useEffect)((function(){"true"!==localStorage.isNoticeTransfer&&g.premium.currentPlan&&"team"===g.premium.currentPlan.PlanName&&g.premium.currentPlan.OwnerUID===g.premium.currentPlan.UID&&(m(!0),localStorage.isNoticeTransfer=!0)}),[g]);var x=Jt()("main-container",{hidden:!1}),S=g.premium.needTransfer,I=(0,$t.jsxs)("div",{className:"discount-tip-header",children:["Transfer to Workspace to boost workflow with ",(0,$t.jsx)("b",{children:"NO additional cost"}),".",(0,$t.jsx)(a.rU,{className:"btn primary",to:"/workspace/transfer",children:"Transfer"})]}),O=(g.premium.currentPlan&&("free"===g.premium.currentPlan.PlanName||"basic"===g.premium.currentPlan.PlanName)&&parseInt(g.counts.video)>=.75*g.counts.videoLimitation&&(parseInt(g.counts.video),g.counts.videoLimitation),g.premium.currentPlan&&("free"===g.premium.currentPlan.PlanName||"basic"===g.premium.currentPlan.PlanName)&&(parseInt(g.counts.video),g.counts.videoLimitation),g.premium.currentPlan&&"free"===g.premium.currentPlan.PlanName&&parseInt(g.counts.image)>=.75*g.counts.imageLimitation&&(parseInt(g.counts.image),g.counts.imageLimitation),g.premium.currentPlan&&"free"===g.premium.currentPlan.PlanName&&(parseInt(g.counts.image),g.counts.imageLimitation),Jt()("my-items",{"header-tip":S,collapsed:n})),E=245;p?E=0:v&&(E=205);var N=Jt()({collapsed:n});return(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:O,children:[S&&I,(0,$t.jsxs)(Eo.Z,{className:x,children:[(0,$t.jsx)(rc,{className:"side-bar",width:E,collapsed:n,collapsedWidth:Math.min(E,65),children:(0,$t.jsxs)("div",{className:"sidebar-inner",children:[!p&&function(){var e=Jt()("sidebar-container",{collapsed:n});return(0,$t.jsxs)("div",{className:e,children:[(0,$t.jsx)("div",{className:"sidebar-section-title",children:"Personal"}),(0,$t.jsxs)("ul",{className:"sidebar-nav",children:[(0,$t.jsx)("li",{children:(0,$t.jsx)(Ko,{collapsed:n})}),(0,$t.jsx)(jn.Z,{title:n?"Shared with me":"",placement:"right",children:(0,$t.jsx)("li",{children:(0,$t.jsx)(qo,{})})})]}),(0,$t.jsx)("div",{className:"star-folder-area",children:n?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"sep"}),(0,$t.jsx)(ra,{})]}):(0,$t.jsx)("div",{className:"folder-area",children:(0,$t.jsx)(Xi,{})})}),(0,$t.jsxs)("div",{className:"workspace-area",children:[n?(0,$t.jsx)("div",{className:"sep"}):(0,$t.jsx)("div",{className:"sidebar-section-title",children:"Workspace"}),(0,$t.jsx)(wi,{collapsed:n})]}),!n&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"sidebar-divider"}),(0,$t.jsx)("div",{className:"create-workspace-btn-area",children:(0,$t.jsx)(Wt.Z,{block:!0,onClick:j,children:"Create a workspace"})})]})]})}(),(0,$t.jsxs)("div",{className:"sidebar-bottom ".concat(n?"collapsed":""),children:[(0,$t.jsx)(jn.Z,{title:n?"Trash":"",placement:"right",children:(0,$t.jsx)("div",{className:"sidebar-bottom-btn trash-btn",children:(0,$t.jsx)(sa,{})})}),!p&&(0,$t.jsx)(ti,{toggleCollapse:function(){r(!n),localStorage.collapse_nav=!n},collapsed:n})]})]})}),(0,$t.jsxs)(oc,{className:"content",children:[e.children,(0,$t.jsx)(wa,{}),(0,$t.jsx)(Aa,{className:N})]})]}),(0,$t.jsx)(Po,{}),(0,$t.jsx)(_o,{}),(0,$t.jsx)(Zo,{visible:i,onCancel:function(){c(!1)},referData:l}),(0,$t.jsx)(Fo.Z,{visible:f,onCancel:function(){m(!1)}}),(0,$t.jsx)(ec,{})]})})}));var cc=n(4163),sc=n(32445);function lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const dc=function(e){var t=u.Z.get("screenshot_personal_uid"),n=lc(wr(),3),r=n[0],o=n[1],i=n[2];return t?r&&i!==t?(o((function(){window.location.href="/signin"})),""):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(xo,{type:"item"}),(0,$t.jsx)(cc.W,{backend:sc.PD,children:(0,$t.jsx)(ac,{children:(0,$t.jsx)(Ft.j3,{})})})]}):(r?o((function(){window.location.href="/signin"})):window.location.href="/signin","")};n(25871);var fc=n(97491),mc=n(43087),hc=n(73732),pc=n(22037);function vc(e,t){var n=e;function r(e){"google_login_success"===e.data&&t&&t()}(0,Zt.useEffect)((function(){return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}));return[function(){var e="";n&&(e=n+"_google");var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;if(Dr.Z.isSafari()){var r="/web/user/google_login";e&&(r=r+"?from="+e),window.open(r,"Login in with Google",t)}else(0,Qt.EaK)(e).then((function(e){var n=e.data.data.login_url;window.open(n,"Login in with Google",t)}))}]}var yc=n(58429);function gc(e){var t=e.folder,n=e.clickable,r=e.count,o=e.shareKey,i=e.noShareIcon,a=(0,Ft.s0)(),c=Jt()("crumb-item",{clickable:n}),s=Math.floor((30*(r-1)+92)/(r-1))+36,l=Math.floor(100/(r-1)),u={maxWidth:"My Items"===t.name?"92px":"calc("+l+"% - "+s+"px)"};return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(jn.Z,{title:t.name,mouseEnterDelay:.5,children:(0,$t.jsxs)("div",{className:c,style:u,onClick:function(){n&&("0"===String(t.folderID)?a("/my_items"):a(o?"/s/workspace/folder/".concat(t.workspaceID,"/").concat(t.channelID,"/").concat(t.folderID,"/").concat(o):"/folder/".concat(t.folderID)))},children:[!n&&(0,$t.jsxs)("div",{className:"folder-icon",children:[t.isInStarred?(0,$t.jsx)(Xt.wn,{}):(0,$t.jsx)(Xt.RO,{}),!i&&t.shareKey&&(0,$t.jsx)("div",{className:"shared-badge",children:(0,$t.jsx)(Xt.Od,{})})]}),t.name]})}),n&&(0,$t.jsx)("div",{className:"crumb-sep",children:(0,$t.jsx)(Xt.e0,{})})]})}const bc=(0,Zt.memo)(gc);var wc=n(96774),jc=n.n(wc);function xc(e){var t=e.folder,n=e.shareKey,r=(0,Ft.s0)();return(0,$t.jsxs)("div",{className:"folder-item",children:[(0,$t.jsx)("div",{className:"click-area",onClick:function(){r("/s/workspace/folder/".concat(t.workspaceID,"/").concat(t.channelID,"/").concat(t.folderID,"/").concat(n),{state:{inApp:!/\/s\/workspace\/folder/.test(window.location.pathname)}})}}),(0,$t.jsx)(Xt.RO,{}),(0,$t.jsx)("span",{className:"name",children:t.name||t.title})]})}const Sc=(0,Zt.memo)(xc,(function(e,t){return jc()(e.folder,t.folder)}));var Ic=n(41609),Oc=n.n(Ic),Ec=n(1216),Nc=n(2264);function Dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cc(e){var t=e.item,n=e.handleShowItem,r=Dc((0,Zt.useState)(!1),2),o=r[0],i=r[1];(0,Zt.useEffect)((function(){var e=setTimeout((function(){return(0,Ec.be)()}),100);return function(){return clearTimeout(e)}}),[]);var a,c=(0,Zt.useRef)(null),s=function(){n(t)},l=Jt()("shared-grid-item",{notify:t.info.hasNewComments});return(0,$t.jsx)("div",{className:l,ref:c,children:(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"thumbnail-area",onClick:s,children:(a=t.info,"video"!==a.itemType||Oc()(a)||a.s3Available?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Ec.ZP,{scrollContainer:"#item-container",offset:100,once:!0,children:(0,$t.jsx)("img",{src:t.info.thumbnailURI,alt:"",onLoad:function(){return i(!0)},onError:function(e){return e.currentTarget.style.opacity="0"}})}),!o&&(0,$t.jsx)("div",{className:"placeholder",children:"video"===t.itemType?(0,$t.jsx)(Xt.dG,{}):(0,$t.jsx)(Xt.K,{})}),(0,$t.jsx)("div",{className:"overlay"}),"video"===t.itemType&&(0,$t.jsx)("div",{className:"duration",children:t.info.duration})]}):(0,$t.jsxs)($t.Fragment,{children:[t.info.thumbnailURI&&(0,$t.jsx)(Ec.ZP,{scrollContainer:"#item-container",offset:100,once:!0,children:(0,$t.jsx)("img",{src:t.info.thumbnailURI,alt:"",onLoad:function(){return i(!0)},onError:function(e){return e.currentTarget.style.opacity="0"}})}),(0,$t.jsx)(Nc.Z,{isShare:!0,videoInfo:t.info})]}))}),(0,$t.jsxs)("div",{className:"info-area",children:[(0,$t.jsx)("div",{className:"name ".concat(t.itemType),onClick:s,children:(0,$t.jsx)("span",{children:t.info.title})}),(0,$t.jsxs)("div",{className:"extra-info",children:["video"===t.itemType?(0,$t.jsx)(Xt.dG,{}):(0,$t.jsx)(Xt.K,{}),(0,$t.jsx)("div",{className:"date",children:lo().unix(t.updatedSec).format("ll")}),(0,$t.jsx)("div",{className:"sep",children:"•"}),(0,$t.jsxs)("div",{className:"view",children:[t.info.views," ",t.info.views>1?"views":"view"]})]})]})]})})}const Pc=(0,Zt.memo)(Cc,(function(e,t){return e.handleShowItem===t.handleShowItem&&jc()(e.item,t.item)}));function kc(e){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(e)}function Tc(e){return function(e){if(Array.isArray(e))return Fc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(n),!0).forEach((function(t){Rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rc(e,t,n){return t=function(e){var t=function(e,t){if("object"!==kc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kc(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||Zc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zc(e,t){if(e){if("string"==typeof e)return Fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fc(e,t):void 0}}function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uc={loadUserInfo:et.Lk,showItem:Je.oV};const Hc=(0,i.$j)((function(e){return{isUserLoaded:e.user.isLoaded,userInfo:e.user.info}}),Uc)((function(e){var t=e.isUserLoaded,n=e.userInfo,r=e.loadUserInfo,o=e.showItem,i=(0,Ft.UO)(),a=(0,Gt.Z)(),c=(0,Ft.s0)(),s=(0,Ft.TH)(),l=Mc((0,Zt.useState)(null),2),u=l[0],d=l[1],f=Mc((0,Zt.useState)([]),2),m=f[0],h=f[1],p=Mc((0,Zt.useState)([]),2),v=p[0],y=p[1],g=Mc((0,Zt.useState)(!1),2),b=g[0],w=g[1],j=Mc((0,Zt.useState)(!1),2),x=j[0],S=j[1],I=Mc((0,Zt.useState)(!1),2),O=I[0],E=I[1],N=Mc((0,Zt.useState)(null),2),D=N[0],A=N[1],C=Mc((0,Zt.useState)(!1),2),P=C[0],k=C[1],T=Mc((0,Zt.useState)(1),2),L=T[0],_=T[1],R=(0,Zt.useRef)(),M=(0,Zt.useRef)(),Z=(Mc(vc("sharefolder",K),1)[0],a.get("page")?Number(a.get("page")):1),F=(0,yc.Z)(b,P,200,(function(){if(b||O||L===Go.J6||P||D&&D.total<20||x)return;w(!0),(0,mc.qz)({workspaceID:V,channelID:B,folderID:W},{timestamp:R.current,timestampItemID:M.current},z).then((function(e){if(w(!1),null===e.items)return k(!0);A((function(t){return _c(_c({},t),{},{items:[].concat(Tc(t.items),Tc(e.items)),total:e.total})}));var t=e.items[e.items.length-1];R.current="create"===e.sort?t.createdSec:t.updatedSec,M.current=t.id,_((function(e){return e+1})),e.items.length<20&&k(!0)}))})),U=Mc(F,2),H=U[0],G=U[1],V=i.workspaceID,B=i.channelID,W=i.folderID,z=i.shareKey;function K(){r()}(0,Zt.useEffect)((function(){var e=localStorage.getItem("restore_modal");if(e){var t=JSON.parse(e);o({currentItem:t,itemList:[t]}),localStorage.removeItem("restore_modal")}}),[]),(0,Zt.useEffect)((function(){S(!0),(0,mc.aq)({workspaceID:V,channelID:B,folderID:W},z).then((function(e){S(!1),d(_c(_c({},e.folder),{},{owner:e.owner})),e.parentFolders.length?h(function(e,t){return[].concat(Tc(t.reverse()),[e])}(e.folder,e.parentFolders)):h([]),y(e.subFolders)})).catch((function(e){"Invalid share key."===e&&c("/404")}))}),[W,V,B]),(0,Zt.useEffect)((function(){E(!0),(0,mc.qz)({workspaceID:V,channelID:B,folderID:W},{page:Z},z).then((function(e){if(E(!1),null===e.items)return A(e),void k(!0);A(e),_(1),k(!1);var t=e.items[e.items.length-1];R.current="create"===e.sort?t.createdSec:t.updatedSec,M.current=t.id})).catch((function(e){E(!1),"Invalid share key."===e&&c("/404")})),H.current&&(H.current.scrollTop=0)}),[V,B,W,Z]),(0,Zt.useEffect)((function(){void 0===n.uid&&t&&(0,Te.Zf)(K)}),[n,t]);var Y=(0,Zt.useCallback)((function(e){(0,Te.kf)(D),(0,Te.kf)(D.items);var t=D.items.map((function(e){return{id:String(e.itemID),itemType:e.itemType,shareKey:z}}));o({currentItem:e.info,itemList:t})}),[D]);function Q(){var e=m[m.length-2].folderID;c("/s/workspace/folder/".concat(V,"/").concat(B,"/").concat(e,"/").concat(z))}return(0,$t.jsxs)($t.Fragment,{children:[!t&&(0,$t.jsx)(gn.Z,{}),u&&(0,$t.jsx)("div",{className:"share-folder-page",ref:H,id:"item-container",children:(0,$t.jsxs)("div",{className:"inner-container",children:[(0,$t.jsx)("div",{className:"topbar",children:(0,$t.jsxs)("div",{className:"title-area ".concat(u.description?"crumb":""),children:[(0,$t.jsx)("div",{className:"title",children:0===m.length?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Xt.RO,{className:"title-folder-icon"}),u.name]}):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"crumb-back-btn",onClick:Q,children:(0,$t.jsx)(Xt.e0,{})}),m.map((function(e,t){var n=m.length-1!==t;return(0,$t.jsx)(bc,{count:m.length,folder:e,clickable:n,shareKey:z,noShareIcon:!0},e.folderID)}))]})}),(0,$t.jsx)("div",{className:"desc",children:u.description})]})}),(0,$t.jsxs)("div",{className:"share-folder-item-container",children:[v.length>0&&(0,$t.jsx)(hc.Z,{type:"compact",subTitle:"Folders",isSubPageLoading:b,children:v.map((function(e){return(0,$t.jsx)(Sc,{shareKey:z,folder:e},e.folderID)}))}),D&&D.items&&D.items.length&&(0,$t.jsxs)(hc.Z,{subTitle:"Images & Videos",children:[D.items.map((function(e){return(0,$t.jsx)(Pc,{item:e,handleShowItem:Y},e.id)})),b&&(0,$t.jsx)(pc.Z,{})]}),b&&(0,$t.jsx)(Vt.Z,{}),L<Go.J6&&!P&&(0,$t.jsx)("div",{style:{height:"10px"},ref:G}),(L===Go.J6||P)&&D.total>100&&(0,$t.jsx)("div",{className:"pagination",children:(0,$t.jsx)(fc.Z,{current:Z,pageSize:100,total:D.total,showSizeChanger:!1,onChange:function(e){c(s.pathname+"?page="+e)}})})]})]})}),(0,$t.jsx)(_o,{})]})}));var Gc=n(86664),Vc=n(54465),Bc=n(7991),Wc=n(6386),zc=n(25754),Kc=n(26950),Yc=(n(87057),[{type:"free",displayName:"Free",tip:"Great starter",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"}],integrations_cp:[],screenshot:["Access the latest 50 screenshots","Basic annotation tools"],record:[{type:"string",text:"5 minutes per recording",preview:"local"},{type:"string",text:"Access the latest 20 cloud videos"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 3 days"}],others:["Capture visible/full page screenshot","Basic annotation tools","1 Project to host, manage and share screenshots","30 images per project","5 minutes video recording per video","20 free videos access","Recover items from Trash within 3 days"]}},{type:"basic",displayName:"Basic",tip:"Perfect to video recording& taking screenshots",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"5 minutes per recording",preview:"local"},{type:"string",text:"Access the latest 20 cloud videos"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 30 days"}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","20 free videos access","Recover items from Trash within 30 days"]}},{type:"professional",displayName:"Professional",tip:"Best for taking screenshots",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[{name:"slack",displayName:"Slack"},{name:"trello",displayName:"Trello"},{name:"asana",displayName:"Asana"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Unlimited recording length",preview:"cloud"},{type:"string",text:"Unlimited access to cloud videos"},{type:"string",text:"Resolution up to 4k"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Download in MP4 (from the Cloud)"},{type:"string",text:"Priority MP4 conversion"},{type:"string",text:"Edit video with Cut, Text, Shape..."}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","Unlimited video recording and access"]}},{type:"team",displayName:"Team",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[{name:"slack",displayName:"Slack"},{name:"trello",displayName:"Trello"},{name:"asana",displayName:"Asana"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Unlimited recording length",preview:"cloud"},{type:"string",text:"Unlimited access to cloud videos"},{type:"string",text:"Resolution up to 4k"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Download in MP4 (from the Cloud)"},{type:"string",text:"Priority MP4 conversion"},{type:"string",text:"Edit video with Cut, Text, Shape..."}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","Unlimited video recording and access"]}}]),Qc=[{header:"Can I cancel my subscription anytime?",content:"Yes, you can cancel your subscription in settings anytime."},{header:"Can I get a refund if I cancel my subscription?",content:"You can write us an email to ask for a refund for a yearly subscription if you cancel it within 14 days of purchase. No refund available for a monthly subscription."},{header:"How long does a refund take?",content:"It usually takes 2~7 business days."}],qc=[5,10,15,20,25,30];function Jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $c=Un.Z.Option;const es=function(e){var t=Jc((0,Zt.useState)((function(){return e.currentTeamNum})),2),n=t[0],r=t[1],o=e.plan,i=e.upgradeInfo;(0,Zt.useEffect)((function(){r(e.currentTeamNum)}),[e.currentTeamNum]);var a=i.CurrentPlan,c=function(e){if(""==a.PlanName)return{text:"Get started",isDisabled:!1};if("basic"===e)var t=i.Personal;else if("professional"===e)t=i.Pro;else if("team"===e)t=i.Team;else if("free"===e)return{text:"Free to use",isDisabled:!0};return t.CanUpgrade?"basic"===e||"professional"===e?t.CanUpgrade2Monthly&&t.CanUpgrade2Yearly?{text:"Upgrade",isDisabled:!1}:t.CanUpgrade2Yearly&&!t.CanUpgrade2Monthly?a.PlanName===e?{text:"Change to yearly",isForceYear:!0,isDisabled:!1}:{text:"Upgrade",isForceYear:!0,isDisabled:!1}:{text:"Upgrade",isDisabled:!0}:"team"===e?i.CurrentPlan.Cap<n?{text:"Upgrade",isDisabled:!1}:i.CurrentPlan.Cap===n?"Monthly"===a.Interval?{text:"Change to yearly",isForceYear:!0,isDisabled:!1}:{text:"Your plan",isDisabled:!0}:{text:"Upgrade",isDisabled:!0}:void 0:i.CurrentPlan.PlanName===e?{text:"Your plan",isDisabled:!0}:{text:"Upgrade",isDisabled:!0}}(o.type),s=function(t){""!=a.PlanName?(e.handleChoose(t,n,"Change to yearly"===c.text||!0===c.isForceYear),(0,Te.I1)("click upgrade button",{event_category:"pricing"})):window.location.href="/user/login?redirect_url=https://www.awesomescreenshot.com/pricing"},l=(o.type,""),u=(0,Te.IT)(),d="free"===a.PlanName&&"professional"===o.type?"best-value":"",f="team"===o.type?"month"===e.purchaseType?o.EnableDiscount[n]:o.EnableDiscount_y[n]:"month"===e.purchaseType?o.EnableDiscount:o.EnableDiscount_y;return(0,$t.jsxs)("div",{className:"plan-item ".concat(o.type," ").concat(d),id:"team"===o.type?"team-plan":"",children:["professional"!==a.PlanName&&"team"!==a.PlanName&&"professional"===o.type&&u&&(0,$t.jsxs)("div",{className:"pro-tip",children:[(0,$t.jsx)("div",{className:"title",children:"💡Suggested"}),(0,$t.jsxs)("div",{className:"content",children:["Upgrade to Pro to gain",(0,$t.jsx)("br",{}),(0,$t.jsx)("b",{children:"unlimited video access"})]})]}),"free"!==a.PlanName&&a.PlanName===o.type&&(0,$t.jsxs)("div",{className:"your-plan",children:[(0,$t.jsx)("div",{className:"icon"}),"Your current plan"]}),"free"===a.PlanName&&"professional"===o.type&&(0,$t.jsx)("div",{className:"your-plan",children:"BEST VALUE"}),(0,$t.jsxs)("div",{className:"info-box ".concat(l),children:[(0,$t.jsx)("div",{className:"discount-tip"}),(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"type",children:o.displayName}),(0,$t.jsx)("div",{className:"price",children:"team"===o.type?(0,$t.jsx)($t.Fragment,{children:(0,$t.jsxs)("div",{className:"price-num",children:[(0,$t.jsx)("div",{className:"price-tag",children:(0,$t.jsx)(Xt.fY,{})}),"month"===e.purchaseType?o.price[n]:o.price_y[n],0!==f&&(0,$t.jsxs)("div",{className:"original-price",children:[(0,$t.jsx)("span",{children:"$"}),"month"===e.purchaseType?o.price_o[n]:o.price_y_o[n]]})]})}):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"original-price-num",children:"$6/Month"}),(0,$t.jsxs)("div",{className:"price-num",children:[(0,$t.jsx)("div",{className:"price-tag",children:(0,$t.jsx)(Xt.fY,{})}),"month"===e.purchaseType?o.price:o.price_y,0!==f&&"free"!==o.type&&(0,$t.jsxs)("div",{className:"original-price",children:[(0,$t.jsx)("span",{children:"$"}),"month"===e.purchaseType?o.price_o:o.price_y_o]})]})]})}),(0,$t.jsx)("div",{className:"user-number",children:"team"===o.type?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Un.Z,{defaultValue:n,getPopupContainer:function(){return document.getElementById("team-plan")},onChange:function(e){r(e)},children:qc.map((function(e){return(0,$t.jsxs)($c,{value:e,children:[e," users"]},e)}))}),"/ month"]}):(0,$t.jsx)($t.Fragment,{children:"free"===o.type?"Permanently valid":"Per user / month"})}),function(e){return"Your plan"===e.text?(0,$t.jsx)(Wt.Z,{type:"primary",className:"choose-btn",disabled:e.isDisabled,onClick:s.bind(null,o.type),children:"Upgrade"}):"Change to yearly"===e.text?(0,$t.jsxs)("div",{className:"change-to-yearly",children:[(0,$t.jsx)("div",{className:"tip",children:"You're paying monthly"}),(0,$t.jsx)(Wt.Z,{type:"primary",className:"choose-btn",disabled:e.isDisabled,onClick:s.bind(null,o.type),children:e.text})]}):(0,$t.jsx)(Wt.Z,{type:"primary",className:"choose-btn",disabled:e.isDisabled,onClick:s.bind(null,o.type),children:e.text})}(c)]})]}),(0,$t.jsx)("div",{className:"sep"}),(0,$t.jsxs)("div",{className:"feature-box",children:[(0,$t.jsx)("div",{className:"title",children:"Screenshot"}),(0,$t.jsx)("div",{className:"feature-section",children:(0,$t.jsx)("ul",{className:"feature-list",children:o.features.screenshot.map((function(e,t){return(0,$t.jsx)("li",{children:(0,$t.jsxs)("div",{className:"feature-item",children:[(0,$t.jsx)("span",{dangerouslySetInnerHTML:{__html:e.replace(/(Unlimited|All)/gi,"<b>$&</b>")}}),"Save screenshots to:"===e&&(0,$t.jsx)("div",{className:"integrations-container",children:o.features.integrations_cs.map((function(e,t){return(0,$t.jsx)(jn.Z,{title:e.displayName,children:(0,$t.jsx)("div",{className:"integration-item small ".concat(e.name)})},e.name)}))})]})},t)}))})}),(0,$t.jsxs)("div",{className:"feature-section",children:[(0,$t.jsx)("div",{className:"title",children:"Video Recording"}),(0,$t.jsx)("ul",{className:"feature-list",children:o.features.record.map((function(e,t){return(0,$t.jsx)("li",{children:(0,$t.jsx)("div",{className:"feature-item",children:"string"===e.type?(0,$t.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}):(0,$t.jsxs)("div",{className:"feature-link",children:[(0,$t.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}),(0,$t.jsxs)("div",{className:"feature-preview ".concat(e.preview),children:[(0,$t.jsx)("div",{className:"text",children:"local"===e.preview?'Local Recordings: temporarily stored under "My Local Recordings", can be further saved to your local disk.':"Cloud Recordings: automatically saved to your account, can be shared instantly and also downloadable."}),(0,$t.jsx)("div",{className:"pic"})]})]})})},t)}))}),("free"===o.type||"basic"===o.type)&&(0,$t.jsxs)("div",{className:"extra",children:[(0,$t.jsx)("div",{className:"extra-title",children:"For the first 20 videos recorded with cloud mode, you can try professional features listed below:"}),(0,$t.jsxs)("ul",{children:[(0,$t.jsx)("li",{className:"list-item",children:"Download in MP4 (less than 1 hour)"}),(0,$t.jsx)("li",{className:"list-item",children:"Use annotation tools while recording"}),(0,$t.jsx)("li",{className:"list-item",children:"Unlimited length per recording"}),(0,$t.jsx)("li",{className:"list-item",children:"Edit video (less than 1 hour)"})]})]})]}),o.features.integrations_cp.length>0&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"title",children:"Integrations"}),(0,$t.jsx)("div",{className:"integrations-container",children:o.features.integrations_cp.map((function(e,t){return(0,$t.jsx)(jn.Z,{title:e.displayName,children:(0,$t.jsx)("div",{className:"integration-item ".concat(e.name)})},e.name)}))})]})]})]})};var ts;n(70390);function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}function rs(e){return function(e){if(Array.isArray(e))return os(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return os(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cs(e,t,n){return(t=ls(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ls(r.key),r)}}function ls(e){var t=function(e,t){if("object"!==ns(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ns(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ns(t)?t:String(t)}function us(e,t){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},us(e,t)}function ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hs(e);if(t){var o=hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fs(this,n)}}function fs(e,t){if(t&&("object"===ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ms(e)}function ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hs(e)}Un.Z.Option;var ps=ka.Z.Panel,vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&us(e,t)}(i,e);var t,n,r,o=ds(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={billingPeriod:"year",currentTeamNum:5,currentPlanName:"",currentAmount:0,isShownOverview:!1,isShownCancel:!1,isShownPayment:!1,currentPlan:"",currentChoose:"",planOverviewTitle:"Billing overview",planOverviewBtnText:"Pay Now",coupon:null,planText:"",price:"",price_m:"",needCreate:!1,upgradeCostInfo:null,isForceYear:!1,isUpgradeBtnLoading:!1,paymentType:"success",purchaseType:"year",isCheckoutLoaded:!1,isShowOverviewLoading:!1},t.handleBillingPeriodChange=t.handleBillingPeriodChange.bind(ms(t)),t.handleTeamNumChange=t.handleTeamNumChange.bind(ms(t)),t.handleChoosePlan=t.handleChoosePlan.bind(ms(t)),t.handlePay=t.handlePay.bind(ms(t)),t.handleApplePay=t.handleApplePay.bind(ms(t)),t.handleCancel=t.handleCancel.bind(ms(t)),t.handleCancelPlanSuccess=t.handleCancelPlanSuccess.bind(ms(t)),t.handleChangePlanSuccess=t.handleChangePlanSuccess.bind(ms(t)),t.refreshUpgradeCostInfo=t.refreshUpgradeCostInfo.bind(ms(t)),t.handleChangePurchaseType=t.handleChangePurchaseType.bind(ms(t)),t.createStripHandler=t.createStripHandler.bind(ms(t)),t._createPlan=t._createPlan.bind(ms(t)),t}return t=i,n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;(0,Te.ve)("strip-checkout","https://checkout.stripe.com/checkout.js",(function(){e.setState({isCheckoutLoaded:!0})}))}},{key:"componentDidMount",value:function(){var e=this;this.props.loadUserInfo();var t=new URLSearchParams(this.props.location.search);this.promotionCode=t.get("promotionCode"),this.props.loadPlans(this.promotionCode),this.createStripHandler(),window.addEventListener("popstate",(function(){e.handler&&e.handler.close()}));try{var n=window.location.href.match(/\?success=(.*)$/);n&&("true"===(n=n[1])?this.setState({isShownPayment:!0,paymentType:"success"}):bn.Z.error({title:"Payment Failed",content:"Your payment didn’t go through. Please check your card information then try again.",okText:"Got it"}));var r=window.location.href.match(/from=(.*)$/);if(r)var o=r[1];else o="website";o&&setTimeout((function(){(0,Qt.tM0)(o)}),1e3)}catch(e){}document.title="Pricing - Awesome Screenshot"}},{key:"componentDidUpdate",value:function(e){e.user.premium!==this.props.user.premium&&"team"===this.props.user.premium.currentPlan.PlanName&&this.setState({currentTeamNum:this.props.user.premium.currentPlan.Cap})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("popstate",(function(){e.handler.close()}))}},{key:"_createPlan",value:function(e,t){var n=this,r=this;this.setState({isShowOverviewLoading:!0}),(0,Qt.e$B)(this.state.currentPlanName,t,e,this.promotionCode).then((function(){n.setState({isShownOverview:!1,isUpgradeBtnLoading:!1,isShowOverviewLoading:!1}),n.props.loadPlans(r.promotionCode),n.props.loadUserInfo(!0)}),(function(e){n.setState({isUpgradeBtnLoading:!1,isShowOverviewLoading:!1}),bn.Z.error({title:"Payment Failed",content:e+" Please try a different card or contact your card issuer.",okText:"Got it"})}))}},{key:"handleBillingPeriodChange",value:function(e,t){var n=this.state,r=n.currentChoose,o=n.currentTeamNum,i="";"team"===r?i="team_plan_"+o+("month"===e?"m":""):"basic"===r?i="premium_plan"+("month"===e?"m":""):"professional"===r&&(i="pro_plan"+("month"===e?"m":"")),this.setState({purchaseType:e,billingPeriod:e,currentPlanName:i,upgradeCostInfo:null}),t||this.refreshUpgradeCostInfo(i)}},{key:"refreshUpgradeCostInfo",value:function(e){var t=this;(0,Qt.qQg)(e,this.promotionCode).then((function(e){t.setState({upgradeCostInfo:e})}))}},{key:"handleTeamNumChange",value:function(e){this.setState({currentTeamNum:e})}},{key:"handleCancel",value:function(e){var t="isShown".concat(e);this.setState(cs({},t,!1))}},{key:"createStripHandler",value:function(){var e=this,t=this;"undefined"!=typeof StripeCheckout&&(this.handler=StripeCheckout.configure({key:"pk_live_dEyUjlPXO4pAhgsnnuUwrbEm",image:"https://www.awesomescreenshot.com/images/logo_128.png",locale:"auto",email:/privaterelay.appleid.com/.test(this.props.user.info.mail)?"":this.props.user.info.mail,token:function(n){e.token=n,"Paypal"===e.props.user.premium.currentPlan.PaymentMethod?(0,Qt.oH9)().then((function(e){t._createPlan("1",n)}),(function(e){t._createPlan("0",n)})):t._createPlan("1",n)},closed:function(t){e.token||e.setState({isUpgradeBtnLoading:!1})}}))}},{key:"handlePay",value:function(e){var t=this,n=(this.props.plan.plans,this.state),r=(n.currentChoose,n.coupon,n.price,n.price_m,n.planText),o=n.needCreate,i=(n.currentTeamNum,n.currentPlanName),a=(n.billingPeriod,n.upgradeCostInfo);if(n.purchaseType,"PayPal"===e)this.setState({isUpgradeBtnLoading:!0}),(0,Qt.GMb)(i,this.promotionCode).then((function(e){e.URL&&(window.location.href=e.URL)})).catch((function(e){t.setState({isUpgradeBtnLoading:!1})}));else if(o){var c=a.UpgradeCost.toFixed(2);c=Number((""+c).replace(".","")),this.setState({isUpgradeBtnLoading:!0}),this.handler||this.createStripHandler(),this.handler.open({name:"Awesome Screenshot",description:r,zipCode:!0,amount:c})}else this.setState({isUpgradeBtnLoading:!0}),(0,Qt.BBL)(i).then((function(e){t.props.loadUserInfo(!0),t.setState({isShownOverview:!1,isUpgradeBtnLoading:!1}),Yt.ZP.success("Your plan has been upgraded to "+r+" successfully!")}),(function(e){t.setState({isUpgradeBtnLoading:!1}),bn.Z.error({title:"Payment Failed",content:e+" Please try a different card or contact your card issuer.",okText:"Got it"})}))}},{key:"handleChoosePlan",value:function(e,t,n){var r=this.state.billingPeriod,o=this.props.plan.plans,i=this.props.user.premium.upgradeInfo;if(n=n||"Yearly"===i.CurrentPlan.Interval&&"PayPal"===i.CurrentPlan.PaymentMethod,"basic"===e){var a="Basic (1 user)",c=i.Personal.Coupon,s=i.Personal.NeedCreate,l="premium_plan";l=n?"premium_plan":"premium_plan"+("month"===r?"m":"")}else if("professional"===e)a="Professional (1 user)",c=i.Pro.Coupon,s=i.Pro.NeedCreate,l=n?"pro_plan":"pro_plan"+("month"===r?"m":"");else if("team"===e){a="Team ("+t+" users)";var u=o["team_plan_"+t+"m"].Price;c=i.Team.Coupon,s=i.Team.NeedCreate,l=n?"team_plan_"+t:"team_plan_"+t+("month"===r?"m":"")}var d={currentChoose:e,currentTeamNum:t,planText:a,needCreate:s,price_m:u||"",coupon:c,planOverviewBtnText:"Upgrade",currentPlanName:l};d.isForceYear=!!n,this.setState(as(as({},d),{},{upgradeCostInfo:null,isShownOverview:!0})),this.refreshUpgradeCostInfo(l)}},{key:"handleCancelPlanSuccess",value:function(){this.props.loadUserInfo(),this.token=null,this.setState({isShownOverview:!0})}},{key:"handleChangePlanSuccess",value:function(){this.props.loadUserInfo(),this.setState({isShownOverview:!1})}},{key:"handleApplePay",value:function(e){var t=this,n=this;this.setState({isShowOverviewLoading:!0}),(0,Qt.tRN)({stripeEmail:e.billing_details.email,name:e.billing_details.name,paymentMethod:e.id,planName:this.state.currentPlanName,promotionCode:this.promotionCode}).then((function(e){t.setState({isShownOverview:!1,isShowOverviewLoading:!1}),t.props.loadPlans(n.promotionCode),t.props.loadUserInfo(!0)})).catch((function(e){t.setState({isShowOverviewLoading:!1}),bn.Z.error({title:"Payment Failed",content:e+" Please try a different card or contact your card issuer.",okText:"Got it"})}))}},{key:"handleChangePurchaseType",value:function(e){this.handleBillingPeriodChange(e,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.plan,r=t.user,o=this.state,i=o.purchaseType,a=o.currentTeamNum,c=o.isShownOverview,s=(o.currentPlanName,o.currentPlan,o.currentAmount,o.currentChoose),l=o.planOverviewTitle,u=o.isShownCancel,d=(o.coupon,o.planOverviewBtnText),f=o.price,m=(o.price_m,o.planText),h=o.upgradeCostInfo,p=o.isForceYear,v=o.billingPeriod,y=o.isUpgradeBtnLoading,g=o.isShownPayment,b=o.paymentType,w=o.isCheckoutLoaded,j=o.isShowOverviewLoading,x=Jt()("switch",{active:"year"===i}),S=n.plans,I=r.premium||"",O=function(e,t,n){if("free"===e)return 0;if("basic"===e)return n?S.premium_planm.OriginPrice:S.premium_planm.Price;if("professional"===e)return n?S.pro_planm.OriginPrice:S.pro_planm.Price;if("team"===e){var r="team_plan_"+t+"m";return n?S[r].OriginPrice:S[r].Price}},E=function(e,t,n){if("free"===e)return 0;if("basic"===e)return n?S.premium_plan.OriginPrice:S.premium_plan.Price;if("professional"===e)return n?S.pro_plan.OriginPrice:S.pro_plan.Price;if("team"===e){var r="team_plan_"+t;return n?S[r].OriginPrice:S[r].Price}},N=function(e,t){if("basic"===e)return{m:S.premium_planm.EnableDiscount,y:S.premium_plan.EnableDiscount};if("professional"===e)return{m:S.pro_planm.EnableDiscount,y:S.pro_plan.EnableDiscount};if("team"===e){var n="team_plan_"+t;return{m:S["team_plan_"+t+"m"].EnableDiscount,y:S[n].EnableDiscount}}},D=rs(Yc);S.premium_plan&&D.forEach((function(e){if("free"===e.type)e.EnableDiscount=!1,e.EnableDiscount_y=!1;else if("team"!==e.type){var t=N(e.type);e.EnableDiscount=t.m,e.EnableDiscount_y=t.y}else e.EnableDiscount={},e.EnableDiscount_y={},qc.forEach((function(t){var n=N("team",t);e.EnableDiscount[t]=n.m,e.EnableDiscount_y[t]=n.y}));if("team"!==e.type)e.price=O(e.type),e.price_y=(0,Te.MW)(E(e.type)),e.price_o=O(e.type,0,!0),e.price_y_o=(0,Te.MW)(E(e.type,0,!0));else if("team"===e.type){var n={},r={},o={},i={};qc.forEach((function(e){n[e]=O("team",e),r[e]=(0,Te.MW)(E("team",e)),o[e]=O("team",e,!0),i[e]=(0,Te.MW)(E("team",e,!0))})),e.price=n,e.price_y=r,e.price_o=o,e.price_y_o=i}})),I.PlanName,I.PlanName,"Team Plan"===I.PlanName&&I.Cap===a&&I.Interval;var A=function(){return(0,$t.jsxs)("div",{className:"plan-page",children:[(0,$t.jsx)("div",{className:"bg-container"}),(0,$t.jsxs)("div",{className:"main",children:[(0,$t.jsx)("div",{className:"title",children:"Pick a plan that suits your needs"}),(0,$t.jsx)("div",{className:"title-tip",children:"All prices listed below are in USD."}),!n.isLoading&&!r.isLoading&&w&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"switcher",children:(0,$t.jsxs)("div",{className:x,children:[(0,$t.jsx)("div",{className:"switch-tip"}),(0,$t.jsx)("div",{className:"switch-thumb"}),(0,$t.jsx)("div",{className:"switch-item month",onClick:function(){e.handleChangePurchaseType("month")},children:"Billed Monthly"}),(0,$t.jsx)("div",{className:"switch-item year",onClick:function(){e.handleChangePurchaseType("year")},children:"Billed Yearly"})]})}),(0,$t.jsx)("div",{className:"plan-container",children:(0,$t.jsx)("div",{className:"plan-box",children:D.map((function(t){return(0,$t.jsx)(es,{plan:t,purchaseType:i,currentTeamNum:a,upgradeInfo:r.premium.upgradeInfo,handleChoose:e.handleChoosePlan},t.type)}))})}),(0,$t.jsx)(zc.Z,{visible:c,price:f,planText:m,title:l,handleCancel:e.handleCancel.bind(null,"Overview"),handlePay:e.handlePay,handleBillingPeriodChange:e.handleBillingPeriodChange,btnText:d,currentChoose:s,billingPeriod:v,upgradeCostInfo:h,isForceYear:p,isUpgradeBtnLoading:y,isShowOverviewLoading:j,handleApplePay:e.handleApplePay}),(0,$t.jsx)(Bc.Z,{visible:u,handleCancel:e.handleCancel.bind(null,"Cancel"),handleCancelPlanSuccess:e.handleCancelPlanSuccess}),(0,$t.jsx)(Wc.Z,{visible:g,handleCancel:e.handleCancel.bind(null,"Payment"),type:b})]})]}),!n.isLoading&&!r.isLoading&&w&&(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"faq-area",children:(0,$t.jsxs)("div",{className:"faq",children:[(0,$t.jsx)("div",{className:"title",children:"FAQs"}),(0,$t.jsx)(ka.Z,{ghost:!0,expandIconPosition:"right",expandIcon:function(e){var t=e.isActive;return(0,$t.jsx)(Xt.e0,{rotate:t?270:90})},children:Qc.map((function(e){return(0,$t.jsx)(ps,{className:"faq-header",header:e.header,children:(0,$t.jsx)("div",{children:e.content})},e.header)}))})]})}),(0,$t.jsx)("div",{className:"contact",children:(0,$t.jsxs)("div",{className:"contact-win",children:[(0,$t.jsx)("div",{className:"pic"}),(0,$t.jsx)("div",{className:"form-area",children:(0,$t.jsx)(Kc.z,{})})]})})]})]})};return Dr.Z.isSafari()?(0,$t.jsx)(Gc.Elements,{stripe:(!ts&&Dr.Z.isSafari()&&(ts=(0,Vc.J)("pk_live_dEyUjlPXO4pAhgsnnuUwrbEm")),ts),children:A()}):A()}}],n&&ss(t.prototype,n),r&&ss(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Zt.Component),ys={loadUserInfo:et.Lk,loadPlans:Ut.Z};const gs=(0,i.$j)((function(e){return{user:e.user,plan:e.plan}}),ys)(vs);var bs=n(95411),ws=n(74601),js=n(28191);function xs(e){return xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(e)}function Ss(e){return function(e){if(Array.isArray(e))return As(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ds(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(n),!0).forEach((function(t){Es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Es(e,t,n){return t=function(e){var t=function(e,t){if("object"!==xs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xs(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||Ds(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(e,t){if(e){if("string"==typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?As(e,t):void 0}}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cs={loadUserInfo:et.Lk,showItem:Je.oV};const Ps=(0,i.$j)((function(e){return{isUserLoaded:e.user.isLoaded,userInfo:e.user.info}}),Cs)((function(e){var t=e.isUserLoaded,n=e.userInfo,r=e.loadUserInfo,o=e.showItem,i=(0,Ft.UO)(),a=(0,Gt.Z)(),c=(0,Ft.s0)(),s=(0,Ft.TH)(),l=Ns((0,Zt.useState)(null),2),u=l[0],d=l[1],f=Ns((0,Zt.useState)([]),2),m=f[0],h=f[1],p=Ns((0,Zt.useState)([]),2),v=p[0],y=p[1],g=Ns((0,Zt.useState)(!1),2),b=g[0],w=g[1],j=Ns((0,Zt.useState)(!1),2),x=j[0],S=j[1],I=Ns((0,Zt.useState)(!1),2),O=I[0],E=I[1],N=Ns((0,Zt.useState)(null),2),D=N[0],A=N[1],C=Ns((0,Zt.useState)(!1),2),P=C[0],k=C[1],T=Ns((0,Zt.useState)(1),2),L=T[0],_=T[1],R=(0,Zt.useRef)(),M=Ns(vc("sharefolder",W),1)[0],Z=a.get("page")?Number(a.get("page")):1,F=(0,yc.Z)(b,P,200,(function(){if(b||O||L===Go.J6||P||D&&D.total<20||x)return;w(!0),(0,Qt.usf)("",Z,V,R.current,!1,B,L+1).then((function(e){w(!1),null!==e.items?(A((function(t){return Os(Os({},t),{},{items:[].concat(Ss(t.items),Ss(e.items)),total:e.total})})),R.current="create"===e.sort?e.items[e.items.length-1].createdSec:e.items[e.items.length-1].updatedSec,_((function(e){return e+1})),e.items.length<20&&k(!0)):k(!0)}))})),U=Ns(F,2),H=U[0],G=U[1],V=i.folderID,B=i.shareKey;function W(){r()}(0,Zt.useEffect)((function(){var e=localStorage.getItem("restore_modal");if(e){var t=JSON.parse(e);o({currentItem:t,itemList:[t]}),localStorage.removeItem("restore_modal")}}),[]),(0,Zt.useEffect)((function(){S(!0),(0,Qt.vQG)(V,B).then((function(e){S(!1),d(Os(Os({},e.folder),{},{owner:e.owner})),e.parentFolders.length?h(function(e,t){return[].concat(Ss(t.reverse()),[e])}(e.folder,e.parentFolders)):h([]),y(e.subFolders)})).catch((function(e){"Invalid share key."===e&&c("/404")}))}),[V]),(0,Zt.useEffect)((function(){E(!0),(0,Qt.usf)("",Z,V,"",!1,B).then((function(e){if(E(!1),null===e.items)return A(e),void k(!0);A(e),_(1),k(!1),R.current="create"===e.sort?e.items[e.items.length-1].createdSec:e.items[e.items.length-1].updatedSec})).catch((function(e){E(!1),"Invalid share key."===e&&c("/404")})),H.current&&(H.current.scrollTop=0)}),[V,Z]),(0,Zt.useEffect)((function(){void 0===n.uid&&t&&(0,Te.Zf)(W)}),[n,t]);var z=(0,Zt.useCallback)((function(e){var t=D.items.map((function(e){return{id:e.id,itemType:e.itemType,shareKey:e.shareKey}}));o({currentItem:e,itemList:t})}),[D]);function K(){var e=m[m.length-2].folderID;c("/s/folder/"+e+"/"+B)}return(0,$t.jsxs)($t.Fragment,{children:[!t&&(0,$t.jsx)(gn.Z,{}),u&&(0,$t.jsx)("div",{className:"share-folder-page",ref:H,id:"item-container",children:(0,$t.jsxs)("div",{className:"inner-container",children:[t&&!n.uid&&(0,$t.jsxs)("div",{className:"sign-in-banner",children:[(0,$t.jsx)("span",{className:"h1",children:"Welcome !"})," Sign in to save the folder shared with you",(0,$t.jsx)(Wt.Z,{ghost:!0,className:"other-sign-in-btn",onClick:function(){window.location.href="https://"+window.location.host+"/signin?expand=true&redirect="+window.location.href},children:"Other ways to sign in"}),(0,$t.jsxs)("div",{className:"google-sign-in-btn",onClick:M,children:[(0,$t.jsx)(Xt.Kv,{})," Sign in with Google"]})]}),t&&n.uid&&n.uid!==u.owner.uid&&(0,$t.jsxs)("a",{className:"share-with-me-link",onClick:function(){s.state&&s.state.inApp?c(-1):c("/shared_with_me")},children:[(0,$t.jsx)(Xt.Dn,{})," Shared with me"]}),(0,$t.jsxs)("div",{className:"topbar",children:[(0,$t.jsxs)("div",{className:"title-area ".concat(u.description?"crumb":""),children:[(0,$t.jsx)("div",{className:"title",children:0===m.length?(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Xt.RO,{className:"title-folder-icon"}),u.name]}):(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)("div",{className:"crumb-back-btn",onClick:K,children:(0,$t.jsx)(Xt.e0,{})}),m.map((function(e,t){var n=m.length-1!==t;return(0,$t.jsx)(bs.Z,{count:m.length,folder:e,clickable:n,shareKey:B,noShareIcon:!0},e.folderID)}))]})}),(0,$t.jsx)("div",{className:"desc",children:u.description})]}),(0,$t.jsxs)("div",{className:"author-area",children:[(0,$t.jsx)("div",{className:"author-title",children:"Shared by"}),(0,$t.jsxs)("div",{className:"author-info",children:[(0,$t.jsx)(Ar.Z,{size:32,username:u.owner.fullName,avatarUrl:u.owner.avatarURL}),(0,$t.jsx)(Cr.Z,{width:200,text:u.owner.fullName})]})]})]}),(0,$t.jsxs)("div",{className:"share-folder-item-container",children:[v.length>0&&(0,$t.jsx)(hc.Z,{type:"compact",subTitle:"Folders",children:v.map((function(e){return(0,$t.jsx)(ws.Z,{shareKey:B,folder:e},e.folderID)}))}),D&&D.items&&D.items.length&&(0,$t.jsxs)(hc.Z,{subTitle:"Images & Videos",children:[D.items.map((function(e){return e.shareKey=B,(0,$t.jsx)(js.Z,{item:e,handleShowItem:z,isFolder:!0},e.id)})),b&&(0,$t.jsx)(pc.Z,{})]}),b&&(0,$t.jsx)(Vt.Z,{}),L<Go.J6&&!P&&(0,$t.jsx)("div",{style:{height:"10px"},ref:G}),(L===Go.J6||P)&&D.total>100&&(0,$t.jsx)("div",{className:"pagination",children:(0,$t.jsx)(fc.Z,{current:Z,pageSize:100,total:D.total,showSizeChanger:!1,onChange:function(e){c(s.pathname+"?page="+e)}})})]})]})}),(0,$t.jsx)(_o,{})]})}));var ks=n(70394);function Ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ls(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _s={loadUserInfo:et.Lk,loadWorkspaces:Ht.Pf};const Rs=(0,i.$j)((function(e){return{currentPlan:e.user.premium.currentPlan,isLoading:e.user.isLoading}}),_s)((function(e){var t=e.isLoading,n=e.currentPlan,r=e.loadUserInfo,o=e.loadWorkspaces,i=(0,Ft.s0)(),a=Ts((0,Zt.useState)(0),2),c=a[0],s=a[1],l=Ts((0,Zt.useState)(!1),2),u=l[0],d=l[1],f=Ts((0,Zt.useState)({}),2),m=f[0],h=f[1],p=Ts((0,Zt.useState)(!1),2),v=p[0],y=p[1];function g(){y(!0)}function b(){window.location.href="/workspace/"+m.workspaceID+"/"+m.channelID}return(0,Zt.useEffect)((function(){r()}),[]),t?(0,$t.jsx)(gn.Z,{}):(0,$t.jsxs)("div",{className:"transfer-workspace",children:[(0,$t.jsxs)("div",{className:"left",children:[(0,$t.jsx)("div",{className:"pic"}),(0,$t.jsx)("div",{className:"title",children:"Create a new workspace"}),(0,$t.jsx)("div",{className:"desc",children:"Collaborating with your team in a workspace, you can communicate and share images and videos with colleagues."}),(0,$t.jsxs)("ul",{className:"list",children:[(0,$t.jsx)("li",{children:"Collaborate with teammates"}),(0,$t.jsx)("li",{children:"Seamless synchronization across different platforms"}),(0,$t.jsx)("li",{children:"Powerful visual repository for your team"})]})]}),(0,$t.jsx)("div",{className:"right",children:0===c?(0,$t.jsxs)("div",{children:[(0,$t.jsx)("div",{className:"desc",children:"To create a workspace, you need to give it a name, and the channel under the workspace also needs a name."}),(0,$t.jsx)("div",{className:"form",children:(0,$t.jsxs)(zt.Z,{onFinish:function(e){d(!0),(0,Qt.Ufv)(e.workspaceName,e.channelName,"").then((function(e){if("team"!==n.PlanName)return Yt.ZP.success("Transfer Successful"),o(!0),r(!0),void i("/workspace/".concat(e.workspaceID,"/").concat(e.channelID));h({workspaceID:e.workspaceID,channelID:e.channelID}),d(!1),s(1)})).catch((function(e){Yt.ZP.error(e),d(!1)}))},children:[(0,$t.jsx)("label",{children:"Workspace name"}),(0,$t.jsx)(zt.Z.Item,{name:"workspaceName",rules:[{required:!0,message:"Workspace name is needed."}],children:(0,$t.jsx)(Kt.Z,{size:"large",autoComplete:"off"})}),(0,$t.jsx)("div",{className:"tip",children:"Name your workspace something your team will recognize"}),(0,$t.jsx)("label",{children:"Channel name"}),(0,$t.jsx)(zt.Z.Item,{name:"channelName",rules:[{required:!0,message:"Channel name is needed."}],children:(0,$t.jsx)(Kt.Z,{size:"large",autoComplete:"off"})}),(0,$t.jsx)("div",{className:"tip",children:"It could be a project, party, campaign or anything"}),(0,$t.jsx)(zt.Z.Item,{children:(0,$t.jsx)(Wt.Z,{type:"primary",size:"large",className:"transfer-btn",block:!0,htmlType:"submit",loading:u,children:"Create & Transfer"})})]})})]}):(0,$t.jsxs)("div",{className:"card-form",children:[(0,$t.jsx)("div",{className:"success-icon",children:(0,$t.jsx)(Xt.m9,{})}),(0,$t.jsx)("div",{className:"title",children:"Transfer Successful"}),(0,$t.jsxs)("div",{className:"text-panel",children:[(0,$t.jsx)("h1",{children:"We have adjusted plans to best suit growing teams."}),(0,$t.jsxs)("ul",{children:[(0,$t.jsx)("li",{children:"Instead of buying a fixed number of seats at the beginning, now you will be billed on a prorated basis."}),(0,$t.jsxs)("li",{children:["You will only need to pay for the amount of time that team members in the workspace."," "]}),(0,$t.jsxs)("li",{children:["If you remove a workspace member before your subscription ends, you will receive a refund balance on your account."," "]})]})]}),(0,$t.jsx)("h3",{children:"Re-enter payment information "}),(0,$t.jsx)("div",{children:"You will need to re-enter your payment information for this update. Paypal is no longer supported. Note that you will not be charged until your next billing cycle."}),(0,$t.jsxs)("div",{className:"btn-area",children:[(0,$t.jsx)(Wt.Z,{type:"primary",block:!0,size:"large",onClick:g,children:"Update payment infomation"}),(0,$t.jsx)("div",{className:"cancel",children:(0,$t.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),bn.Z.confirm({title:"Notice",content:"If you skip re-entering your payment information now, your future subscription might be affected. Please change your payment information ASAP.",okText:"Go to update",cancelText:"I will change it later",onOk:g,autoFocusButton:null,onCancel:b})},children:"Not now"})})]}),(0,$t.jsx)(ks.Z,{visible:v,onCancel:function(){y(!1)},workspace:{id:m.workspaceID},type:"changeCard",afterUpdate:function(){b()}})]})})]})}));var Ms=(0,Zt.lazy)((function(){return n.e(267).then(n.bind(n,84912))})),Zs=(0,Zt.lazy)((function(){return n.e(682).then(n.bind(n,62602))})),Fs=(0,Zt.lazy)((function(){return Promise.resolve().then(n.bind(n,61468))})),Us=(0,Zt.lazy)((function(){return Promise.all([n.e(458),n.e(29)]).then(n.bind(n,59001))})),Hs=(0,Zt.lazy)((function(){return Promise.resolve().then(n.bind(n,57940))})),Gs=(0,Zt.lazy)((function(){return n.e(538).then(n.bind(n,28707))})),Vs=(0,Zt.lazy)((function(){return n.e(867).then(n.bind(n,45867))})),Bs=(0,Zt.lazy)((function(){return Promise.all([n.e(330),n.e(611),n.e(314)]).then(n.bind(n,49652))})),Ws=(0,Zt.lazy)((function(){return Promise.all([n.e(53),n.e(717)]).then(n.bind(n,73844))})),zs=(0,Zt.lazy)((function(){return Promise.all([n.e(330),n.e(806),n.e(53),n.e(685)]).then(n.bind(n,6989))})),Ks=(0,Zt.lazy)((function(){return n.e(680).then(n.bind(n,89594))})),Ys=(0,Zt.lazy)((function(){return n.e(121).then(n.bind(n,85766))})),Qs=(0,Zt.lazy)((function(){return n.e(517).then(n.bind(n,28724))})),qs=(0,Zt.lazy)((function(){return n.e(808).then(n.bind(n,7466))})),Js=(0,Zt.lazy)((function(){return n.e(415).then(n.bind(n,96288))}));function Xs(){return(0,$t.jsxs)($t.Fragment,{children:[(0,$t.jsx)(Zt.Suspense,{fallback:(0,$t.jsx)(gn.Z,{}),children:(0,$t.jsxs)(Ft.Z5,{children:[(0,$t.jsx)(Ft.AW,{path:"/loading",element:(0,$t.jsx)(gn.Z,{})}),!1,(0,$t.jsxs)(Ft.AW,{path:"/",element:(0,$t.jsx)(dc,{}),children:[(0,$t.jsx)(Ft.AW,{path:"invite",type:"invite",element:(0,$t.jsx)(zs,{type:"invite"})}),(0,$t.jsx)(Ft.AW,{path:"all_videos",type:"video",element:(0,$t.jsx)(zs,{type:"video"})}),(0,$t.jsx)(Ft.AW,{path:"all_images",type:"image",element:(0,$t.jsx)(zs,{type:"image"})}),(0,$t.jsx)(Ft.AW,{type:"item",path:"my_items",element:(0,$t.jsx)(zs,{type:"item"})}),(0,$t.jsx)(Ft.AW,{type:"shared",path:"shared",element:(0,$t.jsx)(zs,{type:"shared"})}),(0,$t.jsx)(Ft.AW,{type:"workspaceSetting",path:"workspace/setting/:workspaceID",element:(0,$t.jsx)(zs,{type:"workspaceSetting"})}),(0,$t.jsx)(Ft.AW,{type:"sharedWithMe",path:"shared_with_me",element:(0,$t.jsx)(zs,{type:"sharedWithMe"})}),(0,$t.jsx)(Ft.AW,{path:"search/:query",type:"search",element:(0,$t.jsx)(zs,{type:"search"})}),(0,$t.jsx)(Ft.AW,{path:"folder/:folderID",type:"item",element:(0,$t.jsx)(zs,{type:"item"})}),(0,$t.jsx)(Ft.AW,{path:"workspace/:workspaceID/:channelID",type:"channel",element:(0,$t.jsx)(zs,{type:"channel"})}),(0,$t.jsx)(Ft.AW,{path:"workspace/:workspaceID/:channelID/:folderID",element:(0,$t.jsx)(zs,{type:"channel"})}),(0,$t.jsx)(Ft.AW,{path:"trash",type:"trash",element:(0,$t.jsx)(zs,{type:"trash"})})]}),(0,$t.jsx)(Ft.AW,{path:"/",element:(0,$t.jsx)(Oo,{private:!0}),children:(0,$t.jsxs)(Ft.AW,{path:"settings",children:[(0,$t.jsx)(Ft.AW,{index:!0,element:(0,$t.jsx)(Ft.Fg,{replace:!0,to:"profile"})}),(0,$t.jsx)(Ft.AW,{path:":name/:id",element:(0,$t.jsx)(Bs,{})}),(0,$t.jsx)(Ft.AW,{path:":name",element:(0,$t.jsx)(Bs,{})})]})}),(0,$t.jsxs)(Ft.AW,{path:"/",element:(0,$t.jsx)(Oo,{}),children:[(0,$t.jsx)(Ft.AW,{path:"contact_us",type:"contact",element:(0,$t.jsx)(Qs,{})}),(0,$t.jsx)(Ft.AW,{path:"team/join/:teamID/:code",type:"teamjoin",element:(0,$t.jsx)(Zs,{})}),(0,$t.jsx)(Ft.AW,{path:"pricing",type:"pricing",element:(0,$t.jsx)(Ws,{})}),(0,$t.jsx)(Ft.AW,{path:"recorder",type:"recorder",element:(0,$t.jsx)(Gs,{})}),(0,$t.jsx)(Ft.AW,{path:"tools",type:"tools",element:(0,$t.jsx)(Vs,{})}),(0,$t.jsx)(Ft.AW,{path:"video/:videoID",type:"video",element:(0,$t.jsx)(Fs,{})}),(0,$t.jsx)(Ft.AW,{path:"image/:imageID",type:"image",element:(0,$t.jsx)(Hs,{})}),(0,$t.jsx)(Ft.AW,{path:"/s/folder/:folderID/:shareKey",element:(0,$t.jsx)(Ps,{})}),(0,$t.jsx)(Ft.AW,{path:"/s/workspace/folder/:workspaceID/:channelID/:folderID/:shareKey",element:(0,$t.jsx)(Hc,{})}),(0,$t.jsx)(Ft.AW,{path:"*",element:(0,$t.jsx)(Ks,{})})]}),(0,$t.jsx)(Ft.AW,{path:"/workspace/create",element:(0,$t.jsx)(yn,{})}),(0,$t.jsx)(Ft.AW,{path:"/workspace/transfer",element:(0,$t.jsx)(Rs,{})}),(0,$t.jsx)(Ft.AW,{path:"/workspace/invite/:key",element:(0,$t.jsx)(qs,{})}),(0,$t.jsx)(Ft.AW,{path:"/workspace/do_invite/:key",element:(0,$t.jsx)(Js,{})}),(0,$t.jsx)(Ft.AW,{path:"/image/annotate/:imageID",element:(0,$t.jsx)(Ys,{})}),(0,$t.jsx)(Ft.AW,{path:"/veditor/:videoID",element:(0,$t.jsx)(Us,{})}),(0,$t.jsx)(Ft.AW,{path:"/uninstall",type:"uninstall",element:(0,$t.jsx)(Ms,{})}),(0,$t.jsx)(Ft.AW,{path:"/pricing2",element:(0,$t.jsx)(gs,{})})]})}),(0,$t.jsx)(br,{})]})}(0,Mt.S)({dsn:"https://a5f0a913050f4360a69e1709083de3eb@o417487.ingest.sentry.io/5317756",release:"awesomescreenshot-web@2024-10-21, 01:51:11",ignoreErrors:["ResizeObserver loop limit exceeded","Extension context invalidated","Non-Error promise rejection captured with value: Invalid share key"],denyUrls:[/chrome-extension:\/\//,/gtag\/js/]}),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js")}));var $s=(0,r.xC)({reducer:Rt});o.render((0,$t.jsx)(i.zt,{store:$s,children:(0,$t.jsx)(a.VK,{children:(0,$t.jsx)(Xs,{})})}),document.getElementById("app"))},79285:(e,t,n)=>{n.d(t,{f:()=>u});n(32399);var r=n(11382),o=n(7085),i=n(85893),a=n(67294);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,i.jsx)(o.Z,{style:{fontSize:"2em"}});function u(e){var t=e.src,n=e.width,o=void 0===n?"100%":n,s=e.height,u=void 0===s?"100%":s,d=e.title,f=void 0===d?"Video Player":d,m=e.background,h=void 0===m?"black":m,p=e.id,v=c((0,a.useState)(!0),2),y=v[0],g=v[1];return(0,i.jsx)("div",{className:"iframe-video-player",style:{background:h,height:"number"==typeof u?u+"px":u,width:"number"==typeof o?o+"px":o},children:(0,i.jsxs)(r.Z,{indicator:l,spinning:y,children:[(0,i.jsx)("iframe",{className:"iframe-video-player-content",src:t,frameBorder:"0",onLoad:function(){return g(!1)},onError:function(){return g(!1)},title:f,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,id:p}),(0,i.jsx)("div",{className:"spinner"})]})})}},73458:(e,t,n)=>{n.d(t,{So:()=>L,VM:()=>C,jw:()=>P,hO:()=>T,wD:()=>k,Xf:()=>D});var r=n(61312),o=(n(67294),n(85893));function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=function(e){return(0,o.jsxs)("svg",c(c({width:"1em",height:"1em",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img"},e),{},{children:[(0,o.jsx)("path",{d:"M0 40.8h40V.8H0v40Z",fill:"url(#Like_Emoji_svg__a)"}),(0,o.jsxs)("defs",{children:[(0,o.jsx)("pattern",{id:"Like_Emoji_svg__a",patternContentUnits:"objectBoundingBox",width:1,height:1,children:(0,o.jsx)("use",{xlinkHref:"#Like_Emoji_svg__b",transform:"scale(.00625)"})}),(0,o.jsx)("image",{id:"Like_Emoji_svg__b",width:160,height:160,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAABJEklEQVR4nO29ebQt2Vkf9ttDVZ3hTu/eN/Y8qJse1GKQQAjJCEk4cTASg8hiCjYssMPCib0IWYmBFbxIbOwYTHACCTFDgDgMQgQhRBgMSAINSHJLrZ4kdUvd6n7dr1+/+d3pnKrae3/549t7166655x77xv63u73vrfuO+fUqaqzd9Wvvvn7tsB12jXR499/D8yZe0H1bTS6uOickUKqSkp9CsPbHoQcPAZgvNfjfDmQoM/84F6P4eVB5uTX1+ef+RZTjr5WQNxHICkgACEghISQAtbUsHUFqfTTxXDxz9Xy/e8C8Od7PfT9TIIe/969HsP+ptHxt26efuYnAfEm3RtC5QWk1Aw8KQEheT9yIGvhnIGrS5hyBFuVkDr7yODGB34WwO/t6Tz2KQl65Fv3egz7lupzT/3I5rlTP9NbOICsPw+pc0BpQOUABO8kJEDOH0GAKQFn4UwFW5cw5SaqzXXkg7nf7t/8lv8KwNk9ms6+pOsieArVpz/2oxdPHP+puYOHkQ8WGHxZnwEnC0AoQIjmAHIAWf9nADMGmRrO1rDVCOX6Kurx6MXlV3359wL4k72a134jQZ/6T/d6DPuPzPh1Jz/z0CfmD64gHy5CFwOIAEDZA0QGCO13lgAcAPIgrAFXehCWIFt7bjhGPdrAeG0VC0du/GEAP7dn89tHpOvVF/d6DPuOLp44/iu9edb3hPQ6npSe6ylA5F73CxxQASD+EwKAAxwBKoMAQ5RJgIhw4fln/pelm24/DODHXsp57UfSUYm+TgAAXQxeW1f1a3oLCxBSAd7SBSRzPaEZhJBIocXgcwARA1QKPhYCgiykygAAWc/B9kuceerJH12+5bYegP/mJZ7iviLtTL3XY9hXNB6d+lalFaTy4AskU9CFP9E52nNJePEsPVdUOQRVECCoLEcxtwBnLc48/dQPH37V3WcA/NTVntd+JS2V3n6va4jGF8/dKwSLyihWAdbvhACL20ngazgef0UANO9KFpAWghykzqCKPnrzFgDhxSef+Bc3ve5rP45r1F+os8Wjez2GfUX1C88OAcBZC3IWAEDkIII2t0VlSYFI/rNiQyWAV+aAchBkAShIpaF7AxREcNbi+Cc++Ic3v+nv3QLg9FWd3D4kjeLWvR7DviKij5+2xoKsBTnnOWGXxMS3gPCYCyJaAbAMRum5IAChCJIIKi+QD4aoRmXv9Kfe9R4Ab7xK09q3pE9/6l17PYZ9RcXc3GNrZ87BmhqaiI0KAJGbYRIgExIAKHDBsD+xbqhygByEJEA5SJ1D5wXyQQ8XT61/ze1f+bq3A/jDqzOz/Un64J337/UY9hWRrT9y8cUzcNbC1RUo7zEIKdEHI4kJ7ykBoQQbJJZFt1DsmiELCAUpFWSWI+/30Z8b47mHH/xFXGsAfO7hB/d6DPuKbv6ab/ob0MMXnbGLzloQuQZ85LwxEnS9SSSaFwo6owKQASIBonAQSkGqDCrvIe/3MNpYv+GW19z3XQB+8yWY6r4gfeyee/d6DPuKzLknyryffdDW5h3kHOuBzvp4byqGJ3G/LqVc0CAaMVJBOAsCJzQonSEf9FH0NnHq80/8OK4lAJ76/BN7PYZ9R0vHjn7wwgsvvMNZA3KWDRHnY7yYBcSUBHPKlAsK6Q9RgJQQJCGkglAaKsuR9wusnhndd+fXff1XAvjE1Z/p3pO+4bVft9dj2H9Urn3o7PETIEdw1njRG8SwnYC57URyMEo0gMqLYf4TUkFIFsVZUUDqEdaffeR7cK0AcP3ZR/Z6DPuO5u54y8NCfGLdOTcXXDFE7EhuOaeB2diLXFCx/kde//PpW8KDUCoFpxRUkSMvFM6/cOqbAPzjqzrJfUL6/Aun9noM+47Ov/A747yXP+isfXPQAYkIwtWASiMkU5E3gWRigBgvlm2MM0upoXSOvJ9j9ezolju/9q1fBuChKz65fUb65q96y16PYV/Shac+9eB4bePN5HxEJLpigiW82zOmeTHtg4WUgGROqPIMUo6w8fxn/i6uBQBuPP+ZvR7DvqTB0sFPbl5Y45BcAB/ZxA0TKHDCHbhmtrxnMUywURwrnUFnAutnz371FZ3QPiW9fvZ6hvgkOnzXsYeICKkIjhww/ineeTs9MOqMaQhPeKvY+qIm/pNKQWUS5WZ17y1/67vSg1+RpI+89tv2egz7k6rnnwRwjhwtEzkQWe+KcdseOptmyW4BITiebGrcgfqFIwBOXuYP7mvSqF/Y6zHsTxKyUlo+4px7M7nghgGYIe0GhB0GFgyRST8ZakyEgLMQyI4cwysegNmRvR7DvqW813u4LssIQAJ5V8w0miSLdylFhYBUAuSA+vRDr/ibo+vTD+31GPYtzR+58eOnv/Bkk5YVuOAWQ2SXRLbJcyXieLN/z1xQwFkgm1saXN4M9j/pbG5pr8ewfymb/wzREzExlS3hNBQXaJYVsh1QIxL5xTEY+Sdlsesxv8xItwtrrlOL1PxTQsrSWVe0UvMnitlZlOiPZCdsbz6T3+YsAFu/4m+Ohr1elDSVNo6fzwr9BWfNfeQc64DT9t3WFTPtOM/5gsvHOjjrAAJsXZaXPviXB2lbv+LneFmksvxpZ+19W1PzO85oMYsLpvsGoySxrIMeSATnLMgRpAZGF06PrsQc9jPp0YVrrg5mV9RfXHp67dQpzNbldhKXS5zYRIBzifHhIgjJOVjrYGtg7sa7L1z2BPY56bkb797rMexrKs899zxNBN+karguUYLb1NgI2dUN5yNn4ayBrQ2cJagMQHHrKz5T5HpV3DYk1YttETFR1G4HxhBL9hwwTW7w4CPnEBNgHaAybMCtXgMAdKt7PYZ9Tc5Uq1JOMkZ34wdMoyhsCXN4z7HOR85zQAtTGRABOsczT73/PRcvfwb7m/RT73/PXo9hX9MN99wOqRUnDEAkTYm2y3zpAjTofzbhfA3wnDVwxsBZB1MC/XlxTdRK6CzfdWLbNUXO1AOpOG0eIrTe2I17LgDRNWLXNRwQ5EDOwJkapqrhLMHWQG+u9+hVmM6+I92b6+31GPY1WVPdoHTG6VKtlmxJcum2QZAQPXGAM9HaDcmu5BysYQPEWgI5oL+w8IGrNql9RLq/sLDXY9jXZKrq1SrPGw4oQtesS5AcoYtqfO9Y/JoatqpgjYU1gLMoB8tH/+ZKzmO/kh4sX29ONIvOPfv5txXDuZixzOJ3mgiewQop8QESO3ZCIoKzBtZaOOtQjwFIPPj4+z+9cTXms99IP/7+T+/1GPYt3ffWL/06KeURlfe4Q6r0pZWi0ztwRxQMEBet3tBZ39Y1bG1gaoIZA/OH8cdXYz77kfT8wb0ewv6ltReP/1DW70MoDSEUIDNs6Q0otryZQGkZZ9Nnhhy7YZxh7ucMYA2wcHDxP1zpuexX0gsHF/d6DPuSDtz1VcunH/vQt80fPAKpNIQUiQgOYNspF2zv19SahLVFfAiuBsjh9MKxW6+JonQA0AvHrkdCJtHG84//w7zfF9yoXAFST+aAwITPU4go6byKKIrZIc3ul6yPv/jsBx6+3MKTlw3pz37g4b0ew76kw7cP/uHwwAEIqRsAxuUZkg5Y2/aGmfEjRD5CF5JRgf4CPnrlZrH/Sfeve2G20O2v+4qvP/fsE7ervM+9W4T03E90/nZPsfCItqZwEYBioB669JG//EgXg8kVWtcynf3i536yNz8PpTMIpQDlez6LDLEWeCb3m04xr1AIgIhdi74UE4QKwDXVKeB6i/wO3XD/l37Z2ac/+zW66Hnr15dRSt0Wv1uomxEzZS8pGs4nhF+LJJ7ixQsn7TWVoKkvnLTb73UNkc4f+/nhgQNQWRE7FvDihBqNAXKJRkjriOYYBiUgBF7x6Vdd0jMzya8xuvVLb/iWanPjjVlv2BgfKgMvzaVxueI3JDMI4QEX0ryEABGgNK653Dh9fZ0api/5z96uTn7yT39j4dAhSK0hQgaMKnidD5EaISntAIixp0xyjM+oEUJACgkhWMpfa6SvxUlPotOP/MX/1Z8fzqmiB6EyXpRa5wn4LoH7UfjPoRs/FoDXLwM3FJCKrrmogJbXjWDccO+t37Z57uz35IM5SJVBKu7bDFUAomARjMR42BWFFP0JHNDrmFIqSCkhhLvx2JfcIrG75jMva9I33HPLXo9hT6l/9J5Dz//Hv/jdhUMrkFkBqTMIqVn3U30PvtT63UURejcZFeAO+dK02rFJraAyBSHNEVONbwfwhSs7y/1L2lTjvR7DntILn/zLPx4sDJH1Bh58CkJngPbgEznvOFH07oQj+mTUsORrOE4Ib2X7tePyDEqXGF1cfSOuJQCOLl5zhldKv50V+WuL+UWovOCkA6WZ88k+i1/IHVTC7ZYEmqaUCkIpKK2RFRrj9fE/APAbl3HylxXp8fq1yQGXbzzy326cv/DtvaUF9vlJDakyCN0D9MCDb5ro3S34kuiHkBBCsGboAah0Dpdb5AMDU228af7g4tcB+MBlTfBlQnrh0NJej+Elp8Hy4W89/dQXfnp+ZQm66EPpjMWv2qnonUad5RumFbQnERCpOBVL5znIWvTmDFbPXHz30bvufAOAJy91ji8X0oMD11ZGajZY/OrnH/nU7w0PzEP3BlA6Z7eLyoB8MEH0Xn7Uo6X7SQU4CQi/VoiU4EXDCbqIyz+snPrCUw8tHjn4AwB+69Jm+vIgXa5fOzpgf+ngfc89/MkPDBaGyAdDKG/1Sp0BWQEoD0DoywQfod0YlcArJfnluqSEcILT/KEhpINEBuSIRolU64ONc+d/U2r1jkN33vcTeIVyQ+H+5tpYI1n05u44/om/fmiwMJgv5uaR9QZQeQ9SF5B5H8gXADmXcD9gdwDsiNuYeGoBqgGqADL8av2fs3C29tnRvlzT8jZb1zDlCPV4DFPVlPd7vzx/+MafB/CKSuAU1Qe/fK/HcNUpW7nz6HMf/eOHi2FxqLcQwNf3HDAH8nlAzwOih0vjfhNat0Ud0KIBoQVcyX+25AL1LX++aMkarparSpiqhPFlm1mRv/vAzXf9CoA/uVLXZy/pFc8BxcJdB5//6O9+Iuvlt/UX5pH1WfSqrAeZ5UA2BPSCF73ZFPDFs03Zvh0AyXM/zwldCbgasPVkEIbCdV+yyWC0sKZGPRqDnIPK9EPD5UO/Uhy6413AyzeLRtDDb9/rMVw90ss3PfeRd/91VmS39RfmGHx5zwOwALIBkC0AcgAghNuAnQNwWt5fF4BgAMI2Ytglojhpz0bOIHblJy5Y4lJOikB01sJWJSz3klnPB/33Lhy99T1y8b73AnhZdRwV9Pj37/UYrg65tTue+9gffTTLs8O9uQGywRC6GESxK/IBoIeAHHrRK7bhfkDHsphBnV6AcAkAvUh2Xid0rAvC+dZsXgekpG0b4PsIhko6otjMyNYV6rKCrQ2ElCd0nv1Bb37uvb2FlT8D4PTKl+WguoeNL86ZcjMTShVS54twLiOymTOmR85KU40Kck5J9k06IVUtlK6z/vzIVqNVW43O5yu3XQRw4ZLvyaQr+orkgPrgDSf+5nc/rXJ9sDc3RNYfQnvOJ7McIusD2bwH3yyXy25pkiECRM4HhwhCSsBI3DMGtgSZGs73D4wVc6aGrUv/WnuxzD2rufUg+f4y1nNKBwg8rbRal1otqyzrK60H5FwGgoLkeXIxFI9RCM5TdNbGIikhhS8ZJQgpLAhrEDiusuyzOi8ezYcLH8pX7vhrAJfcaFzQI99yqcfuT1LLN5z42O98XGf6xmI4QDaYY/DlPXY26x4bHRF8oesVcEUB2HJETwBgTFAI+qEFzBhkK7i6Qj1aQz3aQD0ewVR8fzlli900Sisfuw6LXvv8Qj8H5yzIGkAI7+vk2mYhZKxLCdw1zJsLpqh5brpzAkDWsIVel3B1DVNVzwHiPSu3f8nPAHhmt1dM2I++YbfH7FuSSw8cPvGx3/pkAF8+GLK1q3PIrIDIekA2xzqf6KEB35VMC58EQmIDBB6EXdFMDrBjmPWz2Dx3EqPVdRA5SKWQFTlUlvk4teJCKaliKpfwoT343MLYndD/hhASQme+s1d3qB2O7QuleNTU+Z6i+GfVwMDVzJmr0SbKjdE46+U/AuB/383VEmfedWg3++9bWnngncOTn/itTyst78z7DD5dDCCznHW+Fvh8nPdqcL7WxyQ1i2qwpAr6oYucjzZPY+3FZ7Fx/gKUVsj6Peg8bycsCOGztLV3VGteY1jqCEbICT1rlM/kThMqhEJ7vZL0GgSOmI7T97WxwUBi69zZGs4wxzZ1iWpjE9Vo/MsA/sFOr5yuNl/+yQjHXv/d4vSn3vURpdWdxXDIBod3s0hdQGSFB9+wye/bkcGR0gyLd9vt1P5MjVumPPMUzj37LLJehrmVAxFsgIg5g/ynIbX2CbOZz9rJuGBKFgwqhIUQu4kT1Pk8bZ4T3Emxsxc/RMKxBa9MBWk1nFJwqilhkEr+QLk5XgbwzikXpkVaTOx//PKis4/83p9D4DXFYIh8OB+Njcj59NBzvhR802jSd7vpBz2JCC0QUgW4MTZfeALnnn8Bi4dXoAtuFMr16sIXwwtIyVxPKAUpOV2MwZf7epUeYsGUCPUVIfcwLQXolgUEYG73oCWrw5MFpHcjqRLCjCFrfjhCjQt3+zLfaq39FwB+fLsro4W88mVxR77s6w9BzpcQxRhAdcV/IKGLn/vDX67H5VuL4RD5YB666EPqnOO7us+pVSn4dt1Y6FKoy/2S9eVcCbgKoxefwrnjL2DphsPQRa9dHxy5n4r6HbcHCTUkPqYcuB584XwEXphbCrhJjGYneY7JcfH3NFdQaQEBB2Gbfcg5mHKMcnP8Y4fuuOO3ATwy+Rox6QM33jzr+x1TfvSNQ3P2wf9pdP7UOy488eGjAMZENFJab0qdrUmdnc16wwsyK865ujydDZfOIZ87g/HFU5i74wJE7wKA8wDWAexohaDR8ff/o3pcfn8xGDDny3sMvqxg7qCHPrslQwTfpZZUTqVUX+p+l1bD+TAc1TCrL+D008/gwA2HkQ8XfPNzRLUgiOAwVuaIbOHGkUeRGxpmhr9U10uGMY3hTaOJlrAASxDDrzIHlANQQiYrieYDdpiffvrpXwfwFbN+Rjz3q3M7HNF0OnrP/V+yeuKLfwKI24SSjcUlwD4pEMiFlYDI68ThYoMVaLbA1lWer+uiv6bz/lkAZ3QxOO1MdbYeb5wG0VmZ5Welyp4t188f2zx//n29hXnkg/kYWpM69/pennA+rxdtC75LEb/TXC8J54tJCBtAtYrTTz4KoSQWjtzIERmgsTinZF9HXVAortZTBet+sgCn0fjC+W3Vi1lonDHX1tyCAbWZhBVLkClh6wq23ES1uY6N8+excusdbwPwl9NOqw/f+aoZA96edG/ulo3Tz30sH84vyqTQGmB2HLJ/OZzUnZSL8/JLos6RtXPl2urRMV24C2B3ggD7vwgEZ3xHUWMwXFpCMVyAylnsCp2zyFVpUmkKvu3ocnW99DxB7BIAA1AJ2BHGq2cxWhvh4G03cya20m13BzUrZm6lhKVRAqCoVexEvZi1zyyDZBJ5VSCORzbMBIDOM1w48ewPYRYAL5x4dgc/NJkOfek7i83jH/yo7vUXgw4jhIhr3kI3ExJCtBd9TnxOXWr7oJKLTIR6tAlTVugvzHuxy64WoXJA9zz4iingu9J63xSfX+R8weFsATOCq0bYOHMKvbkesmLAOp53kaSgExAJENtjJhCEc4D0PacBb7lgdyJ2J3PaMrd0jiGKg+ReNfeMmY9ENRq/7Yav/IYcU2wBfeiBv33JQzVnP/lHOi9uEFI3Py6EbyK69UqIOMiucjKZGtywVeicRbl2ETrPUAwXoPtzUFmPkwpkcEcUjVV4VcGX0EzwGcCNgXoEM1rHxsUNLB1ZhtDaH0qpZtc+pUdVUGmIHARk45dzNeu3oqsDTrrG6QPd/X4nc0s3hIbriSOdknVQKMSrLcjRkl394n0AHpp0em1Xvzh7AFNI6vwHnTVvk16HCU/yVmrCPJQs9hz75LWuzfTHWEgNN1pDNRpjeGAZmdf7kA+9K8IDMG0idFXBN8nPl4TW4k2qgHoDzlSoNlZBjmLjIz40Fbk+CkHUZq7k/HQ4UZacg7A1A48qRPAJCZBKruO0sXa2dTG65Zh0jiG30SR/Pnbt8xhD51drLKx1MKP1WzENgGa0Pmn7TCqOfvlKfeax/0NlvdhoJ73Jabwx/b4Ng+5TiWb/dBd4i1AqlOsXUAyHyIbzUHmfwad8ZCO2z+gq4lfT3ZJMId6clEPUgCtBtoI1JcrNDe4FoxRzM5ITQl6YopqEBxjsknGcHQNR++79EqBgzCU1KDvldlO/Sh+uLvhqn8ljQdQk1HKmTmi+TqhHG/PTzq7r0e6Xo8gufv73Y+9kANFXlFq3cW/B/ivnfA1EQjEaMcF1IJJohcxAG6dhTY3+4gqy3hwnFChv5UbwpVz4JfDzxZuWrAPXAl/FCQamhq1KhKhTNLzCUq0BhPF6JOdPsMNqM/FNl4Bwhq8pGYAyQNjkeImZgJs2p/g+dSGlKkXt52Y4odZWPofRr3fnOEXMGgNrHZwF8uH8VF+wzodTwTmR8kNf8ha3+tzfktoncAaAxVWEkLwGx2hHrLa+D5Q+tck+ACA0TLmJ3vwBZIMFoLfkw2pZB3xon+Oq0AzRG25aSL8nC9ga1pQw5QimtiBwYik5m4CLvLWfnJc6IBcCRF6/hvT5gQbCSQYeJRlRItHJI02LeKVjT34wcvIwJw/AmMdoG/D5HEbnH7Sw6pNzxAA8+Krj066mzg/uzg1DGyf/rSwGaLzxydIFYVsEUdp6q8vpVOe78NrlkgpwqxBSIp8/ANFf8cVDe8T1tnxMuV/I82uMBOd84mhVggiox4Cta5Az3rgK3gEHCtcoFcEt6UmAI+Z+5PdzlsVweu2jiyZRR7weuZUppkATaNQINNtj7qJjw8dzvzSB1pkKzvj6FZ8g6wyQ9bAJfeShaVdVQx/Z2fUHAHv+TULnD3DngKDsSsTWtdEa6wIigBTN5xZ1wJkeKwC4GnqwCORLgJxHdLq+JFxvllsiGB1BPAWr0MSaDzI1yLLfkhzBlICtKzhroaQCEaMiuq7SJuZxaumDK5PvGTAClX+gCZBB/IZrHF69YZM2R2/1LexyQMPfR7UCvobFxDqWVkaMqWDKEvV4hLqsUFcOo1Xg2F0L7zn/2O9PjWzp84/9/rTvttCBu1//T5H58FZ8upLJRo7XDXonr1ss5e2AQ2zd9gaA6He46k6Ov1SaBrzwJijlibslgo9rPcgaOMfFRM5w+pOpgHJzjHww5hCb16PJ2S32PxF1jDIBLmhXIEGexxE/h2aT/aBkPXPwEoa6D7vdOrXgnYgpWt6l4oz/3sZV3pvFtQ3rtoZFrqnGHoAV6sqiGvHhB+558z+fdZX1gXvePOv7htTyMdQv/F2oIRprs7tyZPL+Sjb0kcPO711NmqK4bwFfoh/FTOfal1vWnDtHnJVMll0SADORzYsVenMjzuvzz1PITu42BmwzQsFeQ+cYuERNjgsRBI04RUsGiSTaJ0rFMftzku9N82POxmPIc0k2fvwK70HfqyvYqkRdlr42pUZdWZTrwOZF4Kb7hr9+5tG/nNn1X595dGqUpEUHH/g73w7lq8dawJvm/wOuHFiyGb/xEhBteeM/pnqfF7sBfM7G+o6wFJdnIlg/B/Tm1iCkQtbrefO2c/7UEBbJJp8BLYggiDjpihynaZGDcLbTeT+I7C3Qbn9K6kMCp+PtoVTUA9CDz/h6ZVvxQtumtqgrh3rE4CuGOH3wNd+8bWKqPviab95uHya39h3MiTrKLc9yZ+e4JBJX4fTpxRdTtnc/pjpS4HreWo06X9WAz1nPLfyqmOCFCIUANi4o5AML4AKGS4tQWbZ1iCnzao3RcrzVWkgpQc5yuj4RhGTwicDBdnAd4rolYRnZJJIRVnR3lp8cZ9nFEgvlawNbO5jawlRAXQKjVQCEzXv/zlvfjPqFbYuVNOoXth9nfvNNENnrr2wBT5dmAOGK0iQP/xSKVuOEYyL3S/xiobSSXCwKYjC2XSqmFjh/QnG0oD6P3lwBpTOfgNoYcSI48KWIiaphXEJKkJMQ1oKU8UVHqlnZfUs0xH+Oz1ESgUnWsItloKEE1D9IzpgIOlMZOOtgagdTAsY/e+UmoDJ8/t6vu/sbq/PPfW4nd0NX55/bdqf88OG3c7RhkrV6JWgPxes0mojL1CdmOuCr402llAtaA0JjTIT6oXPnNKwRMKVBb36MYlBCZZKr3ZTkCjav3jTRJCDkDkqlYn9pIuf1Ql+kJCfdJ2/iBKDFVzQilxBLQkMBfIhqWGM8p3Ooy+iDRjUC6rGEcwILh+yv3v2m+34IuyiO13Jn6zR87dU1AK4mx7tS1DU4mgWog5VIznLxeCLGEHx3YOCpDMhyh0xLnHhRYX1dYuVwjf4CIcstdM9CZ4BUIgFhw/24tJK/k1JCahXByAAUkyvgknlEjgxE/Y4r3uB1VTaanHVw1nE8twxgA8oNCVMLbG4oWIu1IzdV77/ty5d/CcD7Ns6e3NVV1Ts5YHHlS79yX3KpXdOlAL0T+Wi5XYLxYRqlPYDPhVXREb/TWQAgoSgI+Vjg9AWBMxdzHFwkLB806M876AJQmiAVhWpLDvUS4mcpQzIvg1EpCU4G3nqfQtF5I2abOTlHPnOFk4WddXDOczj/ZyqgGgnUpcRoQ+L8qsT6GFgdEVbmxBde/40HfhhET13CxYWelpMXaPGed9wIsndeysn3F10ul03DUmk6UuCCXvxGBZ5aehZHKgWE4kaUvYHFXC0wKgVqC5w8J3DqQoZ+DhxecSj6DlnhoDRB+Zof31qQz6f8QoeSOBdB2Oj6CxKYnK/URKNPEqXcjw2j4PJzlsHmOIKIupSoxhKbmxIX1wU2S2BcEywRlAQODAWW5ujLPva+jc8Igffe8Zrqf8Q2NSBd0meOn5+5w+I9eGBPXSB7QRPDVd7a7bbX8GIXvmC76XbQuD1Cfa+UAkoTdAbkfYeBsThIChfWBEpWIVEZ4MQpiX4hkSlA6wbAgF+4UxCUCp/Jc8TALSmCLmzj4wlC8rmc5ZMxpxNwTqCuJOpaoK6BUSkwqgDrE24IDOpMAUcOAIuLFv15i968X0YPyOsxvu3iSfFtUtFPYQfVcIH02vZrM96/05O9YmiL9RsMD9qq+wHwvC8eEzggJecLYlCFgrIMKAYO1ghgTWFpDlhasugPLPIBIeuB/woBqQSLR0cw3tXonO9xGfJAvdh0TsAZtprryieyOsBYEYFnLWAMv0+9MFICWQYMBg554ZD3HLIeoRhy92KdSahMQWcZhOxBhqcAxNZxbVCP6x8breEtR+488A4AZ7a71Pq2rzgwew+yd7wyOODESPxk2uL/60Q/IpcLgGzep2UHTZhaxFC5VMw1yAHOEspS4vCKw+JKjf4i0F8QyHINqSRUlkFl3AWhuQWNZRy6JUip4tKyLQs41uakumjiYumMtxluYtBI5ceu2m4ePxbOA+REVFOOYcoRiuHmG1ZPXfiPR+9+1d3YpixXD5a2a1Iu7thmh5cBXY7+lwIQaCceuIQFJXl9CYno05OQUnoR7OAMW5P9vsPiYYPBEtAbaqiM1wwJzYekanfuYlVOxObmQmle6kvn8bMIyuK2/WDCew/Y4IMMWTWT1nEj8PxjRoxvL2wNpM6gMm6EpLPNW88+8/T7APwns66uPvvM07O+x7Ejr79p7yzgaRGLSz3HJR4fW1Mk7dT8dkr+pSEswFvEnlNJJfnPEXRGGF0k1JXEwkGD+YNA3sugcw2d59BFaJ6uIZAULFGwiDkgEDolMFD94op6AM6TDBlD6XVIQ31JtCRNodtyTOf4oPtKjjmLegTODSDAWW6glGUg6gFC/G1b1T+EGQ2LtNLTVys8/NrvyEHmyGTxNQsQtM3329Ek0HSe1ks6x27HkHQ0iD5A/531jYaoEWnxyE6Nb4hMCA9AayzKTWCwYDB/COgNc2RFAd0rfCevLC6ayGIuMWiCX1AqFpWK+8Ug6wOq52uhw+ruQDszugvC7vxEsl/ymtTyND4hAwgHqIwfEedXfxLsHE/O9G8Xjx77FUxxTuuFo8em3QEAuAFwh2JKT+veb3eDJ32/E/Ds5LyTzrNbgO6EOlwv6nwhOZO3hccz1ae4go1DZkIpSCtBSnGBvmNLdO4goTfMUQwHUHkOlXkxKhKHshAQ1HafiCBeY1es8DmUMQSOlv655L2fWxTRjQG1dX80+0Ugpil4/FtCJEAXwbVjUZe1NuX4ewH8n5OusDblzO5YB9pPw+Xe3O45UtDshmNNAluEAS5rnPFGdI0P2/yuD1sF0UhbOAuXUobkKhbBmi1ZYVGX7IoZLAj05gbIev3Y/y8dO4fHtmYbcZ6gdyqTrxNucTPqvN8ywWYeW/abcGwrk6YjGVIHvPczUriGgq330erqd2EaAEerq5O2AwDmgJX2QBLR0hEzO6dZ4nW3NI3rXcL5KH1DaACXnqsJu/GuLhYWxb/IYLz+B+4MESrhUAvYmnNHWe8ruLVZDImG+KzzTEhsmY7woCQ4CK+Hitj2twZE4MQCWwyRiUDtgjKZb/vioHFHBang598y1JijBrVkvD66b+I1B6DH6zP7AB1sBpDmB9HW93vqqrkMfY+mfkBqbETxG/bb0uBxylC8KI2ppsS+PJU1CQUixtna15jgpmgyEnCsB3IHAu8ElFViMXsRS8BW3S7MocvZwqsXwRGsws83bPcOdw/GGPVJwpAuxMQBWEP55IsFaGtm3Dw3Wubin/Qp2SYj5kpI6peKJk49FTGu8x7NjYgPfXKS9NJM4FwAuFuA9YZq0kcl+uwSnXJKPgsocCH/gyQtQBLCloBQPhYnwdZpOrh00n4CW0CYSrtkn7RQKeV8zoMQSVP1kJjhD7H11JI8aDsrZVAUB7it7DTTPJkYvZyQ16X0poQ4byNmm6e+4YCN/gc0SZ1oXR5OoxKgAMYQ9O8wIn5NUqSQaMVp3h6fNXlv+fzWskEiJNejAIhteGNeYGpwTMqO7nL4MKeE01PCFZO1TNgRzdfH+RIEciEitGXQLdomF4uWJrOJFGzT3u9DmsrxwmsicuO25GZEbjBFNCbnFL6Ol0VwwyzjmSwix6CEwxAS5uma3w8FSixRWbmX4b0QnA4mJIQpAUUc74sieMaFSOcWBiYUO5pTtaNVP5LUigRHtLOeu9voluJ0Lp7JtCs1G4BCLPjHMGyYMAmx9T2JrbvvS5oAvvQvrRKbyDm6go38hsR3J8Lq6A17lDKkOXHNsBCSswy8myOCLQEHq1ku/qqQMgGeiPogewp9YbxIRbzniOTB6VKrPrw6bBHJcZeu/phWyFkPQuNrYCys54LOAlJjasaBlrMhuAByWy2pFnU5YKB9hj7a8ib5nNyACMQUfOnubSAGoUlRBQnOZ9G5aQ3JDBivAXVlUZdjDquBEnHZZUxhm5dngmtBgnQj4XMPI6sFhEvmICR4iQg/R2ex5WHqjLUZu3c5TQBmAGCsEQ79YHwNdBDBvb7+64kXAoAu+jMROETqYGyBrcsNRec1OexyLORJ+L4kf/Yk4AENwLoc0O9DyecOh0j9fyweKWY/t8ffDFgIAZ0xBkarBJ2NoZQGssz7ATsHU/idZFiCweoASCHgBHyfZp94auH7B0r/m10Ah8+NZd761alcMFUVQgQodEYwcZlZLlayMLWDrYH+wvBXMYV0f2E47TvAjeaYdadcsAs2dLZPoOiTmv5Tk4/rvHa3T1M9Z4KvAzAAbZeDF8cp8IJrPwWC8P44cK1ueqNavyfgQdmkyquMxfBoFSgGBlJtohj0oLLMu2ya30kTW9O2xhASkgi+YyCcMAxG463r2CWf96UO195K1HqbgjOOxyVOZyK2dsnGGmFTVdyGxHBKf7kOFEN86uKLF/9q4k8C0BdfvDjtOxy4Vw1i+GUiCCdNYoZBMgOjW/bbCXVxte2Jgq6Xfg4itQu+ZB8yyblScc3E4jZ8gFf+J+jdAj67hXP9Ns5LbJx3EJIt17xPMQ2K6zTShwAN8H0aFkh6N3ejy3F9sOSmRQBCHXFsfjRJGiUGUOT6IZ8xrW2JX/tULp+GxRVzJXO+WLzEp5lbHnz31h9sSM8tD6Z/S3UGkaFxSYQJTAqdTZKTE94Tpnw/i3aKyO2O7Xr2A/i67ofw0KX+tmScUjJX64owAYBEG3xR7LHjWWkFpWImMdbOKUhtYaoKpjbIigyx1zYasZkSh/YsrBBQWoOUAykL0g7SeZeMTOpDOoyj26kxLc/kl2Dlt0sLwjKyYR8Wux6ANbcfMZXvCVgBKsN/ff6FzdmdEc6/sDn1y4MPgJqb4CeQ+vuSxMTpcrAL1ile+ak0SQlMaVocedr5U7dCwvViAD7cDM/1tgBARFHE3C4FpzdApGgw2G5r4HP9JJR26M07XDilcfGUwnDRwpQOWb+EzsVMtVn6pFOpJZQ2kFpBKQUhy1hfnCY0MN9IPBMx6iLi9laBugdeXLfY67YExLKD0IKXXS1sCZvawtYO5SZQb+JfAPj56bNg0uWsBqlk04Up0E7ZScXyJIDFk3S275abdcTQzHNPOk50PiMBX8qpwoOW5PsBaKzh8FMhQyXcK/LXgD3/TXdYf5Njmlao7xVQWkEXXP3WGzhcPK9RjiQWlmtkJaAyahUgpT8NwNd3AEJa6KyO+YZK+zJNGTKjw3HBQAFCfmLnzHG+IQ7dPHfdUBsiOBmEBGv54alLoNoEhMJ/LzP86wk3ZQtpOaErREMhD6uxqHigAXSJuIlAnCCy4nGXQlN9mFPOHR6Uzndbct/QqBZbODySYxC5QtxHqqbPRuj+Smnpox+Jz50jcrFuVyoFlWfIagvbc+jNOVRjhwsXFC6sFliYc+j1HXRGTaGRCvpbw1B9TipH3hRBKgulLYSsmyq6KKgazhwXxUHDSZt7loAwuS7sUkELgCEfwxoGnWE19v+76f7FnwTw8Ym3aQLpY3ctzvjabTThnHBTE+sKAhGM3VCcSEDaop3oe10jYJo4nSZ+J+3bEcPdCAAo4YLdcwZ9z3O1yHiFt4TBQAtfBNFMbFTwzzmvmynoTMNoCV04FHNAf2xhjMC5CxLHX5SwTkIKDukq76POFb8qn+qXaYJSBN9sH0JwhZzSFDmkVOSb1/rqOF8xF8AcSzYneX86joAY+nWAMwJ1KVCWEnlOp/Ke+/ih28UvAvij9XNrM+7HVtKzDjgAutBcfP+0iBSIHTEWAdfljJ3ZRZqhD7YAkv6lx02i9tPcptSP1/k+rfVI929ROi/RjDHqecyiuJu9Q2g+2ehbPi3LrwNsjYPNufLMWgbX8jyDy/cfgpS8vTaAdQLGAGUNGCdgrYB1gPUOX+NE61mVnmM2rwLeCGdg+qFHrirabsygPQRNI4QSHXFB+6gG3vi66mcA/PTZZy9Nwumzz04XcTe/AavxpsSGh+FepEAMX3SNkXDDJnHCLnVB2OVE/hGcpp1vAQO1QRLOAaCdSpVywAngo844AgcMmcoBcDH05VvtChGNERGsY9/dXmoNlVlkhUY5qrBxQUEr4KZbKvTmCVnRNL5XGaBUM+fQd9n6QnLfqjkWldelRF1KWMtgtVagrERTO5VcrgBOKfxvSQa+1lx3rH13Bp1xIZVUHMWJmocFRmvynx69i54G8O7JN2Y26ZVbZplb86dgL6ARu4nBQYBv1T7pQLSNllmisisKU8MgPbdt7xZ/p3u65MEgIKoQ0b2S7tsFfcd9kqoeoQ6i2/oshM/CHRECTSw8dLZiHZAsrx4EqWLUY/00d8tavqFGfwHIeyL2hVGKjYqouwGNmIdgHU7wsg9SchpWe72WxngIS575QxOe0Di2eZpeX4wrsCfHxFMymp21sHW1PF7f/F0AXw/gL7bekNmkdTa9KAkiP9ncwOAvCxP0oKR0dKJ90y6FIlC6DmHXcJlofXc5bkqJgREAQYQtVm383VSv9VyPut+L5vcBRGs43qZgFYRDLG9CSDCQENLF8ZSjGmvnNRZWDIZLQDGQyIocOs8gMy63jHMAOj5B37xIKt+kKLRn838d4KRFUyFBIrxvNjfv00SI5joE90zIeDFQWQ5d9FCPR+9VWX4IwHS/3gTSg6VZRoh4OqbnhMHw6Jr3LZE4Lf0ncKpJhgza38Vzu0RUelBwnAlbdLHd0qQoBX+B1gTSubd0v85hgcNKCeFY9xNeToUMlfBwCiHhwAsurp1m8TZcBoqhQm/YR9brcW2t98E0LpCtY461wVL5Y/zi1rG+tzu9rfds0jJhzdXo6sk8FucMp1uZCkANCIGsh0E9Hv8SgJmRjy5pW89sYvlkoxs5cIPKZnjpS/NhkqGQ1qCKGTpYyrUCCJML72rP8LyPQfiIxBZfZIdm6Y7tHRHBLpSfjmmPM97EIAEayzfqhN4iFpD8TDrXiDOffm+rGuMNgeGSRW9OojfXRz4YQmkusxTS+xN9KIySFHcRRGfaFUFlkDqDEF68Rw43JSyYSo/UUEyMNJFuCxEQ57gzq+9qRM5xJg9pSCW/Sxe9n8aUZbkmkc4HM0JxwJMgN4YAryff6rCu+HPsmpoAKI58gu4X8ZZao6mxkvgA0gIgIbj9LSj61xqRn/xOS0Sj4U7OtS/0JEoMjJZLJhFBk3RAQQDF3/Xcj0JB+WTgW2OhFGFuBQy+/gDKdzYIC/+wmFRJEVQAYDByZOSCUioPPu2zHbL29eiCsBXFCvchvO2GJimeQwD80EsFIZ3PQ2RVQyqNamPjfwDwztkXuiFdbUxfquvcI//v2vJdX/5pkH39Vg5im9cu82npTrPM88BVQlephKOEhEnfwyREFSguQ0BRv2pR8CsEgyBun3QjRCI+vXNZes63xTjyJBNARG7pzxGZSnhAkgQA4TOkwWLVGoesD/SGGfJez+twvjjJWaDTOLQbMhNIOKr/DRH9K8kyDfFBTR++baRBqnYIzwiEjPdJBEvfj0tEA0YCAm/vLy4vAFid/SNMur+0vN0+nwbc66Min4rYMKgt3vTAEROu0ypsCRQ4XUf/c1xqGHWf4IQCWO+Q3uoLNzrluJGDdcWunazvRMB6UdvlcGl/lEnNv4PDGYJT4sl5d6AAoEBkkN7w0MLXOYIuAF2E5kON9Ro60osZSQkUINCK4QbDIwVf0LengG6i+E2+Cy44ShhNCD0KNNc4qpcyqzbX3wDgTyf/YJt0tTl7tcx+tvgg6vPM0tNwVhzUBP0iXiyXcLcJEwzbQp5ZYPkxAO57r8S+ewK2LgEhQTpLLD40QEouBqjNIVu3MAKPmvvW4oghCjnFak79jZ3tIkjtaDknN5+4NYcz7HNrrTJPidAmh25zc4rXyT/i5CCg4vUiInC9etdzgUQ9Ct6D5Pq3LPvk/aQiJf+7UTVJrOVQ42Kr6l7sFIC2mtk9C1BLH8D4FJoCFz8YES5D4iBOb4ZLDIpm5PG1neWbbI9FOmBxG7ZZtoDJWZhqE1lvEDtDkZSNOPL6aFzkOf39DhAiQMPPB32SePyx3USLk4rk5or2AxNn7AHs9VgBsEUcfHLObhUGRP73ES3fqPjH9+n183qmsyCpIIIkIf/QO3DtBxEaQwptqQQkUix8nzCMqAOnRegO6Iw95gb6a2qtuRE7JG2tmbnD6Yfe/cShV736KRDdESbfgI1YdAX9KQ46jmwm2PhTG3zx1TVrVYS6g4D9anMTRISs6ANaQ5D21mcIO3DXAACNvytQqjcKbygk3CzGdpNztDhp8IFG5bzRybpuCyFEAmqfrBBajnoMhxWU2E8IxEwUF1Qbf5X8zSVy3p+YXEOyICdBUgPOeBcQNXG1ru4b/bho5t7q/4LW3BDqSKKEShuxu+gi4ubmBs66Gc7lNmlnduA0Fur9sPUd8BME0FbG45piUwC3BWxALHYJ21K9LxgeFBZJcb7yysYLNV5dBeYdVF7EFchDdRiAKJape+Ep5WaIOmSMNATRnIJRiFTzbXOMLeE+NHMUQJOPl3I4xwzSIebTqegz9NfKoXnfUV34AWVgO+GPJa7RFU6Al5Agfo3ZOq4BWyqC47okifqRPiFR3HYZRHBG+0WqnQVZx9a9Vjt2RmuptnFNAEDv0O9jdPL7G98x+fZk8Yp48DQXbQsQaauel35u+7xsvBlk/YpDfvkAAJBaYf08J1EUQz4++M6CaCQgXvBQS8Ef0LEIiUUZPLf01iwDuplf0A9j9VvyXZxjSl47Yf8gPIduwCqV4MzhktPZpWLLXnTqNyZdy1gf7FzkqkJ6MSh8pMURP4yWE2vZsGFuH8chBDeCnuQjTXW79H7FVaBMXAmK/xwvUm0s8kFvx2s1aJXPTAgEAJz77Af/6MDNd50TSi7HwbUA5K9MC4iNrrAFdP4pS3Ubxp/1el94z2DkgmfD/Uasjenma+dGUeeT2jbhqBh1aLiaCNYy+aY+qfvCv7b6+gWm4HVLEpTcFPgGQR0gh2uzQ7IGqMcO9bjiBAWtWXQGbhweQmo/3OSzndnJLeJ1En7RGriG87akUjh1FLfJWLsgTL+Lx1MEYKwH8dnQ1tRxbZHe3PzDO70Gujc3v6MdhdJ/QM5+X9R10guSulHSyZKbANAwuXambepuCRwP1LD2wAHJOcBa5D2NCycrSLUJkOMQlst8i9oGcCE1Pd60wA3DjSY0ojnhDm0wNlwxgiP4x5CI747qEW9hJ3wXTq0yYLQGZEUFIQXyPjf+bhlQBF69KL0XgqLqQCRAzoAEGyQ8N/D8bHC/BLEabkMiZgM3T3bxJnYcLMV0PN96w1m4uoY1FVfEGV6w0BoLIcS4v3xs5wmp/eWZDSob6t/8a7T2he+DXya0LRY6QAIQ/H7k33e5XdwWLrUv8onNs/1r4HrOeBPfl/wJAfTmgHPPCQBj9IxFVhRNU++wclBcvop86pTvKmAT90jgeJQAFEjCYb5TQcoVmzsFQuKLbHH/RL1A4GhAWO1IasJoVWAjIxBKOOuQ9XJ+gIJ7hpIH3H/mBWkcBCkILeCMhRAKzlrIMCYKRUkNuuIzld5X0Z5LfE25HjX3xoVVQC2vHWcqXiM4cL9iUPzfp598dGbTyZT06Scf3eGuj/7VwTvueZacvaXl0J2wNFXrczoBAC0rCkgm549NrV+bANAv+hcA6Cwh7wOmFDj/HGHxWI28b5H3cl5GQPkQleIsZEG+eY+UIOczUzwHCNnKINdkagJRZ4qcIuWKQGLApAZVuJFIMjqDE578rebjpd919UX+bTvkyjidaV4JKfoIETm18OeVUjYL02hA+BZUrLcqAK7RO9GAH4BvlkTxfC2loaMmNWLXMwRr/XKtXAdsygrW8D2zhrBy+90/tkNAAQD0yu1373hnOVj+BbN26n8OaUKpsziw6sZ4SC0613qK4rERnGmwPfjKvMiN713S+sHFFRqLocOp53MAFYbLDm6+5DXXCg2lHcgpv+QVt8oVRJyVDJdwPA+i9EYJAQgXzOk26KLYJrS4qJ9ZuJHdhuWt+lqPaZUT1lcV3EmBuWWLfOCg8wo6Q8wDFErEn2COzpnV0logC76+xkhgzq+Sh2cbvTSqU6KxdJHcF5cuXOgLz2vjxS7v6wygc/F9Jx57ZNu1QVLSJx7b+cpKN7/p7/082RM/SUAvujhabpPgZG0DkhLgxe1R33NtAHqR47xIdpa/sza8J1jj1y/bbEK+zz1b4KipYGpCf75Gbh104XwZpONO8iBAKjj4Wo0ETGz8poAM6e3e+oW3pgU178P+UcdLhVvK4RPuHsSwELxmiAZ6fYe1CxpVKTG/VKMYAkLxenEi1HWEP1goLcBrAwuo2sTFY5w1jQ4ZVI/EuOJnJjQ+ap6ZkK3TAC5EoBrdO5ZgGi6/DBzPVHFNuf8OoF/bDfgAQK+d2ebpSOjx9/z65r1vfd2/NuO1n2CLK4TJXDPwzvsAMvKKdOieyZYuc0nnORzvyyALYAz7OkfRnWVK/qvHwHhDQWvC+kjg9Is5BCrAEWxt0SMCioY7ANrbHsJnx/DWmHsXLUUBJD7A6PogNBZkS39M9KgtIbpErUiMCQF2pUoF6Nwhyx1GI4mLqwWGA4elgzUyn4OUrhXHwR5OlVcaXAlXSuis9muLeCPMV7ylS71OpGAwJaKX4jUPpZesDtm4oKFfOZPvwwlTix8A8Mc7BlJCerQ2a3RbSSzc/8/t2gf/kVR6pRmw3QpAm7hRwg2wYUK2AzbHTtkATKKmhsFHhkL9Q6iBqEtep7auJMpSoMiA82tApjMAtV8F0oGohs6Th0wD0grWBYPfzdoET+wLpAgktKxkkG3AGGjSgi6Jz695UNvWtdKCC5JqIC8IVQWYEXD8RYmTZwoszgFzQ4f+0KIYcE0GeOiQCjAekCpzMNpBZRZS1hF0AYgi1SHTcF+coH9H/J+zwaDk75xlqeOMB90YMDWeUhq/vHgU/ytA01OqtiG9cvPOOSAAfPEDv17f9oa3vH39ucc/ovICQghvmgfDIXEcJ0B00ZXiPKBccnPYQgscjkNUje5uK7/Nr5FmKom64rXPnONqsdJ/9+I5ASDDos/aJSL0hnXkxMHrGY2SEL4Lrg/hmhuWso6E0xGaG8nctOFs0dDqUuAs/rRSSQhheW2ZAij6FhvrEqNaINdsoFxYB86vSUgh0S+AYZ/Q6xG05rphlZGvCYZfg65Z4jVw1zDEMKwYLu+ohmmI15novwbQLNtKhLP9Rfz5oVuHv7d0wy3vbp/h0kjUf/UVl3ik/MmNsyd/QmV8S2PIzDQAtCYAkeBMsG6DGAZCIgzZNvgip6sDGEXzZ/k1cEUCV39tjgQ2SqA0BCUEjq3w+rvFgGtviyGQFcqvRpS1VhwP7hqeV3O3UlcIcw8gumhaojdsp842T0Gn4iIemLJCXZYwlYUxFvUY2DgLPPt0gTxjkAlBIBIwhh8y5xCr28ZVc+eju84PvdCAVswli5yQZRxjVop3ZO7ZLPUanTROwNT8e+OxwOaYl5EFgF6GX7vr1eUv3nTfymMAZqdP7ZL05vlTl3rsP5NKva4ej75Bad1WVG3jMmHRHHQ4agEs9Em0fu3nZruAteAC6Io9+tYI1LVoOl3Ax9qJ94Xg+tlcCVSG8MJZASU1FmEQus3z+AjOWOgi58iDothNqgVEJBYxgEY9DJySN4stIIQXv20LOOi8ATBSKUhNEN5bMN6QmBs6LBwwkLLNWFTGpyaL9oNY8zUpS4FxKbAxBjZK9j9bR3DE0oGv1dYHI3TviDkLiZdJ+h6CWgKrwLFTH84/hg/vruh8JyT+3TcuXtYJ3vn3ex+ydf1GroH1pXrGRc5nTVPHSq5h71HU1gw4Iq5pJUJzgS1QVQImFGBbvrjGF3Fb1+YARHwxifi7XobqyIrL5xYsekOHrMfijpdBlchyzY5rrX0/Fe++ALUsYqADtElcLn41IZYLeBWg6SDKbcwMTGUxWnM484zCYMGimOMxCtH0EfSHA9gSgm/yRBMVhq8pf2cMA9X4P+fYqArADCQlRS0jcMswVSJASvp/APwX2wJil6Tvv3NKwuUOafnV3/y1Jz/x239Vl/UblWYAOeNgLTUrcJtGf4titRYwdQO4qhJe5ACV53SV4Y4A4QlNn9Q0CSVTwKElenbpgHki67nP9Bfx+NLh7MmFI4cf3zh39sbPfBh/Rk4cIGdhq9Cf2cEUlfcZWm6bpjMum/TKehMvbqt1k8oAhHdLEXzGjhe7YaGa1CXVHMbnMSWgM8JgyS/XWmjoLIPUzcpJjZuqbcg0zwIL06hTOxe9Cc421mwQ3sHzEq4nv2mMfOfaSU7jNXz3wZuzfwVgp5GLHZF44dcXrsyJpPyNCy+W35P1eMCm8k+gr9pnzie4at/rNbUXIcYwh6sNg875pzlwM0fse9NSINNYW5rDk8OBe2T5WP348o3qMwuHlj+bDxY+jylKsalGtz74vlPvkxKv7g0sdEHQOXOYrAfkPUDnCirzy6TGFPm2rtcC3hYMtjc0YIlbGleT9Z4B51CXBudPsGg+cEygN9+DznKoPONWa62cwMRSiOv5Sl+ULiF844A0th48Dk00Iw0N2tZ4oyGZOP+51S4vL2Zr/HsA37NLaMwk8bmf7V+xk63cOPdDz392/WedQZGEFGEqCWd5Be+qYsBVtUBVIy5V7xLxCfCrVrh4+AA9tnyofnThED2U9fDI3IH+4wDO7XZsi8dukp/4/af/vTHiO7PcIcsJmW+RpgsgK4C8LyClhM69gaJ8VwIpJ7rSujUbTfIrJfpe4uZIuZJ/byoGoC6ApaMZesO+X3c3ax6EeJZUNPpFEEM5pvSF7DHrJ/VDBkd4mvmcRGYocM6m4NzWFadX1RXqMcd7R+uuXDzUP4graIiIU7+5bVHSrujgnfff9vwjn/ypE5/Dd9Yl3xBOYGFluaoFxpXndK4Rq1oB83081ivo44sHzEPH7nKfOnDD4YcBXLyS43viI6f/ybnT2c8VBSeFFn2HrNfoh0oxV1Tar++rROy316r+AhKbYys8402Pjt6OGPUTr0uDi6cIvXlgYaVA1it8apZfA1huPXdYFlWosFB1AKFith5dRL5uB/AKo+vUuHjjKLx6d4Szxjcer2CrErauUY/HGK1toi7dNwF472XfiDCXp37hynHAlG564J43fvGTn/3HJz+v37m2ppSxwKa30KQADh2gZxcWzUPzh9yn55bFg3k//zSAL16VwXTo/InyjV94rPglrejePCMUPYesYI6Y9Ti4r3MGIofBRJMcILivXgSjQCOik8B/yvy6Tl8KDngAprJYPQX0F4G5pQxZv4BUnBvIUY12wjDnAYpYkB5WSpc69wD0C1VLGfwrydGpiOlmLVEsgSVnGXx1yQD0yQfj9U3Y2v4ogH91pe6F1vnuIiE7pZOf+9yHe0Px4de8bf7WM8fPv239LL4662F8+Pbhx/oLCw/1FlY+A2zpz/GS0MHb8OGlo0/c/8TH3T+7cEH96OZY5oO+Q55LZGMOi6mcQ30qhw97EaRyvma8iTA0nUgbg6DrjJ7klw6hLhtUEAtY46B8jYgI+qfs+hYF4EIJqBebPkWOyEGE2ubUhZTqQ0DjgogeBGpAmMaDk1hwEFVCiMOXd/XbJI7/8oxlGq4BIsJtX/ik+pdr6/I78owdt1oDmY/P6pwNFiGZM3p933cm9T6zJOIQ0+U9Jb7r5Efjb6PcJKyfAYo5YH5FIO+zk5zzGhsneSvLW/iOWCqLq6sLyesNtxoTtX6S2ibahBKJ4CyPOqDngJx6xUmnztLPAfjhK3Lxse1aca98EgJffNVr7XdWo/oXnnk0+5H1TfnNmSboSiHLJKQkZDlzwNAjT6gmHgvpkwVicgy1chJinyDZRPOCC8lUvs+fE7A1wdQElXE6lTPs4BOKIBw1Oqi3fMk5kPShTunXcnHwQAo6IBLQpRw5cMPmSQhFTRR0QFP5RWdqDz4DaxyEEBeu5PW/5gEYKO/LD931lfZD5ah+4KlP5z84Gou/PxqLYZ4RdAlkOXEbNBlirxwu45SpJpwcASeabQGwIUYL0TiLubmkgKnIb+NIDTTvx0mmzseuuReLDKlTwWVig2HBiait7JwmaNeO7ADJ58YKDqtd8sIzJcy4RF2aGEYVwONX8rqL4790bYvgafTMo/LImbPq+53F90DgHq2APMZVOXIQXgMoY/d6AUAwHwoADSlVQVxbww5oBh8DZuGwQ28eyAsFlTVuIG48JHwSg/KZ3ixuZeimFfIAk4yXQCEZOHVWBwBHnS+4jnzSaV2VHLMec8YzIGAtQWlxI4ATV+o6i2f+3czuWNcJwKMfzt9RVvj2cY1vVBIL0ocBM8UJyVpRS7zKEM4Svsezz1BRisEagv9VKXxqIr8urtToLwG9IbxDXETRK6Tw5QXSu2iUjydnEYyNe0hGsRoiNDHvL8lgB4Jvskmns8YkOp/xicDszalLfAzAV1/Ja6tHqxODB9cpoTsfKN8L4L3r58SBMyezbzy3Kr7ZOrxtXGER4ObfaXIMe2Z4m5IMSOagHoxpepTgXszOCWyuKeiCcxM5PBjcPy72kOEcgRpdB7dQvplRYjQHa7wV+Qgcj0KYzqfSuSaZxPoYtTUEE0OngDP4N1f62orHfurq+AFf6VSOsDReV28+fVp/w8UNfE1tcX8IzTpq/MeRM8IbLgIYFIEzctZJ2A4BHDhYc6PyXltsMxilXx1JeSe5jpww+Cij3zBNhm2VToTYsGtnPofQm+HXagRU46YBujV4DMCrr/R1FA/++HUAXgmaW8atLz6t7zl1Rt17cYR7QLhdCtwiBG4UAvPWVwBob7AoyeLbOZ9G5jNlewXhwMEa+cB3y09AKIMrSIoEhNJXyHkOmZjgTZOnVNyGDHTydTdNZrq1xOUOFa9nPN5QqEoJpejUsbvM6wAcv9LXTXzhf7sOwKtJzmG5HuPw/Io8WJfuyLnnxKI14rCpxXJdycWqEgtEGFSVWNGaer0e9ecWjM16NC81bovWtWpAqLKQqsUVc2GpLiD4HZsEhgDAkIXegJGa7CRq6myqEasCo5GElMDKkeoPjtyp/0sAL16N6yNO/NrOOiNcp5eWTG1FNaL/fP0s/ompxNcISdAZR2Y4/d5H3UTj4kn10G70JeRgAmilydUlp8ZVvr6mrgWyzOHYq8yfzq/k/wbAf7ia8xQv/Mbi1Tz/dboCZI19zdpZ+5bRRbzVWfEVQuCm4PCWmrmeCzX1SX1USIpJSx9CSYMLr/64rHBYvsF9eulo/8+Wb7v7dwA8+FLMTZiPXFGr+jpdZdo8c0KP19dfM94Y3zNao1fXY7wqK3CTczhcj3HQ1pgnC2lqGWtnQpazkERZQSPdw8XeHE4Ml7Ljeb/32bmDRx/Pj3zVJwB89qWej6DHf+Cl/s3rdJ0i/f+E73SXBIyGzAAAAABJRU5ErkJggg=="})]})]}))},u=n.p+"images/6b1501eed1d7263298be.gif",d=n.p+"images/2c09054a0b5b8aafab59.mp4";var f=n(73935),m=n(94184),h=n.n(m),p=n(38640);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=e.highlight,n=e.popupOffset,r=e.popupPosition,i=e.inset,a=e.children;if(!t)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.E.div,{className:"user-guide-popup-global-mask",layout:!0,layoutId:"user-guide-popup-highlight-mask",initial:{opacity:0},animate:{opacity:1},style:{backgroundColor:"var(--user-guide-popup-highlight-mask-shadow)"}}),(0,o.jsx)("div",{style:g({position:"fixed",zIndex:9999},i),children:a})]});var c=t.x,s=t.y,l=t.width,u=t.height,d=r||"left",f=n||{},m=f.x,v=void 0===m?0:m,y=f.y,w=void 0===y?0:y;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"user-guide-popup-global-mask"}),(0,o.jsx)(p.E.div,{layout:"position",layoutId:"user-guide-popup-highlight-mask",className:"user-guide-popup-highlight-mask",initial:{opacity:0},animate:{opacity:1},style:{left:"".concat(c,"px"),top:"".concat(s,"px"),width:"".concat(l,"px"),height:"".concat(u,"px")},children:(0,o.jsx)(p.E.div,{layout:!0,layoutId:"user-guide-popup-highlight-target-element",className:h()("position-anchor",b({},d,!0)),style:{transform:"translateX(".concat(v,"px) translateY(").concat(w,"px)")},children:a})})]})}var j=n(47481);function x(e){var t=e.buttonText,n=e.showClose,r=void 0===n||n,i=e.title,a=e.children,c=e.onOk,s=e.width,l=void 0===s?"300px":s,u=e.onCancel,d=e.arrow,f=void 0===d?"bottom":d,m=e.arrowLeft,h=void 0===m?"142px":m,p="number"==typeof h?h+"px":h,v="number"==typeof l?l+"px":l;return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:["top"===f&&(0,o.jsx)("svg",{className:"user-guide-popup-arrow top",width:"16",style:{marginLeft:p},height:"11",viewBox:"0 0 16 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M9.6641 9.50385C8.87246 10.6913 7.12754 10.6913 6.3359 9.50385L-1.04907e-06 1.39876e-06L16 0L9.6641 9.50385Z",fill:"#478AFF"})}),(0,o.jsxs)("div",{className:"user-guide-popup",style:{width:v},children:[(0,o.jsx)("div",{className:"user-guide-popup-title",children:i}),(0,o.jsx)("div",{className:"user-guide-popup-content",children:a}),(0,o.jsx)("div",{className:"user-guide-popup-button",onClick:c,children:t}),r&&(0,o.jsx)(j.Tw,{onClick:null!=u?u:c,className:"user-guide-popup-close",style:{color:"#fff"}})]}),"bottom"===f&&(0,o.jsx)("svg",{className:"user-guide-popup-arrow bottom",width:"16",style:{marginLeft:p},height:"11",viewBox:"0 0 16 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M9.6641 9.50385C8.87246 10.6913 7.12754 10.6913 6.3359 9.50385L-1.04907e-06 1.39876e-06L16 0L9.6641 9.50385Z",fill:"#478AFF"})})]})}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function I(){I=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:j(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==t&&n.call(y,i)&&(p=y);var g=h.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==S(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function O(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,c,"next",e)}function c(e){O(i,r,o,a,c,"throw",e)}a(void 0)}))}}function N(e,t){var n=document.createDocumentFragment();return(0,f.render)((0,f.createPortal)(e,t),n),function(){return(0,f.unmountComponentAtNode)(n)}}function D(){return A.apply(this,arguments)}function A(){return(A=E(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=N((0,o.jsxs)("div",{style:{position:"fixed",left:"10px",bottom:"10px",backgroundColor:"#5794FF",display:"flex",flexDirection:"column",borderRadius:"16px",gap:"10px",padding:"20px",width:"300px",alignItems:"center"},children:[(0,o.jsx)("span",{style:{fontWeight:"700",fontSize:"40px",lineHeight:"47px"},children:(0,o.jsx)(l,{})}),(0,o.jsx)("span",{style:{fontWeight:"700",fontSize:"20px",lineHeight:"23px",color:"#FFFFFF"},children:"Congrats!"}),(0,o.jsxs)("span",{style:{fontWeight:"400",fontSize:"14px",lineHeight:"16px",color:"#FFFFFF",whiteSpace:"nowrap"},children:["You have completed the onboarding guide.",(0,o.jsx)("br",{}),"Have fun recording or capturing!"]}),(0,o.jsx)("span",{style:{backgroundColor:"white",color:"#5794FF",fontSize:"16px",lineHeight:"19px",fontWeight:"700",padding:"10px 20px",display:"flex",borderRadius:"8px",alignItems:"center",justifyContent:"center",alignSelf:"stretch",cursor:"pointer"},onClick:function(){t(),e(void 0)},children:"Ok"}),(0,o.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"14px",color:"rgba(255, 255, 255, 0.6)"},children:["You can also access more helpful articles and tutorials on our ",(0,o.jsx)("a",{target:"_blank",href:"https://support.awesomescreenshot.com/hc/en-us",rel:"noreferrer",style:{fontWeight:"400",fontSize:"12px",lineHeight:"14px",color:"rgba(255, 255, 255, 0.6)",textDecoration:"underline"},children:"help center."})]})]}),document.body)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=e.onOk;return(0,f.createPortal)((0,o.jsx)(w,{inset:{top:0,right:40},children:(0,o.jsx)(x,{title:(0,o.jsxs)(o.Fragment,{children:["Pin Awesome Screenshot ",(0,o.jsx)("br",{}),"for easy access"]}),showClose:!1,buttonText:"I have pinned",arrow:"top",width:360,arrowLeft:244,onOk:t,onCancel:t,children:(0,o.jsx)("div",{style:{width:"320px",height:"200px",borderRadius:"10px",backgroundColor:"#dddddd",overflow:"hidden"},children:(0,o.jsx)("img",{src:u,alt:"Pin extension gif image",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top right"}})})})}),document.body)}function P(e){var t=e.onOk;return(0,f.createPortal)((0,o.jsx)(w,{inset:{top:0,right:40},children:(0,o.jsx)(x,{title:(0,o.jsxs)(o.Fragment,{children:["Click"," ",(0,o.jsx)("img",{src:r,style:{width:"1em",verticalAlign:"top"},alt:"Logo"})," ","to capture"]}),showClose:!1,buttonText:"Got it",arrow:"top",width:360,arrowLeft:244,onOk:t,onCancel:t,children:(0,o.jsx)("div",{style:{width:"320px",height:"220px",borderRadius:"10px",backgroundColor:"#dddddd",isolation:"isolate",overflow:"hidden"},children:(0,o.jsx)("video",{src:d,muted:!0,autoPlay:!0,loop:!0,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top right"}})})})}),document.body)}function k(e){var t=e.onCancel,n=e.onOk,r=e.highlightRect;return(0,f.createPortal)((0,o.jsx)(w,{highlight:r,popupPosition:"bottom",popupOffset:{y:10},children:(0,o.jsx)(x,{title:"Share your video",buttonText:"Got it",arrow:"top",onOk:n,onCancel:t,children:"Let’s generate and copy your shareable link to your friends or colleagues."})}),document.body)}function T(e){e.onCancel;var t=e.onOk,n=e.highlightRect,r={x:n.x-5,y:n.y,height:n.height,width:n.width+15};return(0,f.createPortal)((0,o.jsx)(w,{highlight:r,popupPosition:"bottom",popupOffset:{y:10},children:(0,o.jsx)(x,{title:"Leave a comment",showClose:!0,buttonText:"Got it",arrow:"top",onOk:t,onCancel:t,children:"Let’s have a discussion with friends or colleagues about your idea!"})}),document.body)}function L(e){e.onCancel;var t=e.onOk,n=e.highlightRect;return(0,f.createPortal)((0,o.jsx)(w,{highlight:n,popupPosition:"top",popupOffset:{y:-10},children:(0,o.jsx)(x,{title:"Source URL",showClose:!0,buttonText:"Got it",arrow:"bottom",onOk:t,onCancel:t,children:"The source URL was saved for your future reference."})}),document.body)}},87452:(e,t,n)=>{n.d(t,{L:()=>l});n(91324);var r=n(45777),o=n(73935),i=n(19915),a=n(47481),c=n(79285),s=n(85893);function l(e){var t=e.children,n=e.src,l=e.iframeSrc,u=e.closeOnModalClick,d=void 0===u||u,f=e.onClose;return(0,o.createPortal)((0,s.jsxs)("div",{className:"fullscreen-video-view",onClickCapture:function(e){e.target===e.currentTarget&&d&&f()},children:[(0,s.jsx)("div",{className:"fullscreen-video-view-content",children:t||(l?(0,s.jsx)(c.f,{src:l}):(0,s.jsx)(i.Z,{src:n}))}),(0,s.jsx)("div",{className:"fullscreen-video-view-control",children:(0,s.jsx)(r.Z,{title:"Close",children:(0,s.jsx)("div",{className:"close-btn",onClick:f,children:(0,s.jsx)(a.Tw,{style:{color:"white"}})})})})]}),document.body)}},61468:(e,t,n)=>{n.r(t),n.d(t,{default:()=>tt});n(67004);var r=n(19181),o=(n(79133),n(32787)),i=(n(91324),n(45777)),a=(n(90),n(16114)),c=(n(48315),n(28682)),s=(n(85624),n(71577)),l=(n(50626),n(48086)),u=(n(68521),n(51752)),d=(n(47386),n(48889)),f=n(41609),m=n.n(f),h=n(44378),p=n(1870),v=n(44545),y=n(79508),g=n(57119),b=n(67294),w=n(56262),j=n(96974),x=n(39711),S=n(62983),I=n(47481),O=n(94184),E=n.n(O),N=n(27484),D=n.n(N),A=n(96774),C=n.n(A),P=n(19915),k=n(30481),T=n(2264),L=n(85893);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function G(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}const B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(i,e);var t,n,r,o=Z(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),G(U(t=o.call(this,e)),"handlePlayerPause",(function(){t.playerRef.current.pause()})),G(U(t),"getCurrentTime",(function(){return t.playerRef.current.getCurrentTime()})),G(U(t),"handleSeekTo",(function(e){t.state.isPlaying||t.setState({isPlaying:!0}),t.playerRef.current.playVideo(),t.playerRef.current.seekTo(e)})),G(U(t),"handlerPlayVideo",(function(){t.props.increaseView(),t.setState({isPlaying:!0}),t.playerRef.current.playVideo()})),G(U(t),"handleVideoInit",(function(e){t.player=e})),t.state={isPlaying:!1},t.playerRef=(0,b.createRef)(),t}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.state.isPlaying!==t.isPlaying||this.props.dataManager!==e.dataManager||this.props.annsHash!==e.annsHash)return!0;if(!C()(this.props.comments,e.comments))return!0;var n=this.props.videoInfo,r=e.videoInfo;if((null==n?void 0:n.isRecording)!==(null==r?void 0:r.isRecording)||(null==n?void 0:n.failed)!==(null==r?void 0:r.failed)||(null==n?void 0:n.uploadProcess)!==(null==r?void 0:r.uploadProcess)||(null==n?void 0:n.s3Available)!==(null==r?void 0:r.s3Available)||(null==n?void 0:n.mp4Available)!==(null==r?void 0:r.mp4Available)||(null==n?void 0:n.fileWebMURI)!==(null==r?void 0:r.fileWebMURI)||(null==n?void 0:n.fileMP4URI)!==(null==r?void 0:r.fileMP4URI)||null!=n&&n.recordingLastUpdatedMsec&&D()(n.recordingLastUpdatedMsec).add(10,"minute")<D()())return!0;var o=this.props.fileURI||"",i=e.fileURI||"";if(this.props.showPrepareTip!==e.showPrepareTip)return!0;if(""===o&&""!==i)return!0;var a=this.props.thumbnailURI||"",c=e.thumbnailURI||"";return""===a&&""!==c}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=E()("video-player-wrapper",{playing:this.state.isPlaying}),n=this.props.videoInfo;return(0,L.jsxs)("div",{className:t,children:[(!this.props.fileURI||this.props.showPrepareTip)&&(0,L.jsxs)("div",{id:"video-thumbnail-div",className:"video-thumbnail-div",children:[(0,L.jsx)("img",{src:this.props.thumbnailURI,className:"video-thumbnail"}),(0,L.jsx)("div",{className:"thumbnail-default-image"}),this.props.fileURI&&!this.props.showPrepareTip?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:"dark-bg"}),(0,L.jsx)("div",{className:"play",onClick:this.handlerPlayVideo,children:(0,L.jsx)(I.o1,{})})]}):this.props.showPrepareTip&&n?(0,L.jsx)(T.Z,{isShare:this.props.isShare,isVideoDetail:!0,videoInfo:n,setVideoComplete:this.props.setVideoComplete,deleteVideoAction:this.props.deleteVideoAction}):""]}),this.props.fileURI?(0,L.jsx)(P.Z,{src:this.props.fileURI,thumbnailURI:this.props.thumbnailURI,duration:this.props.duration,ref:this.playerRef,comments:this.props.comments,handleReactionIconAnimationEnd:this.props.handleReactionIconAnimationEnd,handleAddReaction:this.props.handleAddReaction,handleScrollToComment:this.props.handleScrollToComment,handleVideoTimeChange:this.props.handleVideoTimeChange,handleToggleTheaterMode:this.props.toggleTheaterMode,increaseView:this.props.increaseView,replayLayer:this.props.replayLayer,annotationLayer:function(t,n){return(0,L.jsx)(k.Z,{videoID:e.props.videoId,videoDimension:n,videoDuration:e.props.duration,baseVersion:e.props.baseVersion,shareKey:e.props.shareKey,isOnlyBlurProcessing:e.props.isOnlyBlurProcessing,currentSec:t})}},this.props.videoId):""]})}}])&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.Component);function W(e){var t=e.info,n=e.onDelete,r=(e.onDownloadWebM,e.onRevert),o=[null,!t.version&&!t.hasAnnotation||t.isEditProcessing?null:{key:"revert",label:"Revert to original",icon:(0,L.jsx)(I.F_,{}),onClick:r},{key:"remove",label:"Remove",danger:!0,icon:(0,L.jsx)(I.XH,{}),onClick:n}];return(0,L.jsx)(a.Z,{overlay:(0,L.jsx)(c.Z,{items:o}),trigger:["click"],placement:"bottomRight",children:(0,L.jsxs)("div",{className:"action-item",children:[(0,L.jsx)("div",{className:"icon",children:(0,L.jsx)(I.bv,{})}),(0,L.jsx)("div",{className:"name",children:"More"})]})})}var z=n(48203),K=n(7516),Y=n(5551),Q=n(30817),q=n(32250),J=n(28235),X=n(36331);var $=n(83279),ee=n(33789),te=n(65538),ne=n(82841),re=n(79993),oe=n(67618),ie=n(99096),ae=n(54748),ce=n(71436),se=n(92807),le=n(65880),ue=n(71922),de=n(55087),fe=n(543),me=n(4976),he=n(59985),pe=n(62734),ve=n(13924),ye=n(37822),ge=n(61401);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===be(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=e.handleWebmDownload,n=(0,j.s0)();return(0,L.jsxs)("div",{className:"download-webm-panel",children:[(0,L.jsx)("div",{className:"title",children:"Download in webm"}),(0,L.jsxs)("div",{className:"content",children:[" ","Download in MP4 to enjoy benefits like widely accepted by multiple platforms."]}),(0,L.jsxs)("div",{style:{marginTop:"20px"},children:[(0,L.jsx)("div",{style:{marginBottom:"10px"},children:(0,L.jsx)(s.Z,{type:"primary",block:!0,onClick:t,children:"Download in webm"})}),(0,L.jsx)(s.Z,{type:"primary",block:!0,onClick:function(){n("/pricing?from=download-duration-webm")},children:"Upgrade to download in MP4"})]})]})}const Ie=function(e){return(0,L.jsx)(ge.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,L.jsx)(Se,je({},e))})};n(28897);var Oe=n(85986),Ee=(n(25562),n(12028));function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ne(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Te=function(e){var t=Pe((0,b.useState)(!1),2),n=t[0],r=t[1],o=E()("copy-btn",{copied:n});return(0,L.jsx)(s.Z,Ae(Ae({},e),{},{className:o,onClick:function(){r(!0),(0,oe.zp)(e.text),setTimeout((function(){r(!1)}),1500)},children:n?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(I.TI,{}),"Copied!"]}):"Copy"}))};function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Le(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.Z.TextArea;function Ue(e){var t=_e((0,b.useState)(!0),2),n=t[0],r=t[1],o=_e((0,b.useState)(360),2),i=o[0],a=o[1],c=_e((0,b.useState)(640),2),s=c[0],l=c[1],u="/embed?id=".concat(e.id,"&shareKey=").concat(e.shareKey)+(n?"":"&info=false"),d="<iframe frameBorder='0' width='".concat(s,"' height='").concat(i,"' webkitallowfullscreen mozallowfullscreen allowfullscreen src=\"https://www.awesomescreenshot.com").concat(u,'"></iframe>');return(0,L.jsxs)("div",{className:"embed-code-panel",children:[(0,L.jsx)("div",{className:"preview",children:(0,L.jsx)("iframe",{frameBorder:"0",width:"540",height:"300",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,src:u})}),(0,L.jsxs)("div",{className:"settings",children:[(0,L.jsxs)("div",{className:"title",children:[(0,L.jsx)(I.FL,{}),"Embeddable Code"]}),(0,L.jsxs)("div",{className:"code-area",children:[(0,L.jsxs)("div",{className:"code-option",children:["Show Basic informations",(0,L.jsx)("div",{className:"option-action",children:(0,L.jsx)(Ee.Z,{className:"info-switch",defaultChecked:!0,onChange:function(e){r(e)}})})]}),(0,L.jsxs)("div",{className:"code-option",children:["Size",(0,L.jsxs)("div",{className:"option-action",children:[(0,L.jsx)(Oe.Z,{value:s,style:{width:"70px"},size:"small",onChange:l})," ","X"," ",(0,L.jsx)(Oe.Z,{value:i,style:{width:"70px"},size:"small",onChange:a})]})]}),(0,L.jsx)("div",{className:"code-preview",children:d})]}),(0,L.jsx)(Te,{type:"primary",className:"copy-btn",size:"large",block:!0,text:d})]})]})}const He=function(e){return(0,L.jsx)(d.Z,{visible:e.visible,onCancel:e.onCancel,destroyOnClose:!0,footer:null,maskClosable:!1,className:"embed-code-modal",closeIcon:(0,L.jsx)(I.Tw,{style:{fontSize:"12px"}}),children:(0,L.jsx)(Ue,Ze({},e))})};var Ge=n(85580),Ve=n(42573),Be=n(73458),We=n(79105);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ke(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ze(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=d.Z.confirm,Je=u.Z.TabPane,Xe=!1;var $e={loadUserInfo:de.Lk,loadVideoInfo:fe.cb,convertVideoToMP4Action:fe.XH,generateShareLinkAction:fe.i9,revokeShareLinkAction:fe.DI,editTitleAction:fe.mU,openEditTitleAction:fe.OS,hideEditTitleAction:fe.O1,moveToTrash:le.B0,createComment:se.Yr,removeCommentAnimation:se.L9,loadComments:se.KT,deleteChannelItem:ce.FO,setVideoComplete:fe.mE,hideItemAction:ue.td},et=(0,w.$j)((function(e,t){var n=t.id||t.router.params.videoID||"";return{currentPlan:e.user.premium.currentPlan,counts:e.user.counts,permissions:e.user.permissions,userInfo:e.user.info,isUserLoaded:e.user.isLoaded,isUserLoading:e.user.isLoading,video:(0,ne.yl)(e,n),comments:e.comment.comments[Y.Z$.video+n]||[],total:e.user.counts?e.user.counts.video:0,videoTotalAllCreated:e.user.counts?e.user.counts.videoTotalAllCreated:0,showGuide:e.user.showGuide&&e.user.isLoaded&&e.userGuide.loaded&&(!e.userGuide.popups.VideoShare||!e.userGuide.popups.VideoComment),userGuide:e.userGuide}}),$e);const tt=(0,K.Z)(et((function(e){var t=e.isModal,n=e.id,f=e.shareKey,w=e.loadUserInfo,O=e.loadVideoInfo,E=e.loadComments,N=e.video,D=e.currentPlan,A=e.permissions,C=e.userInfo,P=e.isUserLoaded,k=e.comments,T=e.convertVideoToMP4Action,_=e.generateShareLinkAction,R=e.revokeShareLinkAction,M=e.moveToTrash,Z=e.createComment,F=e.removeCommentAnimation,U=e.deleteChannelItem,H=e.hideModal,G=e.isBrowsing,V=e.counts,K=e.showGuide,ne=e.setVideoComplete,ce=e.userGuide,se=Ye((0,b.useState)(!1),2),le=se[0],ue=se[1],de=Ye((0,b.useState)(!1),2),fe=de[0],ge=de[1],be=Ye((0,b.useState)(!1),2),we=be[0],je=be[1],xe=Ye((0,b.useState)(!1),2),Se=xe[0],Oe=xe[1],Ee=Ye((0,b.useState)(!0),2),Ne=(Ee[0],Ee[1]),De=Ye((0,b.useState)(!1),2),Ae=De[0],Ce=De[1],Pe=Ye((0,b.useState)(!1),2),ke=Pe[0],Te=Pe[1],Le=Ye((0,b.useState)(!1),2),_e=Le[0],Re=Le[1],Me=Ye((0,b.useState)(!1),2),Ze=Me[0],Fe=Me[1],Ue=Ye((0,b.useState)(!1),2),ze=Ue[0],Qe=Ue[1],$e=Ye((0,b.useState)(1580),2),et=$e[0],tt=$e[1],nt=Ye((0,b.useState)(300),2),rt=nt[0],ot=nt[1],it=Ye((0,b.useState)("0"),2),at=it[0],ct=it[1],st=Ye((0,b.useState)("0"),2),lt=st[0],ut=st[1],dt=Ye((0,b.useState)(!1),2),ft=dt[0],mt=dt[1],ht=Ye((0,b.useState)(!1),2),pt=ht[0],vt=ht[1],yt=Ye((0,b.useState)(!1),2),gt=yt[0],bt=yt[1],wt=Ye((0,b.useState)(!1),2),jt=wt[0],xt=wt[1],St=Ye((0,b.useState)(!1),2),It=St[0],Ot=St[1],Et=Ye((0,b.useState)(!1),2),Nt=(Et[0],Et[1],Ye((0,b.useState)(!1),2)),Dt=Nt[0],At=Nt[1],Ct=Ye((0,b.useState)("MP4"),2),Pt=Ct[0],kt=Ct[1],Tt=Ye((0,b.useState)(!1),2),Lt=(Tt[0],Tt[1],Ye((0,b.useState)(!1),2)),_t=Lt[0],Rt=Lt[1],Mt=Ye((0,b.useState)(!1),2),Zt=Mt[0],Ft=Mt[1];(0,te.u)(N.info&&!t?N.info.title:"");var Ut=(0,b.useRef)(null),Ht=(0,b.useRef)(null),Gt=(0,b.useRef)(null),Vt=(0,b.useRef)(null),Bt=(0,b.useRef)(null),Wt=(0,b.useRef)(null),zt=(0,b.useRef)(null),Kt=(0,j.UO)(),Yt=(0,j.s0)(),Qt=(0,j.TH)(),qt=(0,Q.a)(),Jt=t?n:Kt.videoID,Xt=t?f:qt.get("key"),$t=(0,q.D)(N.isLoading),en=(0,q.D)(N.info?N.info.visitRestrict:void 0),tn=(0,q.D)(D),nn=(0,q.D)(Jt),rn=(0,J.TL)();(0,b.useEffect)((function(){w();var e=setTimeout((function(){(0,oe.LB)()||!re.Z.isChrome()||re.Z.isMobile()||Ne(!0)}),1e3);return window.lastHeight=window.innerHeight,hn(null,!0),window.addEventListener("resize",hn,!1),function(){clearTimeout(e),window.removeEventListener("resize",hn,!1)}}),[]),(0,b.useEffect)((function(){var e;void 0===N.info&&!1===$t&&nn===Jt&&(t?H():null!==(e=Qt.state)&&void 0!==e&&e.inApp?Yt(-1):Yt("/my_items"))}),[N.isLoading,N]),(0,b.useEffect)((function(){!D||"free"!==D.PlanName&&"basic"!==D.PlanName||!N.info||void 0!==tn&&void 0!==en||!N.info.visitRestrict||Ot(!0)}),[N,D]),(0,b.useEffect)((function(){G&&void 0!==N.info&&N.loaded||(O(Jt,Xt),E(Y.Z$.video,Jt,Xt))}),[Jt,Xt]),(0,b.useEffect)((function(){var e=N.info||{};if(e.canVisit&&!0!==e.failed)if(Xe||N.isLoading||!1!==e.s3Available)if(Xe||N.isLoading||!(e.isMP4Requested&&!e.mp4Available||e.isDownloadWithAnnRequested)||!1!==e.downloadAvailable)!Xe&&e.isEditProcessing?(Xe=!0,setTimeout((function(){O(e.id,e.shareKey,!0),Xe=!1}),1500)):Xe||!re.Z.isPreIOS()&&!re.Z.isPrevSafari()||void 0===N.info.id||N.info.mp4Available||(Xe=!0,setTimeout((function(){O(e.id,e.shareKey,!0),Xe=!1}),3e3));else{Xe=!0;var t=5;0==e.queueLength&&0==e.queueWaitMin?t=5:0==e.queueLength&&e.queueWaitMin>0?t=(t=60*e.queueWaitMin/8+2)<20?t:20:e.queueLength>0&&(t=(t=60*e.queueWaitMin/3)<60?t:60),setTimeout((function(){O(e.id,e.shareKey,!0),Xe=!1}),1e3*t)}else Xe=!0,setTimeout((function(){O(e.id,e.shareKey,!0),Xe=!1}),500);e&&(e.fileWebMURI&&e.fileWebMURI.indexOf(".webm?")>0||e.webmOrigURI&&e.webmOrigURI.indexOf("orig.webm?")>0)&&(At(!0),e.hasAnnotation?kt("MP4"):kt("WebM"))}),[N]),(0,b.useEffect)((function(){void 0===C.uid&&P&&(0,oe.Zf)(w)}),[C,P]);var on=(0,b.useRef)(null),an=(0,b.useRef)(null),cn=function(e,t){var n=(0,b.useRef)(null),r=t?e:document,o=t||e;return(0,b.useEffect)((function(){var e,t=(0,X.Ql)(r);n.current=null!==(e=null==t?void 0:t.querySelector(o))&&void 0!==e?e:null}),[(0,X.Ql)(r)]),n}(an,":scope .ant-tabs-nav-list .ant-tabs-tab:nth-child(2)"),sn=Ye((0,$.K)(on,{windowScroll:!1,reset:!1}),2),ln=sn[0],un=sn[1],dn=Ye((0,$.K)(cn,{windowScroll:!1,reset:!1}),2),fn=dn[0],mn=dn[1];function hn(e,t){if(window.innerHeight!==window.lastHeight||t){var n=window.innerHeight,r=Math.min(1580,(n-182)/.5625+360);window.lastHeight=window.innerHeight,tt(r),ot(.5625*(r-360)-12)}else ot(.5625*(Ut.current.offsetWidth-360)-12)}function pn(){var e=N.info;e&&e.canVisit&&"awecon"!==qt.f&&(0,me.ovQ)(e.id)}function vn(){mt((function(e){return e?Wt.current.prepend(Vt.current):Bt.current.appendChild(Vt.current),!e})),document.scrollingElement&&(document.scrollingElement.scrollTop=0)}function yn(){var e=N.info||{};return!m()(e)&&(!1===e.s3Available||!re.Z.webmSupport()&&!1===e.mp4Available)}function gn(){if(A.allowVideoEditor){var e=D&&("free"===D.PlanName||"basic"===D.PlanName);parseInt(N.info.durationSecond)>3600&&e?bt(!0):Yt("/veditor/".concat(N.info.id),t?{state:{isModal:!0}}:{state:{inApp:!0}})}else Fe(!0)}function bn(e){"2"!==lt&&"0"!==lt?(ut("2"),setTimeout((function(){Gt.current.scrollTo(e)}),300)):Gt.current.scrollTo(e)}function wn(e){ut(e)}function jn(e){if(N.info){var t=N.info.expireRestrictEndTime;if(!t&&N.info.visitRestrict||t&&1e3*t<Date.now())Ot(!0);else{var n=D&&("free"===D.PlanName||"basic"===D.PlanName);parseInt(N.info.durationSecond)<3600||!n?Dt?"MP4"==e?ge(!0):"WebM"==e&&(N.info.hasAnnotation?qe({title:"Are you sure to continue?",okType:"danger",className:"revoke_config",content:(0,L.jsx)("div",{children:"Downloading in WebM will only get the original version before editing."}),okText:"Yes",onOk:function(){Sn()}}):Sn()):N.info.downloadAvailable?An():ge(!0):xt(!0)}}}function xn(){Oe(!0)}function Sn(){N.info&&(0,oe.Cz)("/api/v1/video/download/webm?videoID="+N.info.id,N.info.title+".webm")}function In(){if(N.info){var e=N.info.expireRestrictEndTime;if(N.info.visitRestrict)return e&&1e3*e>Date.now()?Sn():Ot(!0);Sn()}}function On(){oe.C2.confirm({title:"Revert to original",content:"The video will be reverted to its original form. This action will erase any changes you've made, and it is irreversible. Are you sure you want to proceed?",okText:"Revert to original",okButtonProps:{danger:!0},cancelText:"Cancel",autoFocusButton:null}).then((function(){return(0,We._)(Gn.id)})).then((function(){return O(Gn.id,Gn.shareKey,!1)}))}function En(){qe({title:"Do you want to delete recording?",content:"",onOk:function(){var e=N.info;e.channel?U({workspaceID:e.channel.workspaceID,channelID:e.channel.id,itemID:e.id,id:e.channelItemId,itemType:e.itemType}).then((function(){t?H():Yt("/workspace/"+e.channel.workspaceID+"/"+e.channel.id)})):M([N.info])},okText:"Yes, delete",okType:"danger",onCancel:function(){}})}function Nn(){ce.steps.Share||(rn((0,S.YA)(S.Rg.Share)),(0,oe.I1)("First time generate share link from video detail",{event_category:"userGuide"})),N.info.visitRestrict?Ot(!0):_(N.info.id)}function Dn(){qe({title:"Are you sure to revoke this shareable link?",okType:"danger",className:"revoke_config",content:(0,L.jsxs)("ul",{children:[(0,L.jsx)("li",{children:"Others cannot access the content after the shareable link is revoked."}),(0,L.jsx)("li",{children:"Create a new shareable link by going through the link generation process again."})]}),okText:"Yes, revoke",onOk:function(){return R(N.info.id)}})}function An(){(0,oe.Cz)("/api/v1/video/download?videoID="+N.info.id,N.info.title+".mp4")}function Cn(){window.open("https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj")}function Pn(e){Ht.current.handleSeekTo(e)}function kn(){Ht.current.handlePlayerPause();var e=Ht.current.getCurrentTime()+"";ct(e)}function Tn(e){var t;null!==(t=Gt.current)&&void 0!==t&&t.getIsShowInput()&&ct(String(e))}function Ln(e){if(yn())l.ZP.warning("Please wait until the video is ready.");else{var t=Ht.current.getCurrentTime()+"";Z("1",N.info.id,e,"1",t)}}function _n(e){F({itemType:Y.Z$.video,itemId:N.info.id,id:e})}function Rn(e){var t;(0,oe.X8)(e,(Ke(t={},"share-next",(function(){Rt(!1),Ft(!0)})),Ke(t,"share-close",(function(){Rt(!1),rn((0,S.wH)([S.C2.VideoShare,S.C2.VideoComment])),(0,oe.I1)("Complete share video highlight popup",{event_category:"userGuide"})})),Ke(t,"comment-next",(function(){Ft(!1),rn((0,S.wH)([S.C2.VideoShare,S.C2.VideoComment])),(0,oe.I1)("Complete share video highlight popup",{event_category:"userGuide"})})),Ke(t,"comment-close",(function(){Ft(!1),rn((0,S.wH)([S.C2.VideoShare,S.C2.VideoComment])),(0,oe.I1)("Complete share video highlight popup",{event_category:"userGuide"})})),t))}function Mn(){if(t){var e={itemType:"video",id:N.info.id,shareKey:Xt};localStorage.setItem("restore_modal",JSON.stringify(e))}window.location.href="/signin?redirect="+window.location.href}(0,b.useEffect)((function(){K&&on.current&&!_t&&!Zt&&(0,oe._v)(700).then((function(){un(),mn(),Rt(!0)}))}));var Zn=(0,b.useRef)(void 0),Fn=(0,b.useMemo)((function(){if(Zn.current)return Zn.current;var e=N.info;if(null!=e&&e.isEditProcessing&&e.isOnlyBlurProcessing){var t=e.s3Available?e.fileWebMURI:void 0,n=e.mp4Available?e.fileMP4URI:void 0,r=n&&n.length>0?n:t;return Zn.current=r}}),[N]);function Un(){if(document.querySelector("#aws-chrome-installed")||!re.Z.isChrome()||re.Z.isSmallMobile())return null;var e=window.navigator.userAgent.includes("Edg");return(0,L.jsxs)("div",{className:"ext-promotion",children:[(0,L.jsx)("div",{className:"text",children:"Want to take and share a recording alike? Add the extension to get started!"}),(0,L.jsxs)(s.Z,{block:!0,className:"ext-promotion-btn",type:"primary",icon:e?(0,L.jsx)(I.xY,{}):(0,L.jsx)(I.eL,{}),onClick:oe.nV.bind(null,"video-shared-player-click"),children:["Add to ",e?"Edge":"Chrome"]})]})}var Hn=void 0===N.info||(G?!N.loaded:N.isLoading),Gn=N.info||{},Vn=void 0===Gn.id,Bn=C.uid+""!==Gn.userID&&!Gn.isChannelMember;(0,ee.Q)((function(){rn((0,S.aO)())}),!ce.loaded&&!Bn&&P);var Wn=void 0!==C.uid&&void 0!==Gn.canVisit?!Gn.canVisit&&!Bn:void 0,zn=void 0!==Gn.canVisit&&(!Gn.canVisit&&Bn&&(!1===Wn||void 0===Wn)),Kn=D&&("free"===D.PlanName||"basic"===D.PlanName)&&parseInt(V.video)>=.75*V.videoLimitation&&parseInt(V.video)<V.videoLimitation,Yn=D&&("free"===D.PlanName||"basic"===D.PlanName)&&parseInt(V.video)>=V.videoLimitation,Qn=N.info&&("free"===N.info.planName||"basic"===N.info.planName)&&Gn.queueLength>3,qn=function(e){return e.isEditProcessing||e.isOnlyBlurProcessing?{step:"wait",img:(0,L.jsx)("div",{className:"video-img-processing",children:(0,L.jsx)("div",{className:"loading"})}),title:"Edit processing...",content:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("span",{children:["The changes you made earlier are still being processed."," "]}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{children:"video is unavailable for download now. Please try again later."})]})}:e.downloadAvailable?{step:"download",img:(0,L.jsx)("div",{className:"video-img download"}),title:"The MP4 file is ready for download."}:e.mp4InQueue||e.isMP4Requested&&!e.mp4Available||e.isDownloadWithAnnRequested||we?e.mp4InQueue?e.queueLength||e.queueWaitMin?e.queueLength?{step:"wait",title:"Waiting for conversion",img:(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("div",{className:"video-img wait",children:(0,L.jsxs)("div",{className:"waiting",children:[(0,L.jsx)("div",{className:"dot"}),(0,L.jsx)("div",{className:"dot"}),(0,L.jsx)("div",{className:"dot"}),(0,L.jsx)("div",{className:"dot"}),(0,L.jsx)("div",{className:"dot"}),(0,L.jsx)("div",{className:"dot"})]})})}),content:(0,L.jsxs)("span",{children:["There are ",e.queueLength," ",e.queueLength>1?"videos":"video"," in the"," ",Qn?"regular ":"priority ","queue before this video.",(0,L.jsx)("br",{})," It will take about ",e.queueWaitMin," ",e.queueWaitMin>1?"minutes":"minute",".",Qn&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)("a",{href:"/pricing?from=priority_queue",target:"_blank",children:"Upgrade to Pro"})," ","to join the priority queue for faster conversion."]})]})}:{step:"converting",title:"Converting...",img:(0,L.jsx)("div",{className:"video-img converting",children:(0,L.jsx)("div",{className:"loading"})}),content:(0,L.jsxs)("span",{children:["Converting video. It will take about ",e.queueWaitMin," ",e.queueWaitMin>1?"minutes":"minute","."]})}:{step:"converting",title:"Converting...",img:(0,L.jsx)("div",{className:"video-img converting",children:(0,L.jsx)("div",{className:"loading"})}),content:(0,L.jsx)("span",{children:"Converting video. It will take less than 1 minute."})}:{step:"preparing",img:(0,L.jsx)("div",{className:"video-img convert"}),title:"Preparing...",content:""}:{step:"convert",title:"Convert & Download MP4",img:(0,L.jsx)("div",{className:"video-img convert"}),content:""}}(Gn);return(0,L.jsxs)("div",{className:"Video ".concat(t?"modal":""),ref:zt,children:[Yn&&(0,L.jsxs)("div",{className:"discount-tip-header",children:[(0,L.jsx)(g.Z,{}),"You’ ve reached the 20 video limit. Upgrade for unlimited videos.",(0,L.jsx)(x.rU,{className:"btn primary",to:"/pricing?from=list_reach_limit",children:"Upgrade now"})]}),Kn&&(0,L.jsxs)("div",{className:"discount-tip-header",children:[(0,L.jsx)(g.Z,{}),"You’ve recorded ",V.video,"/",V.videoLimitation," videos. Upgrade for unlimited videos.",(0,L.jsx)(x.rU,{className:"btn primary",to:"/pricing?from=list_video_close_limit",children:"Upgrade now"})]}),(0,L.jsx)("div",{className:"video-theator-container ".concat(ft?"active":""),ref:Bt}),(0,L.jsxs)("div",{className:"video-inner-container",style:{maxWidth:et+"px"},ref:Ut,children:[(0,L.jsx)("div",{className:"main",children:Hn?(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(ve.Z,{})}):(0,L.jsx)(L.Fragment,{children:Vn?((0,oe.I1)("video not found",{event_category:"video"}),(0,L.jsxs)("div",{className:"video-error",children:[(0,L.jsx)("div",{className:"error-404"}),(0,L.jsx)("h3",{children:"Ooops!!"}),(0,L.jsx)("p",{className:"error-tip",children:"We can't find a video you are looking for"}),(0,L.jsx)(s.Z,{type:"primary",className:"add-extension",size:"large",onClick:Cn,children:"Add to Chrome It's free!"})]})):function(e,l){var d=e.thumbnailURI960||"",f=e.s3Available?e.fileWebMURI:void 0,m=e.mp4Available?e.fileMP4URI:void 0,g=m&&m.length>0?m:f,b=e.shareURI,w=e.title,j=C.uid+""!==e.userID&&!e.isChannelMember,x=C.uid+""===e.userID,S=e.channel&&C.uid===e.channel.creatorID,O=e.isEditProcessing,E=(0,L.jsx)(L.Fragment,{children:j?(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("div",{className:"sidebar-area",children:(0,L.jsxs)("div",{className:"shared-comment-container",children:[(0,L.jsx)("div",{className:"title",children:k.length>1?"".concat(k.length," Comments"):"".concat(k.length," Comment")}),(0,L.jsx)(he.Z,{itemType:Y.Z$.video,itemId:t?n:Kt.videoID,shareKey:Xt,ref:Gt,height:rt,handleSeekTo:Pn,currentVideoTime:at,onCommentStart:kn,goToSignIn:Mn})]})})}):(0,L.jsx)("div",{className:"sidebar-area",ref:an,id:"user-guide-container--video",children:(0,L.jsxs)(u.Z,{defaultActiveKey:e.hasComment||e.channel?"2":"1",centered:!0,onTabClick:wn,children:[(0,L.jsx)(Je,{tab:"Manage",children:(0,L.jsxs)(L.Fragment,{children:[(x||S)&&(0,L.jsx)("div",{className:"sidebar",children:(0,L.jsx)(Ge.Z,{item:e})}),x&&(0,L.jsx)("div",{className:"sidebar",children:(0,L.jsx)("div",{className:"section tiny",children:(0,L.jsxs)("div",{className:"action-box",children:[(0,L.jsxs)("div",{className:"action-item",onClick:function(){jn(Pt)},children:[(0,L.jsx)("div",{className:"icon",children:(0,L.jsx)(I._8,{})}),(0,L.jsxs)("div",{className:"name",children:[(0,L.jsx)("div",{children:"Download"}),(0,L.jsx)("div",{className:"format-name",onClick:function(e){Dt&&e.stopPropagation()},children:Dt?(0,L.jsx)(a.Z,{trigger:["click"],className:"format-drop",overlay:(0,L.jsxs)(c.Z,{className:"",children:[(0,L.jsx)(c.Z.Item,{style:{fontSize:"12px"},onClick:function(){kt("WebM"),jn("WebM")},children:"WebM"},"2"),(0,L.jsx)(c.Z.Item,{style:{fontSize:"12px"},onClick:function(){kt("MP4"),jn("MP4")},children:"MP4"},"1")]}),children:(0,L.jsxs)("div",{className:"format-names",children:[Pt," ",(0,L.jsx)(h.Z,{})]})}):(0,L.jsx)("div",{children:"MP4"})})]})]}),(0,L.jsxs)("div",{className:"action-item",onClick:gn,children:[(0,L.jsxs)("div",{className:"icon",children:[(0,L.jsx)("div",{className:"badge",children:"Beta"}),(0,L.jsx)(I.qz,{})]}),(0,L.jsxs)("div",{className:"name",children:["Edit video"," ",(0,L.jsx)(i.Z,{title:"Note: video editing is a Pro feature. For a limited time, it's free to use for everyone.",children:(0,L.jsx)(p.Z,{})})]})]}),(0,L.jsx)(W,{info:e,onDelete:En,onDownloadWebM:In,onRevert:On})]})})}),!j&&(0,L.jsx)("div",{className:"sidebar",children:(0,L.jsx)("div",{ref:on,className:"section",children:b?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"share-title-area",children:["Share Link",(0,L.jsx)("div",{className:"more",children:(0,L.jsx)(a.Z,{overlay:(0,L.jsxs)(c.Z,{children:[(0,L.jsx)(c.Z.Item,{children:(0,L.jsx)("div",{onClick:xn,children:"Embed code"})},"0"),(0,L.jsx)(c.Z.Item,{children:(0,L.jsx)("div",{className:"revoke-btn",onClick:Dn,children:"Revoke shareable link"})},"1"),(0,L.jsx)(c.Z.Item,{children:(0,L.jsx)("div",{className:"revoke-btn",onClick:function(){(0,oe.bw)(b)},children:"Get short URL"})},"2")]}),trigger:["click"],children:(0,L.jsx)(v.Z,{})})})]}),(0,L.jsx)("div",{className:"share-link-input",children:(0,L.jsx)(o.Z,{disabled:!0,value:b})}),(0,L.jsx)("div",{className:"button-area",children:(0,L.jsx)(s.Z,{type:"primary",block:!0,icon:le?(0,L.jsx)(y.Z,{}):(0,L.jsx)(I.TI,{}),className:le?"copy-btn copied":"copy-btn",onClick:function(){!function(e){(0,oe.zp)(e),ue(!0),setTimeout((function(){ue(!1)}),1500)}(b)},children:le?"Copied!":"Copy Link"})}),(0,L.jsx)("div",{className:"sep"}),(0,L.jsx)("div",{className:"destination-area",children:(0,L.jsx)(Ve.Z,{dataURL:"fff",permissions:A,currentPlan:D,type:"video",itemId:t?n:Kt.videoID,itemUrl:b})})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h4",{children:"Share Your Video"}),(0,L.jsxs)("div",{className:"button-area",children:[(0,L.jsx)(s.Z,{className:"shareButton",onClick:Nn,loading:N.isGenerateShareLinkLoading,children:"Generate Shareable Link"}),(0,L.jsxs)("div",{className:"support-s",children:[(0,L.jsx)("div",{children:"Support:"}),(0,L.jsx)("div",{className:"s-container",children:Y.SX.map((function(e){return(0,L.jsx)(i.Z,{title:e.displayName,children:(0,L.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})]})})}),l&&!1]})},"1"),(0,L.jsx)(Je,{tab:k.length>0?"Comments (".concat(k.length,")"):"Comments",children:(0,L.jsx)("div",{className:"comment-area",children:(0,L.jsx)(he.Z,{itemType:Y.Z$.video,itemId:t?n:Kt.videoID,isOwner:parseInt(N.info.userID)===C.uid,ref:Gt,shareKey:Xt,height:rt,handleSeekTo:Pn,currentVideoTime:at,onCommentStart:kn,isInChannel:!!N.info.channel,channel:N.info.channel,goToSignIn:Mn})})},"2")]})})});return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:"video-container",ref:Wt,children:[(0,L.jsxs)("div",{className:"video-area",ref:Vt,children:[(0,L.jsx)("div",{className:"video-content",children:O&&!e.isOnlyBlurProcessing?(0,L.jsxs)("div",{className:"cut-processing",children:[!O&&(0,L.jsx)("img",{src:d,alt:""}),(0,L.jsx)("div",{className:"wrapper",children:(0,L.jsxs)("div",{className:"center",children:[(0,L.jsx)("div",{className:"cut-processing-img",children:(0,L.jsx)("div",{className:"loading"})}),(0,L.jsx)("div",{className:"title",children:"Edit processing..."}),(0,L.jsx)("div",{className:"sub-title",children:0===e.editWaitMin?"It will take less than a minute":"It will take ".concat(e.editWaitMin," minutes")})]})})]}):(0,L.jsx)(B,{ref:Ht,fileURI:Fn||g,videoId:t?n:Kt.videoID,videoInfo:N.info,setVideoComplete:ne,deleteVideoAction:En,baseVersion:e.version,shareKey:Xt,isShare:j,duration:e.durationSecond,isOnlyBlurProcessing:e.isOnlyBlurProcessing,thumbnailURI:d,showPrepareTip:yn(),increaseView:pn,comments:k,handleVideoTimeChange:Tn,handleReactionIconAnimationEnd:_n,handleAddReaction:Ln,handleScrollToComment:bn,toggleTheaterMode:vn,replayLayer:Un()})}),C.uid?(0,L.jsx)("div",{className:"video-reaction-button-bar",children:Y.t5.map((function(e){return(0,L.jsx)("div",{className:"video-reaction-button",onClick:function(){Ln(e)},children:(0,L.jsx)("div",{className:"emoji",children:e})},e)}))}):(0,L.jsx)(i.Z,{title:"Sign in to add a reaction",placement:"bottom",children:(0,L.jsx)("div",{className:"video-reaction-button-bar",children:Y.t5.map((function(e){return(0,L.jsx)("div",{className:"video-reaction-button",onClick:Mn,children:e},e)}))})})]}),(0,L.jsxs)("div",{className:"video-title-area",children:[(0,L.jsx)("div",{className:"video-title",children:String(C.uid)===String(e.userID)||e.channel&&e.channel.isMember?(0,L.jsx)(ye.Z,{item:e}):(0,L.jsx)("div",{className:"display-title",children:w})}),(0,L.jsxs)("div",{className:"video-author",children:[(0,L.jsx)(r.Z,{visible:!!e.workspace&&void 0,overlayClassName:"workspace-profile-popover",content:e.workspace?(0,L.jsx)(z.Z,{info:e,workspaceID:e.workspace.id}):null,arrowPointAtCenter:!0,autoAdjustOverflow:!0,destroyTooltipOnHide:!0,mouseLeaveDelay:.1,placement:"bottomLeft",children:(0,L.jsxs)("div",{className:"video-info-avatar",children:[(0,L.jsx)(ie.Z,{size:"32",username:e.userName,avatarUrl:e.userAvatar}),(0,L.jsx)("span",{className:"username",children:e.userName})]})}),(0,L.jsx)("div",{className:"video-info-text",children:(0,L.jsxs)("div",{className:"extra-info",children:[(0,L.jsxs)("span",{className:"views",children:[(0,L.jsx)("span",{children:e.views})," ",e.views>1?"views":"view"]}),(0,L.jsx)("span",{className:"sep",children:"•"}),(0,L.jsx)("span",{className:"create-time",children:(0,oe.p6)(e.createdSec)})]})})]})]}),E]})})}(Gn,Kn)})}),(0,L.jsx)(d.Z,{visible:fe,onCancel:function(){ge(!1)},footer:null,className:"video-modal",width:500,closeIcon:(0,L.jsx)(I.Tw,{style:{fontSize:"12px"}}),children:(0,L.jsxs)("div",{className:"main",children:[qn.img,(0,L.jsx)("div",{className:"title",children:qn.title}),(0,L.jsx)("p",{className:"format-desc",children:qn.content}),"converting"!==qn.step&&"wait"!==qn.step&&"preparing"!==qn.step&&(0,L.jsx)("div",{className:"download-action-area",children:Gn.downloadAvailable?(0,L.jsx)(s.Z,{type:"primary",className:"download",onClick:An,size:"large",block:!0,children:"Download MP4"}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(s.Z,{type:"primary",className:"download convert",onClick:function(){T(N.info.id),je(!0)},size:"large",block:!0,children:"Convert To MP4"}),(0,L.jsx)("a",{href:"https://support.awesomescreenshot.com/hc/en-us/articles/33406934145561-Advantages-and-Disadvantages-of-Recording-in-WebM-and-MP4",target:"_blank",className:"qa-link",children:"Advantages and Disadvantages of Recording in WebM and MP4"})]})})]})}),(0,L.jsx)(He,{visible:Se,onCancel:function(){Oe(!1)},id:Gn.id,shareKey:Gn.shareKey}),(0,L.jsx)(ae.Z,{unClosable:!!N.info&&!N.info.restrictCanClose,deadline:N.info&&N.info.expireRestrictEndTime,visible:It,onCancel:function(){Ot(!1),(0,oe.I1)("video-record-50",{event_category:"upgrade modal hide"})},type:"video-record-50"}),(0,L.jsx)(ae.Z,{onCancel:function(){Te(!1)},visible:ke,type:"video-alert"}),(0,L.jsx)(ae.Z,{onCancel:function(){Re(!1)},visible:_e,type:"download"}),(0,L.jsx)(ae.Z,{onCancel:function(){Fe(!1)},visible:Ze,type:"video-editor"}),(0,L.jsx)(ae.Z,{onCancel:function(){Qe(!1)},visible:ze,type:"5limit"}),(0,L.jsx)(ae.Z,{onCancel:function(){xt(!1)},visible:jt,openDownloadWebmModal:function(){vt(!0)},type:"download-duration"}),(0,L.jsx)(ae.Z,{onCancel:function(){bt(!1)},visible:gt,type:"edit-duration"}),(0,L.jsx)(Ie,{visible:pt,onCancel:function(){vt(!1)},handleWebmDownload:Sn}),!Bn&&(0,L.jsx)(pe.Z,{type:"video",isInApp:!t&&Qt.state,isFailed:Gn.failed}),(0,L.jsx)(d.Z,{visible:zn,destroyOnClose:!0,closable:!1,maskClosable:!1,getContainer:!1,footer:null,centered:!0,className:"video-modal",children:(0,L.jsx)("div",{className:"restriction-area",children:Ae?(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("h2",{className:"title",children:"Message sent successfully."})}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h2",{className:"title",children:"Oops! This video is not accessible. "}),(0,L.jsxs)("p",{children:["This video is locked because the owner (",Gn.userName,") has reached a limit for video sharing."]}),(0,L.jsx)("p",{children:"Want to watch video? Click the button below to let the owner know. We will send a reminder message to the video owner for you."}),(0,L.jsx)(s.Z,{type:"primary",onClick:function(){(0,me.bG5)(N.info.id).then((function(){Ce(!0)})),(0,oe.I1)("tell owner restriction",{event_category:"video"})},children:"Send reminder"})]})})})]}),_t&&(0,L.jsx)(Be.wD,{onCancel:function(){return Rn("share-close")},onOk:function(){Rn("share-next")},highlightRect:ln}),Zt&&(0,L.jsx)(Be.hO,{onCancel:function(){return Rn("comment-close")},onOk:function(){return Rn("comment-next")},highlightRect:fn})]})})))},65538:(e,t,n)=>{n.d(t,{u:()=>o});var r=n(67294);function o(e){(0,r.useEffect)((function(){e&&e!==document.title&&(document.title=e+" - Awesome Screenshot")}),[e])}},83279:(e,t,n)=>{n.d(t,{K:()=>h});var r=n(50308),o=n.n(r),i=n(3664),a=n(36331),c=n(67294);function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){var r=(0,i.d)(t),u=(0,c.useRef)(o());function d(){u.current(),u.current=o()}return(0,c.useEffect)((function(){var t=(0,a.PW)(e);if(t.length){var o,i=new ResizeObserver((function(e,t){return r.current(e,t)})),c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t);try{for(c.s();!(o=c.n()).done;){var s=o.value;s&&i.observe(s,n)}}catch(e){c.e(e)}finally{c.f()}return u.current=function(){return i.disconnect()},d}}),s((0,a.PW)(e))),d}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reset,r=void 0===n||n,o=t.windowResize,i=void 0===o||o,s=t.windowScroll,l=void 0===s||s,u=t.immediate,m=void 0===u||u,h=(0,c.useState)((function(){var t=(0,a.Ql)(e);return t?t.getBoundingClientRect():new DOMRect})),p=f(h,2),v=p[0],y=p[1];function g(t){if(t instanceof DOMRect)return y(t);var n=(0,a.Ql)(e);n?y(n.getBoundingClientRect()):r&&y(new DOMRect)}return d(e,g),(0,c.useEffect)((function(){return i&&window.addEventListener("resize",g,{passive:!0}),l&&window.addEventListener("scroll",g,{passive:!0}),function(){window.removeEventListener("resize",g),window.removeEventListener("scroll",g)}}),[i,l]),(0,c.useEffect)((function(){m&&g()}),[]),[v,g]}},76932:(e,t,n)=>{n.d(t,{Or:()=>u,_6:()=>l});var r=n(33744),o=n(27709),i=n(29127),a=n(3664),c=n(67294);function s(e){return function(t){var n=(0,a.d)(t);(0,c.useEffect)((function(){var t=e.subscribe((function(e){return n.current(e)}));return function(){return t.unsubscribe()}}),[])}}var l=s((0,r.R)(window,"keydown",{passive:!0,capture:!0}).pipe((0,o.B)({resetOnRefCountZero:!0}))),u=(s((0,r.R)(window,"keyup",{passive:!0,capture:!0}).pipe((0,o.B)({resetOnRefCountZero:!0}))),s((0,r.R)(window,"scroll",{passive:!0,capture:!0}).pipe((0,o.B)({resetOnRefCountZero:!0}))),s((0,r.R)(window,"resize",{passive:!0,capture:!0}).pipe((0,o.B)({resetOnRefCountZero:!0}))),(0,r.R)(document,"visibilitychange",{passive:!0}).pipe((0,o.B)({resetOnRefCountZero:!0}),(0,i.U)((function(){return"hidden"!==document.visibilityState}))));s(u)},28235:(e,t,n)=>{n.d(t,{CG:()=>a,IN:()=>s,TL:()=>i,aQ:()=>c});var r=n(56262),o=n(96974),i=r.I0,a=r.v9,c=o.s0,s=o.TH},36331:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){return"object"!==r(e)||null===e||"[object Object]"!==Object.prototype.toString.call(e)?e:Object.prototype.hasOwnProperty.call(e,"current")?e.current:e}function i(e){return Array.isArray(e)?e.map(o):[o(e)]}n.d(t,{PW:()=>i,Ql:()=>o})},73387:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(82452),o=n(5551);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const s=function(e,t){var n=i((0,r.L)((function(){return{accept:o.JT.ITEM,drop:t,canDrop:function(t){if(null===e)return!0;var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(t.data);try{for(r.s();!(n=r.n()).done;){var o=n.value;if("folder"===o.itemType){var i=o.parentID||o.folderID;if(e.folderID===i||e.folderID===o.id)return!1}else if(e.folderID===o.folderID)return!1}}catch(e){r.e(e)}finally{r.f()}return!0},collect:function(e){return{isOver:!!e.isOver()&&e.canDrop()}}}})),2);return[n[0].isOver,n[1]]}},32250:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(67294);function o(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}},30817:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>o});var r=n(96974);function o(){return new URLSearchParams((0,r.TH)().search)}const i=o},33789:(e,t,n)=>{n.d(t,{Q:()=>i});var r=n(3664),o=n(67294);function i(e,t){var n=(0,o.useRef)(!1),i=(0,r.d)(e);n.current||t&&(i.current(),n.current=!0)}},58429:(e,t,n)=>{n.d(t,{Y:()=>i,Z:()=>a});var r=n(67294),o=n(36331);function i(e,t,n,i,a){var c=(0,r.useRef)(null),s=(0,r.useRef)(null);function l(n){i&&n.forEach((function(n){n.intersectionRatio>0&&!e&&!t&&i()}))}return(0,r.useEffect)((function(){var e,t=(0,o.Ql)(s);if(t){var n={root:null!==(e=(0,o.Ql)(a))&&void 0!==e?e:c.current,rootMargin:"0px 0px 200px 0px",threshold:.1},r=new IntersectionObserver(l,n);return r.observe(t),function(){return r.disconnect()}}})),[c,s]}const a=i},94458:(e,t,n)=>{n.d(t,{r:()=>j});var r=n(67294);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function a(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function c(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,l(e,t,"get"))}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,l(e,t,"set"),n),n}function l(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var d=Symbol("VueRef Raw Symbol"),f=Symbol("VueRef Symbol");function m(e,t){return!Object.is(e,t)}function h(e){var t=e&&e[d];return t?h(t):e}function p(e,t){return null===(n=e)||"object"!==u(n)?e:new Proxy(e,{get:function(e,t,n){return t===d?e:Reflect.get(e,t,n)},set:function(e,n,r,o){var i=Reflect.get(e,n,o),a=Reflect.set(e,n,r,o);return m(i,r)&&a&&t(),a}});var n}var v=new WeakMap,y=new WeakMap,g=new WeakMap,b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,v,{writable:!0,value:void 0}),a(this,y,{writable:!0,value:void 0}),a(this,g,{writable:!0,value:void 0}),function(e,t,n){(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,f,!0),s(this,v,h(t)),s(this,g,n),s(this,y,p(t,n))}var t,n,r;return t=e,(n=[{key:"value",get:function(){return c(this,y)},set:function(e){m(e,c(this,v))&&(s(this,v,e),s(this,y,p(e,c(this,g))),c(this,g).call(this))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){return!0===(null==(n=e)?void 0:n[f])?e:new b(e,t);var n}function j(e){var t=function(){var e=(0,r.useState)()[1];return function(){return e({})}}();return(0,r.useMemo)((function(){return w(e,t)}),[])}},83417:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(67294);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1],i=o((0,r.useState)(!1),2),a=i[0],c=i[1];return[t,n,function(){n(!1)},a,c]}},20722:(e,t,n)=>{n.d(t,{vU:()=>f,sc:()=>u,DK:()=>l,wD:()=>d,WZ:()=>h});n(11947);var r,o=n(38648),i=n(47481),a=n(85893),c=(r=0,function(){return++r});function s(e,t){return(0,a.jsxs)("div",{className:"cus-message",children:[(0,a.jsx)("span",{className:"msg",children:e}),t&&(0,a.jsx)("div",{className:"actions",children:t.map((function(e){return(0,a.jsx)("div",{className:"action-btn",onClick:e.action,children:e.name},e.name)}))})]})}function l(){return u({msg:"Working..."})}function u(e){var t=e.msg,n=e.buttons,r=e.type,l=c();return o.Z.open({key:l+"",message:s(t,n),placement:"bottomLeft",className:"cus-notification ".concat("error"===r?"error":""),closeIcon:(0,a.jsx)(i.Tw,{}),duration:"error"===r?5:null}),l}function d(e,t){var n=t.msg,r=t.buttons,c=t.type;o.Z.open({key:e+"",message:s(n,r),placement:"bottomLeft",className:"cus-notification ".concat("error"===c?"error":""),closeIcon:(0,a.jsx)(i.Tw,{}),duration:"error"===c?5:1})}function f(e){o.Z.close(e+"")}function m(e,t){var n=t.okMsg,r=t.workingMsg,o=void 0===r?"Working...":r,i=t.errMsg;return new Promise((function(t,r){var a=u({msg:o});e.then((function(e){n&&d(a,{msg:"function"==typeof n?n(e):n}),t(e)})).catch((function(e){i&&d(a,{type:"error",msg:"function"==typeof i?i(e):i}),r(e)}))}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"function"==typeof e?function(){return m(e.apply(void 0,arguments),t)}:e instanceof Promise?m(e,t):void 0}},82841:(e,t,n)=>{n.d(t,{KU:()=>s,PW:()=>d,Yy:()=>u,sf:()=>l,yl:()=>f});var r=n(20573);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){var t,n;return"team"===(null===(t=e.user.premium)||void 0===t||null===(n=t.currentPlan)||void 0===n?void 0:n.PlanName.toLowerCase())},l=function(e,t){var n;return((null===(n=e.destination)||void 0===n?void 0:n.destinations)||[]).filter((function(e){return e.service===t}))},u=function(e){return(e.connectedAccount.accounts||[]).filter((function(e){return["dropbox","googleDrive","box"].includes(e.service)}))},d=function(e){return(e.connectedAccount.accounts||[]).filter((function(e){return!["dropbox","googleDrive","box"].includes(e.service)}))},f=function(e,t){var n;return(null===(n=e.video.videos)||void 0===n?void 0:n[t])||{}},m=function(e,t){return t.some((function(t){return t.id===e}))},h=(0,r.P1)([function(e){return e.multipleSelect.selectedTrashItems},function(e){return e.trash.itemIDList},function(e){return e.trash.trashItems}],(function(e,t,n){return t.map((function(t){return a(a({},n[t]),{},{checked:m(t,e)})}))}));(0,r.P1)([h],(function(e){return e.filter((function(e){return"folder"===e.itemTypeName}))})),(0,r.P1)([h],(function(e){return e.filter((function(e){return"folder"!==e.itemTypeName}))}))},32195:(e,t,n)=>{n.d(t,{D:()=>s,q:()=>l});var r=n(20573),o=n(47481),i=n(85893),a=function(e){return e.folder.folders},c=function e(t,n,r){t.forEach((function(t){n[t.folderID]&&"0"!==t.folderID&&(t.children=n[t.folderID].map((function(e,n){return{title:r[e].name,key:t.key+"-"+n,folderID:r[e].folderID,icon:function(e){return e.expanded?(0,i.jsx)(o.Hf,{}):(0,i.jsx)(o.RO,{})}}})),e(t.children,n,r))}))},s=(0,r.P1)([a,function(e){return e.folder.folderIDList}],(function(e,t){return function(e,t){var n=[],r={},a=function(n){r[n]=[],t[n].forEach((function(t){r[n].push(e[t])}))};for(var s in t)a(s);return r[0]||(r[0]=[]),r[0].unshift({name:"My Items",folderID:"0"}),r[0].forEach((function(e,t){n.push({title:e.name,key:""+t,folderID:e.folderID,icon:function(e){return e.expanded?(0,i.jsx)(o.Hf,{}):(0,i.jsx)(o.RO,{})}})})),c(n,t,e),n}(e,t)})),l=(0,r.P1)([a,function(e){return e.folder.starredFolderIDList}],(function(e,t){return t.filter((function(t){return void 0!==e[t]}))}))},3721:(e,t,n)=>{var r;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!e)throw"First parameter is required.";t=new a(e,t=t||{type:"video"});var n=this;function r(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var r=new s(e,t);(f=new r(e,t)).record(),d("recording"),t.disableLogs}function o(e){if(e=e||function(){},f){if("paused"===n.state)return n.resumeRecording(),void setTimeout((function(){o(e)}),1);"recording"!==n.state&&t.disableLogs,t.disableLogs,"gif"!==t.type?f.stop(r):(f.stop(),r()),d("stopped")}else m();function r(r){if(f){Object.keys(f).forEach((function(e){"function"!=typeof f[e]&&(n[e]=f[e])}));var o=f.blob;if(!o){if(!r)throw"Recording failed.";f.blob=o=r}if(o&&t.disableLogs,e){var i;try{i=p.createObjectURL(o)}catch(e){}"function"==typeof e.call?e.call(n,i):e(i)}t.autoWriteToDisk&&l((function(e){var n={};n[t.type+"Blob"]=e,L.Store(n)}))}else"function"==typeof e.call?e.call(n,""):e("")}}function c(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(e,n){if(!e)throw"Pass a callback function over getDataURL.";var r=n?n.blob:(f||{}).blob;if(!r)return t.disableLogs,void setTimeout((function(){l(e,n)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var o=new FileReader;o.readAsDataURL(r),o.onload=function(t){e(t.target.result)}}else{var i=function(e){try{var t=p.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return p.revokeObjectURL(t),n}catch(e){}}(c);i.onmessage=function(t){e(t.data)},i.postMessage(r)}}function u(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?o(n.onRecordingStopped):(e+=1e3,setTimeout((function(){u(e)}),1e3))):setTimeout((function(){u(e)}),1e3)}function d(e){n&&(n.state=e,"function"==typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var f;t.type;function m(){t.disableLogs}var h={startRecording:function(o){return t.disableLogs,o&&(t=new a(e,o)),t.disableLogs,f?(f.clearRecordedData(),f.record(),d("recording"),n.recordingDuration&&u(),n):(r((function(){n.recordingDuration&&u()})),n)},stopRecording:o,pauseRecording:function(){f?"recording"===n.state?(d("paused"),f.pause(),t.disableLogs):t.disableLogs:m()},resumeRecording:function(){f?"paused"===n.state?(d("recording"),f.resume(),t.disableLogs):t.disableLogs:m()},initRecorder:r,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){f?(f.clearRecordedData(),t.disableLogs):m()},getBlob:function(){if(f)return f.blob;m()},getDataURL:l,toURL:function(){if(f)return p.createObjectURL(f.blob);m()},getInternalRecorder:function(){return f},save:function(e){f?S(f.blob,e):m()},getFromDisk:function(e){f?i.getFromDisk(t.type,e):m()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,r=0;r<n;r++)t.advertisement.push({duration:r,image:e[r]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"===n.state&&t.disableLogs,f&&"function"==typeof f.clearRecordedData&&f.clearRecordedData(),f=null,d("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),d("destroyed"),h=n=null,N.AudioContextConstructor&&(N.AudioContextConstructor.close(),N.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs},version:"5.5.9"};if(!this)return n=h,h;for(var v in h)this[v]=h[v];return n=this,h}function a(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===k||t.recorderType===P||t.recorderType===Z?t.type="video":t.recorderType===_?t.type="gif":t.recorderType===C?t.type="audio":t.recorderType===A&&(O(e,"audio").length&&O(e,"video").length||!O(e,"audio").length&&O(e,"video").length?t.type="video":O(e,"audio").length&&!O(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function s(e,t){var n;return(b||v||y)&&(n=C),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!b&&(n=A),"video"===t.type&&(b||y)&&(n=k,"undefined"!=typeof ReadableStream&&(n=Z)),"gif"===t.type&&(n=_),"canvas"===t.type&&(n=P),D()&&n!==P&&n!==_&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(O(e,"video").length||O(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=A):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=A)),e instanceof Array&&e.length&&(n=M),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name,!n&&w&&(n=A),n}function l(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,r=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&D()&&!O(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&D()&&!O(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&D()&&!O(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new i(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:r.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var o=e;if(D()&&n.audio&&"function"==typeof n.audio){var a=O(e,"video")[0];g?((o=new j).addTrack(a),t&&t===k&&(t=A)):(o=new j).addTrack(a)}this.videoRecorder=new i(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var c=this,s=!0===D();(n.audio instanceof C&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(s=!1),!0===s?(c.audioRecorder=null,c.videoRecorder.startRecording()):c.videoRecorder.initRecorder((function(){c.audioRecorder.initRecorder((function(){c.videoRecorder.startRecording(),c.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new i(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=p.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),r=new Worker(n);if(void 0!==p)t=p;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(r){t(n.video,(function(t){e({audio:r,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){i.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}i.version="5.5.9",e.exports=i,void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r),i.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";L.Fetch((function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))}))},i.writeToDisk=function(e){(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){L.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){L.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){L.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){L.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){L.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){L.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){L.Store({gifBlob:e})}))},l.getFromDisk=i.getFromDisk,l.writeToDisk=i.writeToDisk,i.MRecordRTC=l;var u;(u=void 0!==n.g?n.g:null)&&"undefined"==typeof window&&void 0!==n.g&&(n.g.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},n.g.console||(n.g.console={}),void 0!==n.g.console.log&&void 0!==n.g.console.error||(n.g.console.error=n.g.console.log=n.g.console.log||function(){}),"undefined"==typeof document&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},u.HTMLVideoElement=function(){}),"undefined"==typeof location&&(u.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(u.screen={width:0,height:0}),void 0===p&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=n.g);var d=window.requestAnimationFrame;if(void 0===d)if("undefined"!=typeof webkitRequestAnimationFrame)d=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)d=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)d=msRequestAnimationFrame;else if(void 0===d){var f=0;d=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-f)),o=setTimeout((function(){e(n+r)}),r);return f=n+r,o}}var m=window.cancelAnimationFrame;void 0===m&&("undefined"!=typeof webkitCancelAnimationFrame?m=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?m=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?m=msCancelAnimationFrame:void 0===m&&(m=function(e){clearTimeout(e)}));var h=window.AudioContext;void 0===h&&("undefined"!=typeof webkitAudioContext&&(h=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(h=mozAudioContext));var p=window.URL;void 0===p&&"undefined"!=typeof webkitURL&&(p=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var v=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),y=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),g=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),b=!y&&!v&&!!navigator.webkitGetUserMedia||I()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),w=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);w&&!b&&-1!==navigator.userAgent.indexOf("CriOS")&&(w=!1,b=!0);var j=window.MediaStream;function x(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function S(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var i=document.createElement("a");i.href=p.createObjectURL(e),i.download=o,i.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(i),"function"==typeof i.click?i.click():(i.target="_blank",i.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),p.revokeObjectURL(i.href)}function I(){return"undefined"!=typeof window&&"object"===o(window.process)&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!==o(process.versions)||!process.versions.electron)||"object"===("undefined"==typeof navigator?"undefined":o(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function O(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function E(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===j&&"undefined"!=typeof webkitMediaStream&&(j=webkitMediaStream),void 0!==j&&void 0===j.prototype.stop&&(j.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),i.invokeSaveAsDialog=S,i.getTracks=O,i.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,r=new EBML.Decoder,o=EBML.tools,i=new FileReader;i.onload=function(e){r.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var i=o.makeMetadataSeekable(n.metadatas,n.duration,n.cues),a=this.result.slice(n.metadataSize),c=new Blob([i,a],{type:"video/webm"});t(c)},i.readAsArrayBuffer(e)},i.bytesToSize=x,i.isElectron=I;var N={};function D(){if(g||w||v)return!0;navigator.appVersion;var e,t,n=navigator.userAgent,r=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return(b||y)&&(e=n.indexOf("Chrome"),r=n.substring(e+7)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),o=parseInt(""+r,10),Number.isNaN(o)&&(r=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),o>=49}function A(e,t){var n=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var r;if(O(e,"video").length&&O(e,"audio").length)navigator.mozGetUserMedia?(r=new j).addTrack(O(e,"audio")[0]):r=new j(O(e,"audio")),e=r;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=b?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var o,i=[];function a(){n.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function c(e){return o&&o.mimeType?o.mimeType:e.mimeType||"video/webm"}function s(){i=[],o=null,n.timestamps=[]}this.getArrayOfBlobs=function(){return i},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],l=[],i=[];var r=t;t.disableLogs,o&&(o=null),b&&!D()&&(r="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&r.mimeType&&(MediaRecorder.isTypeSupported(r.mimeType)||(t.disableLogs,r.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{o=new MediaRecorder(e,r),t.mimeType=r.mimeType}catch(t){o=new MediaRecorder(e)}r.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in o&&!1===o.canRecordMimeType(r.mimeType)&&t.disableLogs,o.ondataavailable=function(e){if(e.data&&l.push("ondataavailable: "+x(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:c(r)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:c(r)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&e.data.size>0&&(i.push(e.data),a(),"function"==typeof t.ondataavailable)){var o=t.getNativeBlob?e.data:new Blob([e.data],{type:c(r)});t.ondataavailable(o)}},o.onstart=function(){l.push("started")},o.onpause=function(){l.push("paused")},o.onresume=function(){l.push("resumed")},o.onstop=function(){l.push("stopped")},o.onerror=function(e){e&&(e.name||(e.name="UnknownError"),l.push("error: "+e),t.disableLogs||-1!==e.name.toString().toLowerCase().indexOf("invalidstate")||-1!==e.name.toString().toLowerCase().indexOf("notsupported")||-1!==e.name.toString().toLowerCase().indexOf("security")||"OutOfMemory"===e.name||"IllegalStreamModification"===e.name||"OtherRecordingError"===e.name||e.name,function(e){if(!n.manuallyStopped&&o&&"inactive"===o.state)return delete t.timeslice,void o.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==o.state&&"stopped"!==o.state&&o.stop())},"number"==typeof t.timeSlice?(a(),o.start(t.timeSlice)):o.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,o&&(this.recordingCallback=e,"recording"===o.state&&o.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){n.blob=new Blob(i,{type:c(t)}),n.recordingCallback(n.blob)}),100))},this.pause=function(){o&&"recording"===o.state&&o.pause()},this.resume=function(){o&&"paused"===o.state&&o.resume()},this.clearRecordedData=function(){o&&"recording"===o.state&&n.stop(s),s()},this.getInternalRecorder=function(){return o},this.blob=null,this.getState=function(){return o&&o.state||"inactive"};var l=[];this.getAllStates=function(){return l},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);n=this;!function r(){if(o&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs,void n.stop()):void setTimeout(r,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function C(e,t){if(!O(e,"audio").length)throw"Your stream has no audio tracks.";var n,r=this,o=[],i=[],a=!1,c=0,s=2,l=(t=t||{}).desiredSampRate;function u(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function d(e,t){function n(e,t){var n,r=e.numberOfAudioChannels,o=e.leftBuffers.slice(0),i=e.rightBuffers.slice(0),a=e.sampleRate,c=e.internalInterleavedLength,s=e.desiredSampRate;function l(e,t,n){var r=Math.round(e.length*(t/n)),o=[],i=Number((e.length-1)/(r-1));o[0]=e[0];for(var a=1;a<r-1;a++){var c=a*i,s=Number(Math.floor(c)).toFixed(),l=Number(Math.ceil(c)).toFixed(),d=c-s;o[a]=u(e[s],e[l],d)}return o[r-1]=e[e.length-1],o}function u(e,t,n){return e+(t-e)*n}function d(e,t){for(var n=new Float64Array(t),r=0,o=e.length,i=0;i<o;i++){var a=e[i];n.set(a,r),r+=a.length}return n}function f(e,t,n){for(var r=n.length,o=0;o<r;o++)e.setUint8(t+o,n.charCodeAt(o))}2===r&&(o=d(o,c),i=d(i,c),s&&(o=l(o,s,a),i=l(i,s,a))),1===r&&(o=d(o,c),s&&(o=l(o,s,a))),s&&(a=s),2===r&&(n=function(e,t){for(var n=e.length+t.length,r=new Float64Array(n),o=0,i=0;i<n;)r[i++]=e[o],r[i++]=t[o],o++;return r}(o,i)),1===r&&(n=o);var m=n.length,h=new ArrayBuffer(44+2*m),p=new DataView(h);f(p,0,"RIFF"),p.setUint32(4,36+2*m,!0),f(p,8,"WAVE"),f(p,12,"fmt "),p.setUint32(16,16,!0),p.setUint16(20,1,!0),p.setUint16(22,r,!0),p.setUint32(24,a,!0),p.setUint32(28,2*a,!0),p.setUint16(32,2*r,!0),p.setUint16(34,16,!0),f(p,36,"data"),p.setUint32(40,2*m,!0);for(var v=m,y=44,g=0;g<v;g++)p.setInt16(y,32767*n[g],!0),y+=2;if(t)return t({buffer:h,view:p});postMessage({buffer:h,view:p})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var r,o,i,a=(r=n,o=p.createObjectURL(new Blob([r.toString(),";this.onmessage =  function (eee) {"+r.name+"(eee.data);}"],{type:"application/javascript"})),(i=new Worker(o)).workerURL=o,i);a.onmessage=function(e){t(e.data.buffer,e.data.view),p.revokeObjectURL(a.workerURL),a.terminate()},a.postMessage(e)}}if(!0===t.leftChannel&&(s=1),1===t.numberOfAudioChannels&&(s=1),(!s||s<1)&&(s=2),t.disableLogs,void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===u())throw"Please make sure MediaStream is active.";b(),j=g=!1,a=!0,void 0!==t.timeSlice&&S()},this.stop=function(e){e=e||function(){},a=!1,d({desiredSampRate:l,sampleRate:y,numberOfAudioChannels:s,internalInterleavedLength:c,leftBuffers:o,rightBuffers:1===s?[]:i,noWorker:t.noWorker},(function(t,n){r.blob=new Blob([n],{type:"audio/wav"}),r.buffer=new ArrayBuffer(n.buffer.byteLength),r.view=n,r.sampleRate=l||y,r.bufferSize=v,r.length=c,j=!1,e&&e(r.blob)}))},void 0===f)var f={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext};f.AudioContextConstructor||(f.AudioContextConstructor=new f.AudioContext);var m=f.AudioContextConstructor,h=m.createMediaStreamSource(e),v=void 0===t.bufferSize?4096:t.bufferSize;if(-1===[0,256,512,1024,2048,4096,8192,16384].indexOf(v)&&t.disableLogs,m.createJavaScriptNode)n=m.createJavaScriptNode(v,s,s);else{if(!m.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=m.createScriptProcessor(v,s,s)}h.connect(n),t.bufferSize||(v=n.bufferSize);var y=void 0!==t.sampleRate?t.sampleRate:m.sampleRate||44100;(y<22050||y>96e3)&&t.disableLogs,t.disableLogs||t.desiredSampRate;var g=!1;function b(){o=[],i=[],c=0,j=!1,a=!1,g=!1,m=null,r.leftchannel=o,r.rightchannel=i,r.numberOfAudioChannels=s,r.desiredSampRate=l,r.sampleRate=y,r.recordingLength=c,x={left:[],right:[],recordingLength:0}}function w(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),h&&(h.disconnect(),h=null),b()}this.pause=function(){g=!0},this.resume=function(){if(!1===u())throw"Please make sure MediaStream is active.";if(!a)return t.disableLogs,void this.record();g=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,a&&this.stop(w),w()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var j=!1;n.onaudioprocess=function(e){if(!g)if(!1===u()&&(t.disableLogs,n.disconnect(),a=!1),a){j||(j=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var l=e.inputBuffer.getChannelData(0),d=new Float32Array(l);if(o.push(d),2===s){var f=e.inputBuffer.getChannelData(1),m=new Float32Array(f);i.push(m)}c+=v,r.recordingLength=c,void 0!==t.timeSlice&&(x.recordingLength+=v,x.left.push(d),2===s&&x.right.push(m))}else h&&(h.disconnect(),h=null)},m.createMediaStreamDestination?n.connect(m.createMediaStreamDestination()):n.connect(m.destination),this.leftchannel=o,this.rightchannel=i,this.numberOfAudioChannels=s,this.desiredSampRate=l,this.sampleRate=y,r.recordingLength=c;var x={left:[],right:[],recordingLength:0};function S(){a&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(x.left.length?(d({desiredSampRate:l,sampleRate:y,numberOfAudioChannels:s,internalInterleavedLength:x.recordingLength,leftBuffers:x.left,rightBuffers:1===s?[]:x.right},(function(e,n){var r=new Blob([n],{type:"audio/wav"});t.ondataavailable(r),setTimeout(S,t.timeSlice)})),x={left:[],right:[],recordingLength:0}):setTimeout(S,t.timeSlice))}}function P(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var r,o,i,a=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),c=50,s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(a&&s&&s[2]&&(c=parseInt(s[2],10)),a&&c<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs,e instanceof HTMLCanvasElement)r=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";r=e.canvas}else navigator.mozGetUserMedia&&t.disableLogs;this.record=function(){if(i=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in r?e=r.captureStream(25):"mozCaptureStream"in r?e=r.mozCaptureStream(25):"webkitCaptureStream"in r&&(e=r.webkitCaptureStream(25));try{var a=new j;a.addTrack(O(e,"video")[0]),e=a}catch(e){}if(!e)throw"captureStream API are NOT available.";(o=new A(e,{mimeType:t.mimeType||"video/webm"})).record()}else m.frames=[],f=(new Date).getTime(),d();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var r=m.frames.length;m.frames.forEach((function(e,n){var o=r-n;t.disableLogs,t.onEncodingCallback&&t.onEncodingCallback(o,r);var i=e.image.toDataURL("image/webp",1);m.frames[n].image=i})),t.disableLogs,n()}else n()},this.stop=function(e){i=!1;var r=this;n&&o?o.stop(e):this.getWebPImages((function(){m.compile((function(n){t.disableLogs,r.blob=n,r.blob.forEach&&(r.blob=new Blob([],{type:"video/webm"})),e&&e(r.blob),m.frames=[]}))}))};var l=!1;function u(){m.frames=[],i=!1,l=!1}function d(){if(l)return f=(new Date).getTime(),setTimeout(d,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-f;return f=(new Date).getTime(),m.frames.push({image:(r=document.createElement("canvas"),o=r.getContext("2d"),r.width=e.width,r.height=e.height,o.drawImage(e,0,0),r),duration:n}),void(i&&setTimeout(d,t.frameInterval))}var r,o;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-f;if(!n)return setTimeout(d,t.frameInterval);f=(new Date).getTime(),m.frames.push({image:e.toDataURL("image/webp",1),duration:n}),i&&setTimeout(d,t.frameInterval)}})}this.pause=function(){l=!0,o instanceof A&&o.pause()},this.resume=function(){l=!1,o instanceof A?o.resume():i||this.record()},this.clearRecordedData=function(){i&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var f=(new Date).getTime(),m=new T.Video(100)}function k(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-s;return t?i?(s=(new Date).getTime(),setTimeout(n,100)):(s=(new Date).getTime(),c.paused&&c.play(),d.drawImage(c,0,0,u.width,u.height),l.frames.push({duration:t,image:u.toDataURL("image/webp")}),void(o||setTimeout(n,e,e))):setTimeout(n,e,e)}function r(e,t,n,r,o){var i=document.createElement("canvas");i.width=u.width,i.height=u.height;var a,c,s,l=i.getContext("2d"),d=[],f=-1===t,m=t&&t>0&&t<=e.length?t:e.length,h=0,p=0,v=0,y=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),g=n&&n>=0&&n<=1?n:0,b=r&&r>=0&&r<=1?r:0,w=!1;c=-1,s=(a={length:m,functionToLoop:function(t,n){var r,o,i,a=function(){!w&&i-r<=i*b||(f&&(w=!0),d.push(e[n])),t()};if(w)a();else{var c=new Image;c.onload=function(){l.drawImage(c,0,0,u.width,u.height);var e=l.getImageData(0,0,u.width,u.height);r=0,o=e.data.length,i=e.data.length/4;for(var t=0;t<o;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-h,2)+Math.pow(n.g-p,2)+Math.pow(n.b-v,2))<=y*g&&r++}a()},c.src=e[n].image}},callback:function(){(d=d.concat(e.slice(m))).length<=0&&d.push(e[e.length-1]),o(d)}}).length,function e(){++c!==s?setTimeout((function(){a.functionToLoop(e,c)}),1):a.callback()}()}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs,this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),u.width=t.canvas.width||320,u.height=t.canvas.height||240,d=u.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(c=t.video.cloneNode(),t.initCallback&&t.initCallback()):(c=document.createElement("video"),E(e,c),c.onloadedmetadata=function(){t.initCallback&&t.initCallback()},c.width=t.video.width,c.height=t.video.height),c.muted=!0,c.play(),s=(new Date).getTime(),l=new T.Video,t.disableLogs,n(t.frameInterval)};var o=!1;this.stop=function(e){e=e||function(){},o=!0;var n=this;setTimeout((function(){r(l.frames,-1,null,null,(function(r){l.frames=r,t.advertisement&&t.advertisement.length&&(l.frames=t.advertisement.concat(l.frames)),l.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var i=!1;function a(){l.frames=[],o=!0,i=!1}this.pause=function(){i=!0},this.resume=function(){i=!1,o&&this.record()},this.clearRecordedData=function(){o||this.stop(a),a()},this.name="WhammyRecorder",this.toString=function(){return this.name};var c,s,l,u=document.createElement("canvas"),d=u.getContext("2d")}void 0!==h?N.AudioContext=h:"undefined"!=typeof webkitAudioContext&&(N.AudioContext=webkitAudioContext),i.Storage=N,i.MediaStreamRecorder=A,i.StereoAudioRecorder=C,i.CanvasRecorder=P,i.WhammyRecorder=k;var T=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function i(e){for(var t=[],a=0;a<e.length;a++){var c=e[a].data;"object"===o(c)&&(c=i(c)),"number"==typeof c&&(c=r(c.toString(2))),"string"==typeof c&&(c=new Uint8Array(c.split("").map((function(e){return e.charCodeAt(0)}))));var s=c.size||c.byteLength||c.length,l=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),u=s.toString(2),d=new Array(7*l+7+1-u.length).join("0")+u,f=new Array(l).join("0")+"1"+d;t.push(n(e[a].id)),t.push(r(f)),t.push(c)}return new Blob(t,{type:"video/webm"})}function a(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function s(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),o=a(e,t),i=e.substr(t+4+4,o);t+=8+o,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(s(i)):n[r].push(i)}return n}var l=new function(e){var n=function(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,r=e[0].duration,o=1;o<e.length;o++)r+=e[o].duration;return{duration:r,width:t,height:n}}(e);if(!n)return[];for(var r,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(r=n.duration,[].slice.call(new Uint8Array(new Float64Array([r]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],a=0,c=0;a<e.length;){var s=[],l=0;do{s.push(e[a]),l+=e[a].duration,a++}while(a<e.length&&l<3e4);var u={id:524531317,data:t(c,0,s)};o[1].data.push(u),c+=l}return i(o)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),r=0,o=[];r<4;r++)o[r]=t.charCodeAt(n+3+r);return{width:16383&(c[1]<<8|c[0]),height:16383&(c[3]<<8|c[2]),data:t,riff:e}}(s(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(l)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,r,o,i=(n=t,r=p.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),o=new Worker(r),p.revokeObjectURL(r),o);i.onmessage=function(t){t.data.error||e(t.data)},i.postMessage(this.frames)},{Video:e}}();i.Whammy=T;var L={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),r=indexedDB.open(n,1);r.onerror=e.onError,r.onsuccess=function(){((t=r.result).onerror=e.onError,t.setVersion)?1!==t.version?t.setVersion(1).onsuccess=function(){o(t),i()}:i():i()},r.onupgradeneeded=function(e){o(e.target.result)}}function o(t){t.createObjectStore(e.dataStoreName)}function i(){var n=t.transaction([e.dataStoreName],"readwrite");function r(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),r("audioBlob"),r("videoBlob"),r("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){},dataStoreName:"recordRTC",dbName:null};function _(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var r=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&s?(r||(t.width||(t.width=l.offsetWidth||320),t.height||(t.height=l.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,l.width=t.video.width||320,l.height=t.video.height||240),(f=new GIFEncoder).setRepeat(0),f.setDelay(t.frameRate||200),f.setQuality(t.quality||10),f.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),h=d((function e(n){if(!0!==p.clearedRecordedData){if(i)return setTimeout((function(){e(n)}),100);h=d(e),void 0===o(u)&&(u=n),n-u<90||(!r&&l.paused&&l.play(),r||c.drawImage(l,0,0,a.width,a.height),t.onGifPreview&&t.onGifPreview(a.toDataURL("image/png")),f.addFrame(c),u=n)}})),t.initCallback&&t.initCallback()):setTimeout(p.record,1e3)},this.stop=function(e){e=e||function(){},h&&m(h),Date.now(),this.blob=new Blob([new Uint8Array(f.stream().bin)],{type:"image/gif"}),e(this.blob),f.stream().bin=[]};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.clearRecordedData=function(){p.clearedRecordedData=!0,f&&(f.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),c=a.getContext("2d");r&&(e instanceof CanvasRenderingContext2D?a=(c=e).canvas:e instanceof HTMLCanvasElement&&(c=e.getContext("2d"),a=e));var s=!0;if(!r){var l=document.createElement("video");l.muted=!0,l.autoplay=!0,s=!1,l.onloadedmetadata=function(){s=!0},E(e,l),l.play()}var u,f,h=null,p=this}function R(e,t){void 0!==n.g&&n.g,t=t||"multi-streams-mixer";var r=[],o=!1,i=document.createElement("canvas"),a=i.getContext("2d");i.style.opacity=0,i.style.position="absolute",i.style.zIndex=-1,i.style.top="-1000em",i.style.left="-1000em",i.className=t,(document.body||document.documentElement).appendChild(i),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var c=this,s=window.AudioContext;void 0===s&&("undefined"!=typeof webkitAudioContext&&(s=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(s=mozAudioContext));var l=window.URL;void 0===l&&"undefined"!=typeof webkitURL&&(l=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var u=window.MediaStream;void 0===u&&"undefined"!=typeof webkitMediaStream&&(u=webkitMediaStream),void 0!==u&&void 0===u.prototype.stop&&(u.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var d={};function f(){if(!o){var e=r.length,t=!1,n=[];if(r.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)i.width=t.stream.width,i.height=t.stream.height;else if(n.length){i.width=e>1?2*n[0].width:n[0].width;var a=1;3!==e&&4!==e||(a=2),5!==e&&6!==e||(a=3),7!==e&&8!==e||(a=4),9!==e&&10!==e||(a=5),i.height=n[0].height*a}else i.width=c.width||360,i.height=c.height||240;t&&t instanceof HTMLVideoElement&&m(t),n.forEach((function(e,t){m(e,t)})),setTimeout(f,c.frameInterval)}}function m(e,t){if(!o){var n=0,r=0,i=e.width,c=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),4===t&&(r=2*e.height),5===t&&(n=e.width,r=2*e.height),6===t&&(r=3*e.height),7===t&&(n=e.width,r=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(r=e.stream.top),void 0!==e.stream.width&&(i=e.stream.width),void 0!==e.stream.height&&(c=e.stream.height),a.drawImage(e,n,r,i,c),"function"==typeof e.stream.onRender&&e.stream.onRender(a,n,r,i,c,t)}}function h(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||c.width||360,n.height=e.height||c.height||240,n.play(),n}function p(t){r=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=h(e);t.stream=e,r.push(t)}}))}void 0!==s?d.AudioContext=s:"undefined"!=typeof webkitAudioContext&&(d.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){f()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var n=new u;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var o=h(t);o.stream=t,r.push(o),n.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var i=c.audioContext.createMediaStreamSource(t);c.audioDestination=c.audioContext.createMediaStreamDestination(),i.connect(c.audioDestination),n.addTrack(c.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(n)}))},this.releaseStreams=function(){r=[],o=!0,c.gainNode&&(c.gainNode.disconnect(),c.gainNode=null),c.audioSources.length&&(c.audioSources.forEach((function(e){e.disconnect()})),c.audioSources=[]),c.audioDestination&&(c.audioDestination.disconnect(),c.audioDestination=null),c.audioContext&&c.audioContext.close(),c.audioContext=null,a.clearRect(0,0,i.width,i.height),i.stream&&(i.stream.stop(),i.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),p(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){o=!1;var t=function(){var e;p(),"captureStream"in i?e=i.captureStream():"mozCaptureStream"in i?e=i.mozCaptureStream():c.disableLogs;var t=new u;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),i.stream=t,t}(),n=function(){d.AudioContextConstructor||(d.AudioContextConstructor=new d.AudioContext);c.audioContext=d.AudioContextConstructor,c.audioSources=[],!0===c.useGainNode&&(c.gainNode=c.audioContext.createGain(),c.gainNode.connect(c.audioContext.destination),c.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=c.audioContext.createMediaStreamSource(e);!0===c.useGainNode&&n.connect(c.gainNode),c.audioSources.push(n)}})),!t)return;return c.audioDestination=c.audioContext.createMediaStreamDestination(),c.audioSources.forEach((function(e){e.connect(c.audioDestination)})),c.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}}function M(e,t){e=e||[];var n,r,o=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var o;n=new R(e,t.elementClass||"multi-streams-mixer"),(o=[],e.forEach((function(e){O(e,"video").forEach((function(e){o.push(e)}))})),o).length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(r=new A(n.getMixedStream(),t)).record()},this.stop=function(e){r&&r.stop((function(t){o.blob=t,e(t),o.clearRecordedData()}))},this.pause=function(){r&&r.pause()},this.resume=function(){r&&r.resume()},this.clearRecordedData=function(){r&&(r.clearRecordedData(),r=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(o){if(!o)throw"First parameter is required.";o instanceof Array||(o=[o]),e.concat(o),r&&n&&(n.appendStreams(o),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function Z(e,t){function n(){return new ReadableStream({start:function(n){var r=document.createElement("canvas"),o=document.createElement("video");o.srcObject=e,o.onplaying=function(){r.width=t.width,r.height=t.height;var e=r.getContext("2d"),i=1e3/t.frameRate;setTimeout((function r(){e.drawImage(o,0,0),n.enqueue(e.getImageData(0,0,t.width,t.height)),setTimeout(r,i)}),i)},o.play()}})}var r,o;function i(e,c){if(t.workerPath||c){if(!t.workerPath&&c instanceof ArrayBuffer){var s=new Blob([c],{type:"text/javascript"});t.workerPath=p.createObjectURL(s)}t.workerPath,(r=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),r.addEventListener("message",(function(e){"READY"===e.data?(r.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:!0}),n().pipeTo(new WritableStream({write:function(e){r&&r.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(o||a.push(e.data))}))}else fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){i(e,t)}))}))}(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,this.record=function(){a=[],o=!1,this.blob=null,i(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){o=!0},this.resume=function(){o=!1};var a=[];this.stop=function(e){r&&(r.postMessage(null),r.terminate(),r=null),this.blob=new Blob(a,{type:"video/webm"}),e(this.blob)},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){a=[],o=!1,this.blob=null},this.blob=null}i.DiskStorage=L,i.GifRecorder=_,i.MultiStreamRecorder=M,i.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new i(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(e){t(e)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(r){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(r):t("Empty blob.",n.blob)}))}catch(e){t(e)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(e){t(e)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(e){t(e)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(e){t(e)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(e){t(e)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(e){t(e)}}))},this.reset=function(){return new Promise((function(e,t){try{e(n.recordRTC.reset())}catch(e){t(e)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(n.recordRTC.destroy())}catch(e){t(e)}}))},this.getState=function(){return new Promise((function(e,t){try{e(n.recordRTC.getState())}catch(e){t(e)}}))},this.blob=null,this.version="5.5.9"},i.WebAssemblyRecorder=Z},62344:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(4976),o={ws:"wss",domain:"www.awesomescreenshot.com",cookie:"awesomescreenshot.com"};function i(e){this.active=!0,this.URL=o.ws+"://"+o.domain+"/websocket2/video/open",this.socket=null,this.status="unconnected",this.sentQueue=[],this.willSendQueue=[],this.willSendQueueLength=0,this.currentSendId=1,this.currentSentRespId=0,this.option=e,this.retryCount=0,this.retryTimeout=null,this.videoURI="",this.sid="",this.paused=!1,this.lock=!1,this.videoName=null,this.needReconnect=!0,this.lastOnLine=!0,this.isPaused=!1,this.uploadSucceed=!1,this.testPercent=30,this.shouldRedirect=!0,this.updateForceReconnect=!1,this.retryFailed=!1,this.isNetworkError=!1,this.recoverTime=0}o.domain=document.domain,i.prototype.isCompleted=function(){return this.videoURI&&this.videoURI.length>0&&this.uploadSucceed},i.prototype.pauseIt=function(){this.isPaused=!0,this.pause()},i.prototype.recoverConnect=function(){var e=this;(e.retryFailed||"unconnected"==this.status)&&!e.uploadSucceed&&e.isNetworkError&&Date.now()-e.recoverTime>5e3&&(e.retryCount=0,e.recoverTime=Date.now(),e.reConnect())},i.prototype.resumeIt=function(){this.isPaused=!1,this.reConnect()},i.prototype.connect=function(){var e=this;e.retryTimeout&&clearTimeout(e.retryTimeout),e.retryTimeout=null,e.socket=new WebSocket(e.URL+"?time="+(new Date).getTime()+(e.sid?"&sid="+e.sid:"")),e.socket.binaryType="blob",e.socket.onopen=function(){e.status="connected",e.retryFailed=!1,e.isNetworkError=!1;var t=e.option.token,n=e.option.uid;if(e.videoName)e.socket.send(JSON.stringify({type:"recover",videoName:e.videoName,token:t,userID:n}));else{var r={type:"init",title:e.option.videoName,token:t,userID:n,extra:{userAgent:navigator.userAgent,client:e.option.client,screenSize:window.screen.width+"*"+window.screen.height,extVersion:e.option.version,recordType:e.option.recordType}};"vp8"!==e.option.videoCodec&&(r.videoCodec=e.option.videoCodec),e.option.workspaceID&&e.option.workspaceID.length>0&&e.option.channelID&&e.option.channelID.length>0?(r.workspaceID=e.option.workspaceID,r.channelID=e.option.channelID,e.option.channelFolderID&&e.option.channelFolderID.length>0&&(r.channelFolderID=e.option.channelFolderID)):e.option.folderID&&e.option.folderID.length>0&&(r.folderID=e.option.folderID),e.socket.send(JSON.stringify(r))}},e.socket.onclose=function(t){e.status="unconnected",!e.isPaused&&e.needReconnect&&e.reConnect(),e.needReconnect||(e.needReconnect=!0),e.uploadSucceed&&e.videoURI&&e.videoURI.length>0&&e.shouldRedirect&&e.option.goToItem},e.socket.onerror=function(t){e.isNetworkError=!0},e.socket.onmessage=function(t){if(t.data){var n=JSON.parse(t.data);if("slice"===n.type){var r=e.sentQueue.findIndex((function(e){return e.id===Number(n.id)}));e.currentSentRespId=Number(n.id),e.sentQueue.splice(r,1)}else"init"===n.type?("1"===n.status?(e.videoURI=n.videoURI,e.videoID=n.videoID,e.sid=n.sid,e.videoName=n.videoName,e.option&&e.option.onopen()):(e.option&&e.option.serverError(n.message),e.needReconnect=!1),e.testPercent=30,e.retryCount=0):"recover"===n.type?("1"===n.status?((e.isPaused||e.paused)&&(e.paused=!1,e.active),e.sentQueue.length<=0?e.sendWillsend():e.resendSent(Number(n.id))):"2"===n.status||("true"===n.close?e.completeOperation():(e.active&&e.option&&e.option.onFailed(),e.needReconnect=!1)),e.retryCount=0):"complete"===n.type&&e.completeOperation()}}},i.prototype.completeOperation=function(){this.needReconnect=!1,this.sentQueue=[],this.willSendQueue=[],this.uploadSucceed=!0,this.option&&this.option.onComplete(),this.close(1e3)},i.prototype.uploadRate=function(){var e=this.currentSentRespId,t=this.willSendQueue.length,n=e/(this.currentSendId-1+t);return t>0&&(this.updateForceReconnect?(this.updateForceReconnect=!1,this.reConnect()):"connected"!==this.status||this.active||this.sentQueue.length<=0&&this.sendWillsend()),Math.floor(100*n)},i.prototype.reConnect=function(){var e=this;e.status="reconnecting",e.socket=null,e.retryCount<5?(0===e.retryCount?e.connect():setTimeout((function(){e.connect()}),2500),e.retryCount++):(e.retryFailed=!0,e.needReconnect=!1,e.active,e.handleError(),e.retryCount=1,e.updateForceReconnect=!0)},i.prototype.complete=function(){var e=this;window.navigator.onLine?"connected"===e.status?(e.socket.send(JSON.stringify({type:"complete",videoName:this.videoName})),e.sentQueue.push({type:"complete",videoName:this.videoName})):e.sentQueue.length<=0&&e.willSendQueue.length<=0?i.httpComplete(e.videoName).then((function(t){1===t.code?e.active&&(localStorage.video_need_complete=""):(e.sentQueue=[],e.willSendQueue=[])})):(e.isPaused&&(e.updateForceReconnect=!0),e.willSendQueue.push(JSON.stringify({type:"complete",videoName:this.videoName}))):(e.isPaused&&(e.updateForceReconnect=!0),e.willSendQueue.push(JSON.stringify({type:"complete",videoName:this.videoName}))),e.active=!1},i.prototype.pause=function(){"connected"===this.status&&(this.socket.send(JSON.stringify({type:"pause",videoName:this.videoName})),localStorage.video_need_complete=this.videoName)},i.prototype.close=function(e){e=e||1e3,this.socket&&(this.socket.close(e),this.status="unconnected",this.socket=null)},i.prototype.sendWillsend=function(){var e=this;e.willSendQueueLength=e.willSendQueue.length;var t=e.willSendQueue.slice();e.willSendQueue=[],t.forEach((function(t){e.send(t)}))},i.prototype.resendSent=function(e){if(!this.lock){var t=this;t.lock=!0;var n=[];t.sentQueue.forEach((function(r){r.id?r.id>e&&(t.send(r.data,!0),n.push(r)):"complete"===r.type&&(t.socket.send(JSON.stringify(r)),n.push(r))})),t.sentQueue=n,t.lock=!1}},i.prototype.checkData=function(){this.sentQueue.length;this.willSendQueue.length>150&&this.handleError()},i.prototype.cancel=function(){var e={type:"cancel"};this.videoName&&(e.videoName=this.videoName),1===this.socket.readyState&&this.socket.send(JSON.stringify(e))},i.prototype.send=function(e,t){var n=this;!n.lastOnLine&&window.navigator.onLine,"connected"!==n.status?n.willSendQueue.push(e):t?window.navigator.onLine?n.socket.send(e):n.willSendQueue.unshift(e):window.navigator.onLine&&!0!==this.lock?0!==this.willSendQueue.length?(n.willSendQueue.push(e),n.sendWillsend()):(n.sentQueue.push({id:n.currentSendId,data:e}),n.socket.send(e),n.currentSendId++):(window.navigator.onLine,n.willSendQueue.push(e)),n.lastOnLine=window.navigator.onLine,n.checkData()},i.prototype.handleError=function(){this.needReconnect=!0,!this.isPaused&&this.active&&(!this.videoURI||this.videoURI.length<=0?this.option.serverError("Invalid network, please try it later!"):this.option.connectError()),this.pauseIt(),this.paused=!0},i.httpComplete=function(e,t){return(0,r.c$2)(e,t)}},88091:(e,t,n)=>{n.d(t,{eK:()=>f,i7:()=>i,pp:()=>r,vU:()=>o});var r="undefined"!=typeof ClipboardItem,o=/Firefox/i.test(navigator.userAgent),i=/Chrome/i.test(navigator.userAgent),a=/Safari/i.test(navigator.userAgent)&&!i,c=/Edg/i.test(navigator.userAgent),s=i?"Chrome":c?"Edge":a?"Safari":o?"Firefox":"Other",l={Chrome:65535,Edge:65535,Firefox:32767,Safari:4194303,Other:32767}[s],u={Chrome:65535,Edge:65535,Firefox:32767,Safari:8388607,Other:32767}[s],d={Chrome:268435456,Edge:268435456,Firefox:124992400,Safari:268435456,Other:124992400}[s];function f(e,t){return!(e>l)&&(!(t>u)&&!(e*t>d))}},14981:(e,t,n)=>{function r(e,t){if(!navigator.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(navigator.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator)),navigator.enumerateDevices){var n=[],r=[],o=[],i=[],a=[],c=[];navigator.enumerateDevices((function(t){t.forEach((function(e){var t,s={};for(var l in e)s[l]=e[l];n.forEach((function(e){e.deviceId===s.deviceId&&(t=!0)})),t||("audio"===s.kind&&(s.kind="audioinput"),"video"===s.kind&&(s.kind="videoinput"),s.deviceId||(s.deviceId=s.id),s.id||(s.id=s.deviceId),"audioinput"!==s.kind&&"audio"!==s.kind||i.push(s),"audiooutput"===s.kind&&a.push(s),"videoinput"!==s.kind&&"video"!==s.kind||c.push(s),-1!==s.kind.indexOf("audio")&&r.push(s),-1!==s.kind.indexOf("video")&&o.push(s),n.push(s))})),e&&e({allMediaDevices:n,allVideoDevices:o,allAudioDevices:r,videoInputDevices:c,audioInputDevices:i,audioOutputDevices:a})}))}else t&&t(null,"Neither navigator.mediaDevices.enumerateDevices NOR MediaStreamTrack.getSources are available.")}function o(e){return e.filter((function(e,t,n){return""!==e.label&&n.findIndex((function(t){return t.deviceId===e.deviceId}))===t}))}n.d(t,{D:()=>r,P:()=>o}),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)})},67618:(e,t,n)=>{n.d(t,{Ad:()=>P,Ah:()=>C,C2:()=>xe,CH:()=>ie,Cz:()=>G,D3:()=>le,DU:()=>be,D_:()=>E,Di:()=>z,EY:()=>Oe,Er:()=>we,Hu:()=>fe,I1:()=>je,IT:()=>oe,IY:()=>de,Jp:()=>ue,LB:()=>R,LQ:()=>Ne,MP:()=>_,MW:()=>A,OT:()=>N,QF:()=>Ee,Sg:()=>ge,VL:()=>ce,X8:()=>Ie,ZQ:()=>ve,ZX:()=>Y,Zf:()=>he,_v:()=>Se,ab:()=>H,bw:()=>pe,fm:()=>T,fr:()=>I,jg:()=>W,kf:()=>O,nH:()=>V,nV:()=>M,ol:()=>se,p6:()=>L,pd:()=>ee,qc:()=>K,sI:()=>F,sZ:()=>Q,uM:()=>q,vA:()=>ye,ve:()=>re,wD:()=>me,y3:()=>ae,z7:()=>B,zB:()=>k,zp:()=>Z,zs:()=>D});n(47386);var r=n(48889),o=(n(50626),n(48086)),i=n(50308),a=n.n(i),c=n(27484),s=n.n(c),l=n(40705),u=n.n(l),d=n(28374),f=n(4976),m=n(88091);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new N(o||[]);return r(a,"_invoke",{value:x(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==t&&n.call(y,i)&&(p=y);var b=h.prototype=f.prototype=Object.create(p);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(r,i,a,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==S(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,c,"next",e)}function c(e){j(i,r,o,a,c,"throw",e)}a(void 0)}))}}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function I(e){}function O(e){}function E(){return u()({start:new Date,ran:Math.random()}).substring(0,8)}function N(e){return e&&"object"===S(e)?u()(e):""}function D(e){return JSON.parse(JSON.stringify(e))}function A(e){var t=e/12;return Math.floor(t)===t?t:t.toFixed(2)}function C(e){window.open(e)}function P(e,t){var n=document.createElement("img");n.onload=function(){null==t||t({width:n.width,height:n.height},n)};var r=new FileReader;r.onload=function(e){var t;n.src=null===(t=e.target)||void 0===t?void 0:t.result},r.readAsDataURL(e)}function k(e,t,n,r,o,i){var a=new Image,c=(new XMLSerializer).serializeToString(e),s=null;n>=0&&n<=2&&(s=document.querySelector("#dropshadow-".concat(n)));var l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'.concat(t.x," ").concat(t.y," ").concat(t.width," ").concat(t.height,'" width="').concat(t.width,'" height="').concat(t.height,'">');s&&(l+=s.outerHTML),l+=c,l+="</svg>";var u="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(l)));a.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(a,0,0,t.width,t.height),e.toBlob(i,o,.8)},a.src=u}function T(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function L(e){var t=s()(1e3*e);return s()(t).format("lll")}function _(e){return s()(e).format("ll")}function R(){return!!document.querySelector("#aws-chrome-installed")}function M(e){"undefined"!=typeof gtag&&gtag("event","install extension from "+e||0,{event_category:"install extenison"});var t="";t=/Edg/.test(window.navigator.userAgent)?"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo":"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj",window.open(t,"Install Awesome Screenshot")}function Z(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.top="-999999px",document.body.append(t),t.select(),document.execCommand("copy"),t.remove()}function F(e,t){return U.apply(this,arguments)}function U(){return(U=x(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var o=[],i=document.createElement("img");i.crossOrigin="anonymous",i.onload=function(){var r=i.height,a=i.width;if(r>n){for(var c=Math.ceil(r/n),s=r%n,l=0;l<c;l++){var u=document.createElement("canvas"),d=u.getContext("2d");u.width=a;var f=void 0,m=void 0;f=m=u.height=l!==c-1?n:s,d.drawImage(i,0,n*l,a,f,0,0,a,m),o.push(u.toDataURL())}e(o)}else e([t])},i.onerror=function(e){return r(e)},i.src=t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){function t(){return(t=x(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){return e({ele:r,height:r.height,width:r.width})},r.onerror=r.onabort=function(){return n(t)},r.src=t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=e.map((function(e){return function(e){return t.apply(this,arguments)}(e)}));return Promise.all(n)}function G(e,t){var n=document.createElement("a"),r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.setAttribute("href",e.toString()),n.setAttribute("download",t),n.rel="noopener",n.dispatchEvent(r)}function V(e){var t=Math.floor(e/3600);return(t>0?t+":":"")+Math.floor(e%3600/60)+":"+(e%60+"").padStart(2,"0")}function B(e){e=Math.floor(Number(e));var t=Math.floor(e/3600);return(t>0?t+":":"")+(Math.floor(e%3600/60)+"").padStart(2,"0")+":"+(e%60+"").padStart(2,"0")}function W(e){if("transparent"===e)return"0000000";var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);return t?(+t[1]).toString(16).padStart(2,"0")+(+t[2]).toString(16).padStart(2,"0")+(+t[3]).toString(16).padStart(2,"0"):e}function z(e){if(e&&e.toLocaleLowerCase().startsWith("rgba")){var t=e.split("(")[1].split(")")[0].split(",");return"rgb("+t[0]+","+t[1]+","+t[2]+")"}return e}function K(e){if(!e||e<=0)return"00:00";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=(Math.floor(e%60)+"").padStart(2,"0");return"".concat(t>0?t+":":"").concat(n,":").concat(r)}function Y(e){if(!e||e<=0)return"00:00.0";e=(0,d.NM)(e,1);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=(0,d.NM)(e%60,1);return e=r.toString(),r<10&&(e="0"+e),r==Math.floor(r)&&(e+=".0"),n<10&&(n="0"+n),(t>0?t+":":"")+n+":"+e}function Q(e){return e&&"string"==typeof e?e.split(":").reduce((function(e,t){return 60*+e+parseFloat(t)})):0}function q(e){return J.apply(this,arguments)}function J(){return(J=x(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=document.createElement("canvas"),o=document.createElement("img"),i=r.getContext("2d");if(!i)throw new Error("Canvas Context lost.");var a=new AbortController;o.addEventListener("load",(function(){if(a.abort(),!(0,m.eK)(this.naturalWidth,this.naturalHeight))return n(new Error("Too large"));r.width=this.naturalWidth,r.height=this.naturalHeight,i.drawImage(this,0,0),r.toBlob((function(t){if(!t)return n(new Error("convert canvas to bolb failed"));e(navigator.clipboard.write([new ClipboardItem(v({},t.type,t))]))}),"image/png")}),{signal:a.signal}),o.addEventListener("error",(function(e){a.abort(),n(e)}),{signal:a.signal}),o.crossOrigin="anonymous",o.src=t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,n){return new Promise((function(r){if(e){var o,i=t.paddingSize||0,a="mac"===t.borderType?"mac":"win",c="web"==n?"/static/images/":"./images/",s=c+a+"-header-left.png",l=c+a+"-header-center.png",u=c+a+"-header-right.png",d=e.width;H([s,l,u]).then((function(n){var c=e.getContext("2d"),s=i;if(o=d-t.left-t.right-2*i,n.forEach((function(e,n){var a;1===n?a=o:0===n?a=t.left:2===n&&(a=t.right),c.drawImage(e.ele,0,0,e.width,e.height,s,i,a,t.height),s+=a,2===n&&r(void 0)})),t.url)if(c.font=13*window.devicePixelRatio+"px Arial",c.fillStyle="#000000",c.measureText(t.url).width>o){var l=function(e,t,n){for(var r=t.split(""),o=r[0],i=1;i<r.length;i++){var a=r[i];if(!(e.measureText(o+" "+a).width<n))break;o+=a}return o+"..."}(c,t.url,o);c.fillText(l,140*window.devicePixelRatio+i,("mac"===a?66:70)*window.devicePixelRatio+i)}else c.fillText(t.url,140*window.devicePixelRatio+i,("mac"===a?66:70)*window.devicePixelRatio+i);if(t.captureTime){c.font=12*window.devicePixelRatio+"px sans-serif",c.fillStyle="#000000";var u=c.measureText(t.captureTime).width,f=d-i-10*window.devicePixelRatio-u,m="mac"===a?34*window.devicePixelRatio+i:39*window.devicePixelRatio+i;c.fillText(t.captureTime,f,m)}}))}}))}function $(e,t,n){if("url"in t){var r=e.getContext("2d"),o="url_top"==t.borderType?0:n,i=t.paddingSize?t.paddingSize:0,a=e.width-20-2*i,c="Captured at: "+t.captureTime+(t.url&&t.url.length?"  URL: "+t.url:""),s="single",l=40;if(r.font="bold 24px Arial",r.measureText(c).width>a){s="multiple";var u=ne(r,"URL:"+t.url,a);l=40*(u.length+1)}if(r.fillStyle="#000000",r.fillRect(i,o+i,e.width-2*i,l),r.restore(),r.fillStyle="#ffffff",r.textBaseline="top",r.strokeStyle="#ffffff",r.font="bold 24px Arial","single"===s)r.fillText(c,12+i,8+o+i);else{r.fillText("Captured at:"+t.captureTime,12+i,8+o+i);for(var d=0;d<u.length;d++)r.fillText(u[d],12+i,8+40*(d+1)+o+i)}}}function ee(e,t,n){return te.apply(this,arguments)}function te(){return(te=x(g().mark((function e(t,n,r){var o,i,a,c,s,l,u,d,f,m;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=document.createElement("canvas"),i=o.getContext("2d"),a=n.height,c=n.width,s=0,l=0,u=0,d=null,f=n.border.borderType,n.border.paddingSize>0&&(s=n.border.paddingSize,d=n.border.paddingColor,l+=s,u+=s,a+=2*s,c+=2*s),o.width=c,f&&(a+=n.border.height,o.height=a,"url_bottom"!==f&&(u+=n.border.height)),o.height=a,d&&(i.save(),i.fillStyle=d,i.fillRect(0,0,o.width,o.height),i.restore(),s>0&&(i.shadowOffsetX=4*window.devicePixelRatio,i.shadowOffsetY=4*window.devicePixelRatio,i.shadowBlur=4*window.devicePixelRatio,i.shadowColor="rgba(0,0,0,.15)")),m=URL.createObjectURL(t),e.abrupt("return",new Promise((function(e,t){var a="png"===localStorage.format?"image/png":"image/jpeg";new Promise((function(e){e("mac"===f||"windows"===f?X(o,n.border,r):$(o,n.border,n.height))})).then((function(){var n=document.createElement("img");n.onload=function(){i.drawImage(n,l,u),o.toBlob(e,a,1)},n.onerror=t,n.src=m}))})));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n){n-=10;for(var r=t.split(""),o=[],i=r[0],a=1;a<r.length;a++){var c=r[a];e.measureText(i+" "+c).width<n?i+=c:(o.push(i),i=c)}return o.push(i),o}var re=function(e,t,n){var r=document.getElementById(e);if(!r){var o=document.createElement("script");o.src=t,o.id=e,document.body.appendChild(o),o.onload=n||null}r&&(null==n||n())};function oe(){var e;return-1!==["video_close_limit","video_reach_limit","videoNotify","video-alert","video-play","ext_pop_video_limit","new-banner-video","uploadVideo","web-recorder-tip","video-edit-alert"].indexOf((e="from",new URLSearchParams(window.location.search).get(e)||""))}function ie(e,t){if(!e)return t;var n=e.replace(/\\/g,""),r=new RegExp(n,"ig");return t.replace(r,"<b>$&</b>")}function ae(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}var ce=function(e,t,n){return n.some((function(n){return n.id===e&&n.itemType===t}))};function se(e){var t=document.createElement("div");return null!=t.textContent?t.textContent=e:t.innerText=e,t.innerHTML}function le(e,t,n){var r="",o=t+n;if(e&&!o)r=e>1?"Folders":"Folder";else if(!e&&o)r=o>1?"Items":"Item";else if(e&&o){r=(e>1?"Folders":"Folder")+" and "+(o>1?"items":"item")}return r}function ue(e,t){var n=e.findIndex((function(e){return e===t}));-1!==n&&e.splice(n,1)}function de(e,t){for(;e&&e!==document;){if(e.matches(t))return!0;e=e.parentNode}return!1}var fe=function(e){var t=1e3*e;return(new Date).getTime()-t>6048e5?new Date(t).getFullYear()!==(new Date).getFullYear()?s()(t).format("MMM D"):s()(t).format("ll"):s()(t).fromNow()},me=function(e,t){return t.some((function(t){return t.id===e.id&&t.itemType===e.itemType}))};function he(e){function t(t){(0,f.qcI)(t.credential).then((function(){e()})).catch(a())}var n=document.querySelector("#google-gsi-script");if(n)Reflect.get(window,"google")?(google.accounts.id.initialize({client_id:"250015934524-rld4lndtv5m706jd1dpg4ie0jic7vqbt.apps.googleusercontent.com",cancel_on_tap_outside:!1,callback:t}),google.accounts.id.prompt()):n.onload=function(){google.accounts.id.initialize({client_id:"250015934524-rld4lndtv5m706jd1dpg4ie0jic7vqbt.apps.googleusercontent.com",cancel_on_tap_outside:!1,callback:t}),google.accounts.id.prompt()};else{var r=document.createElement("script");r.id="google-gsi-script",r.src="https://accounts.google.com/gsi/client",r.onload=function(){google.accounts.id.initialize({client_id:"250015934524-rld4lndtv5m706jd1dpg4ie0jic7vqbt.apps.googleusercontent.com",cancel_on_tap_outside:!1,callback:t}),google.accounts.id.prompt()},document.head.appendChild(r)}}function pe(e){o.ZP.loading({content:"Generating short url...",key:"shorturl",duration:0}),(0,f.HFJ)(e).then((function(e){Z(e.data),o.ZP.success({content:"Copied to clipboard",key:"shorturl"})})).catch((function(e){o.ZP.error({content:e,key:"shorturl"})}))}var ve=function(e,t,n){return[].concat(y(e.slice(0,t)),y(n),y(e.slice(t)))},ye=function(e){return Array.from({length:e},(function(e,t){return t+1}))},ge=function(e){return e.toLocaleString("en-US",{minimumFractionDigits:2})+" USD"};function be(e){return Math.trunc(100*e)}var we=function(e){var t="",n=document.createElement("div");return n.innerHTML=e,n.querySelectorAll("p").forEach((function(e){""!==e.innerText&&(!function(e){e.querySelectorAll(".mention").forEach((function(e){e.classList.replace("mention","mention-user"),e.innerHTML=e.innerText,e.removeAttribute("data-index"),e.removeAttribute("data-denotation-char"),e.removeAttribute("data-value")})),e.querySelectorAll("a").forEach((function(e){e.classList.add("comment-link"),/https?:\/\//.test(e.innerText)||/https?:\/\//.test(e.href)||(e.href="://"+e.href),/https?:\/\//.test(e.innerText)&&/https?:\/\//.test(e.href)&&(e.href=e.innerText)}))}(e),t+=e.innerHTML+"<br />")})),t=t.replaceAll(/"/g,"'")};function je(e,t){"undefined"!=typeof gtag&&gtag("event",e,t)}var xe=new Proxy(Object.create(null),{get:function(e,t){return function(){var e=x(g().mark((function e(n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){r.Z[t](p({onOk:function(){return e(void 0)},onCancel:function(){return n.rejectOnCancel&&o()}},n))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}});function Se(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return new Promise((function(n){return setTimeout((function(){return n(null==t?void 0:t.apply(void 0,r))}),e)}))}function Ie(e,t){var n=e in t?t[e]:t._;return"function"==typeof n?n():n}function Oe(e){var t;return x(g().mark((function n(){var r,o,i,a=arguments;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=a.length,o=new Array(r),i=0;i<r;i++)o[i]=a[i];return n.abrupt("return",new Promise((function(n,r){var i=t=Symbol();e.apply(void 0,o).then((function(e){return t===i&&n(e)}),(function(e){return t===i&&r(e)}))})));case 2:case"end":return n.stop()}}),n)})))}function Ee(e,t){return function(){try{return e().apply(void 0,arguments)}catch(e){if(t)return t()}}}function Ne(e){return"function"==typeof e}},61312:(e,t,n)=>{e.exports=n.p+"images/6e69ef5e3300c58181b8.png"}},e=>{e.O(0,[143],(()=>{e.E(458),e.E(29)}),5);var t=t=>e(e.s=t);e.O(0,[536,810,648,108,896,632],(()=>(t(70019),t(59349))));e.O()}]);